// Automatically generated file.  Do not edit!

'use strict';var b,h={g:{}};h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.h={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.h);
h.ql={};h.Jx=40;h.Zx=125;h.WC=5;h.jD=10;h.Fd=28;h.KC=h.Fd;h.NC=8;h.bp=250;h.Xr=10;h.IC=30;h.PD=750;h.tE=100;h.XC=!0;h.sD=.45;h.tD=.65;h.Gd={width:96,height:124,url:"sprites.png"};h.cb=1;h.uf=2;h.mb=3;h.vf=4;h.Rg=5;h.Rr=-1;h.Qr=0;h.Gk=1;h.wJ=0;h.xJ=1;h.uJ=1;h.vJ=2;h.Uk=[];h.Uk[h.cb]=h.uf;h.Uk[h.uf]=h.cb;h.Uk[h.mb]=h.vf;h.Uk[h.vf]=h.mb;h.Yg=0;h.sj=1;h.ce=2;h.Xg=3;h.gx=null;h.fs=1;h.hx=2;h.bc="VARIABLE";h.JE="VARIABLE_DYNAMIC";h.Fm="PROCEDURE";h.jy="RENAME_VARIABLE_ID";h.ix="DELETE_VARIABLE_ID";h.g.qb={};h.g.qb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.qb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.qb.cw(a,c,d):null};
h.g.qb.cw=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.qb.wA=function(a){a=h.g.qb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.qb.zA=function(a){var c=h.sD,d=255*h.tD,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.qb.cw(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.qb.nt=function(a,c,d){a=h.g.qb.parse(a);if(!a)return null;c=h.g.qb.parse(c);if(!c)return null;a=h.g.qb.wA(a);c=h.g.qb.wA(c);return h.g.qb.cw(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.qb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.S=function(a,c){this.x=a;this.y=c};h.g.S.Ye=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.S.Yt=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.S.vH=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.S.ln=function(a,c){return new h.g.S(a.x-c.x,a.y-c.y)};h.g.S.sum=function(a,c){return new h.g.S(a.x+c.x,a.y+c.y)};h.g.S.prototype.scale=function(a){this.x*=a;this.y*=a;return this};h.g.S.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.gb={};h.g.gb.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.gb.nw=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.gb.sF=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.gb.nw(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.gb.tF=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.gb.nw(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.gb.eC=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.gb.cJ(a[d],c);return a.join("\n")};
h.g.gb.cJ=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.gb.fC(d,a,c);e=h.g.gb.Iw(d,a,c);a=h.g.gb.dJ(d,a);f++}while(e>g);return k};
h.g.gb.Iw=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.gb.fC=function(a,c,d){for(var e=h.g.gb.Iw(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.gb.Iw(a,k,d);l>e&&(e=l,f=k)}return f?h.g.gb.fC(a,f,d):c};h.g.gb.dJ=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.eg=function(a,c){this.width=a;this.height=c};h.g.eg.Ye=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.ph=function(a){if("none"!=h.g.style.jA(a,"display"))return h.g.style.hA(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.eg(g,a)};h.g.style.hA=function(a){return new h.g.eg(a.offsetWidth,a.offsetHeight)};h.g.style.jA=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.tG(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.tG=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.Lj=function(a){var c=new h.g.S(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.S(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.JG=function(){var a=document.body,c=document.documentElement;return new h.g.S(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.hw=function(a,c){a.style.display=c?"":"none"};h.g.style.XL=function(a){return"rtl"==h.g.style.jA(a,"direction")};
h.g.style.qG=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.ew=function(a,c){a=h.g.style.vG(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.vG=function(a,c){var d=h.g.style.Lj(a),e=h.g.style.Lj(c),f=h.g.style.qG(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.hA(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.S(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.sf=c("Trident")||c("MSIE");h.g.userAgent.kj=c("Edge");h.g.userAgent.DD=c("JavaFX");h.g.userAgent.lJ=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.kj;h.g.userAgent.Ey=c("WebKit")&&!h.g.userAgent.kj;h.g.userAgent.oD=c("Gecko")&&!h.g.userAgent.Ey&&!h.g.userAgent.sf&&!h.g.userAgent.kj;h.g.userAgent.lm=c("Android");h.g.userAgent.Ok=c("iPad");h.g.userAgent.Fx=c("iPod");h.g.userAgent.Ex=
c("iPhone")&&!h.g.userAgent.Ok&&!h.g.userAgent.Fx;h.g.userAgent.SD=c("Macintosh");h.g.userAgent.BE=h.g.userAgent.Ok||h.g.userAgent.lm&&!c("Mobile")||c("Silk");h.g.userAgent.bE=!h.g.userAgent.BE&&(h.g.userAgent.Fx||h.g.userAgent.Ex||h.g.userAgent.lm||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.MH=function(a){a.preventDefault();a.stopPropagation()};h.g.Lq=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
h.g.af=function(a){var c=new h.g.S(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.af.ME))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.af.NE))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.An=function(a){for(var c=0,d=0;a;){var e=h.g.af(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.S(c,d)};h.g.af.ME=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.af.NE=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Zj=function(a){return a.ctrlKey&&h.g.userAgent.SD?!0:2==a.button};
h.g.Yn=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.gA=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Jx,y:a.deltaY*h.Jx};case 2:return{x:a.deltaX*h.Zx,y:a.deltaY*h.Zx}}};h.g.MI=function(a){return h.g.xw(a,!0)};h.g.oe=function(a){if("string"!=typeof a)return a;a=h.g.xw(a,!1);return a.length?String(a[0]):""};
h.g.Zy=function(a){for(var c=h.h,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
h.g.xw=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.gb.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.h?(f=h.h[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.xw(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.mh=function(){for(var a=h.g.mh.KB.length,c=[],d=0;20>d;d++)c[d]=h.g.mh.KB.charAt(Math.random()*a);return c.join("")};
h.g.mh.KB="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Uj=function(){if(void 0!==h.g.Uj.xt)return h.g.Uj.xt;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Uj.xt="none"!==c;return h.g.Uj.xt};h.g.FB=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.IG=function(){var a=h.g.style.JG();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
h.g.ft=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.AG=function(){var a=document.documentElement,c=window;return h.g.userAgent.sf&&c.pageYOffset!=a.scrollTop?new h.g.S(a.scrollLeft,a.scrollTop):new h.g.S(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.vu=function(a,c){var d=Object.create(null),e=p(a,!0);c&&(a=t(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.qI=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.S(d-e.left,c-e.top);c=h.g.An(a.jb);return h.g.S.ln(d,c).scale(1/a.scale)};h.g.mr=function(a){var c="string"==typeof a?h.g.oe(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{bH:d,En:h.g.qb.zA(d)};if(d=h.g.qb.parse(c))return{bH:null,En:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.vy="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Mo=null;h.Touch.fg={};
h.g.global.PointerEvent?h.Touch.fg={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.vy&&(h.Touch.fg={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.Pq=0;
h.tH=function(a,c){h.Ii();a.changedTouches&&1!=a.changedTouches.length||(h.Pq=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ba(c,a)},h.PD))};h.Ii=function(){h.Pq&&(clearTimeout(h.Pq),h.Pq=0)};h.Touch.ji=function(){h.Touch.Mo=null};h.Touch.pw=function(a){return!h.Touch.lH(a)||h.Touch.oF(a)};
h.Touch.yq=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.oF=function(a){var c=h.Touch.yq(a);return void 0!==h.Touch.Mo&&null!==h.Touch.Mo?h.Touch.Mo==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Mo=c,!0):!1};
h.Touch.tI=function(a){if(h.g.gb.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.lH=function(a){return h.g.gb.startsWith(a.type,"touch")||h.g.gb.startsWith(a.type,"mouse")||h.g.gb.startsWith(a.type,"pointer")};h.Touch.Nq=function(a){return h.g.gb.startsWith(a.type,"touch")||h.g.gb.startsWith(a.type,"pointer")};
h.Touch.CI=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.g.o={};h.g.o.Lp="http://www.w3.org/2000/svg";h.g.o.Nk="http://www.w3.org/1999/xhtml";h.g.o.zf="http://www.w3.org/1999/xlink";h.g.o.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.o.Bf=null;h.g.o.ut=0;h.g.o.Vp=null;h.g.o.J=function(a,c,d){a=document.createElementNS(h.g.o.Lp,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.o.Wa=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.o.Bb=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};h.g.o.Bq=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
h.g.o.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.o.Tj=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.o.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.o.Node.DOCUMENT_POSITION_CONTAINED_BY)};h.g.o.wo=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.o.Go=function(){h.g.o.ut++;h.g.o.Bf||(h.g.o.Bf={})};
h.g.o.Ho=function(){h.g.o.ut--;h.g.o.ut||(h.g.o.Bf=null)};h.g.o.RL=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.o.Bf&&(d=h.g.o.Bf[c]))return d;try{d=h.g.userAgent.sf||h.g.userAgent.kj?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.o.Bf&&(h.g.o.Bf[c]=d);return d};h.g.o.zu=function(a,c,d,e){return h.g.o.aA(a,c+"pt",d,e)};
h.g.o.aA=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.o.Bf&&(g=h.g.o.Bf[a]))return g;h.g.o.Vp||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.o.Vp=g.getContext("2d"));h.g.o.Vp.font=d+" "+c+" "+e;g=h.g.o.Vp.measureText(f).width;h.g.o.Bf&&(h.g.o.Bf[a]=g);return g};
h.g.o.UA=function(a,c,d,e){var f=document.createElement("span");f.style.font=d+" "+c+" "+e;f.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(f);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Qe=a.offsetTop-f.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-f.offsetTop}finally{document.body.removeChild(c)}return d};
h.$k=function(a){this.s=a;this.cf=new h.Pa(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.nf=new h.Pa(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.an=h.g.o.J("rect",{height:h.Pa.Dc,width:h.Pa.Dc,"class":"blocklyScrollbarBackground"},null);h.g.o.Tj(this.an,a.Sf)};h.$k.prototype.Mb=null;h.$k.prototype.F=function(){h.g.o.removeNode(this.an);this.Mb=this.s=this.an=null;this.cf.F();this.cf=null;this.nf.F();this.nf=null};
h.$k.prototype.resize=function(){var a=this.s.Mc();if(a){var c=!1,d=!1;this.Mb&&this.Mb.rb==a.rb&&this.Mb.Cb==a.Cb&&this.Mb.Jc==a.Jc&&this.Mb.xc==a.xc?(this.Mb&&this.Mb.Ef==a.Ef&&this.Mb.jc==a.jc&&this.Mb.sd==a.sd||(c=!0),this.Mb&&this.Mb.ge==a.ge&&this.Mb.wc==a.wc&&this.Mb.Zc==a.Zc||(d=!0)):d=c=!0;c&&this.cf.resize(a);d&&this.nf.resize(a);this.Mb&&this.Mb.rb==a.rb&&this.Mb.xc==a.xc||this.an.setAttribute("x",this.nf.xd.x);this.Mb&&this.Mb.Cb==a.Cb&&this.Mb.Jc==a.Jc||this.an.setAttribute("y",this.cf.xd.y);
this.Mb=a}};h.$k.prototype.set=function(a,c){var d={};a*=this.cf.Pc;c*=this.nf.Pc;var e=this.nf.lf,f=a/this.cf.lf;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.s.Zl(d);ca(this.cf,a);ca(this.nf,c)};
h.Pa=function(a,c,d,e){this.s=a;this.Rl=d||!1;this.Pj=c;this.Mb=null;this.cn(e);this.xd=new h.g.S(0,0);a=h.Pa.Dc;c?(this.gd.setAttribute("height",a),this.zg.setAttribute("height",a),this.pe.setAttribute("height",a-5),this.pe.setAttribute("y",2.5),this.Qn="width",this.rB="x"):(this.gd.setAttribute("width",a),this.zg.setAttribute("width",a),this.pe.setAttribute("width",a-5),this.pe.setAttribute("x",2.5),this.Qn="height",this.rB="y");this.kB=h.oa(this.gd,"mousedown",this,this.VH);this.lB=h.oa(this.pe,
"mousedown",this,this.WH)};b=h.Pa.prototype;b.Kv=new h.g.S(0,0);b.NB=0;b.lf=0;b.ui=0;b.Dn=0;b.Ah=!0;b.yj=!0;h.Pa.Dc=15;h.Touch.vy&&(h.Pa.Dc=25);h.Pa.wH=function(a,c){return a&&c&&a.rb==c.rb&&a.Cb==c.Cb&&a.jc==c.jc&&a.wc==c.wc&&a.Jc==c.Jc&&a.xc==c.xc&&a.Ef==c.Ef&&a.ge==c.ge&&a.sd==c.sd&&a.Zc==c.Zc?!0:!1};
h.Pa.prototype.F=function(){da();h.La(this.kB);this.kB=null;h.La(this.lB);this.lB=null;h.g.o.removeNode(this.zg);this.gd=this.L=this.zg=null;this.pe&&(this.s.hc.unsubscribe(this.pe),this.pe=null);this.s=null};function ca(a,c){a.Dn=c;a.pe.setAttribute(a.rB,a.Dn)}function ea(a,c){a.lf=c;a.zg.setAttribute(a.Qn,a.lf);a.gd.setAttribute(a.Qn,a.lf)}h.$k.prototype.qk=function(a){this.cf.qk(a);this.nf.qk(a)};
function fa(a,c,d){a.xd.x=c;a.xd.y=d;h.g.o.wo(a.zg,"translate("+(a.xd.x+a.Kv.x)+"px,"+(a.xd.y+a.Kv.y)+"px)")}b=h.Pa.prototype;b.resize=function(a){if(!a&&(a=this.s.Mc(),!a))return;h.Pa.wH(a,this.Mb)||(this.Mb=a,this.Pj?ha(this,a):ja(this,a),ka(this))};function ha(a,c){var d=c.rb-1;a.Rl&&(d-=h.Pa.Dc);ea(a,Math.max(0,d));d=c.xc+.5;a.Rl&&a.s.H&&(d+=h.Pa.Dc);fa(a,d,c.Jc+c.Cb-h.Pa.Dc-.5);la(a,c)}
function la(a,c){a.Rl||a.Jb(a.lf<c.Ef);a.Pc=a.lf/c.Ef;if(-Infinity==a.Pc||Infinity==a.Pc||isNaN(a.Pc))a.Pc=0;a.ui=Math.max(0,c.rb*a.Pc);a.pe.setAttribute(a.Qn,a.ui);ca(a,ma(a,(c.jc-c.sd)*a.Pc))}function ja(a,c){var d=c.Cb-1;a.Rl&&(d-=h.Pa.Dc);ea(a,Math.max(0,d));d=c.xc+.5;a.s.H||(d+=c.rb-h.Pa.Dc-1);fa(a,d,c.Jc+.5);na(a,c)}
function na(a,c){a.Rl||a.Jb(a.lf<c.ge);a.Pc=a.lf/c.ge;if(-Infinity==a.Pc||Infinity==a.Pc||isNaN(a.Pc))a.Pc=0;a.ui=Math.max(0,c.Cb*a.Pc);a.pe.setAttribute(a.Qn,a.ui);ca(a,ma(a,(c.wc-c.Zc)*a.Pc))}
b.cn=function(a){var c="blocklyScrollbar"+(this.Pj?"Horizontal":"Vertical");a&&(c+=" "+a);this.zg=h.g.o.J("svg",{"class":c},null);this.L=h.g.o.J("g",{},this.zg);this.gd=h.g.o.J("rect",{"class":"blocklyScrollbarBackground"},this.L);a=Math.floor((h.Pa.Dc-5)/2);this.pe=h.g.o.J("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.L);this.s.hc.subscribe(this.pe,"scrollbarColour","fill");this.s.hc.subscribe(this.pe,"scrollbarOpacity","fill-opacity");h.g.o.Tj(this.zg,u(this.s))};b.isVisible=function(){return this.Ah};
b.qk=function(a){var c=a!=this.yj;this.yj=a;c&&this.Qo()};b.Jb=function(a){var c=a!=this.isVisible();if(this.Rl)throw Error("Unable to toggle visibility of paired scrollbars.");this.Ah=a;c&&this.Qo()};b.Qo=function(){this.yj&&this.isVisible()?this.zg.setAttribute("display","block"):this.zg.setAttribute("display","none")};
b.VH=function(a){oa(this.s);h.Touch.ji();da();if(h.g.Zj(a))a.stopPropagation();else{var c=h.g.Yn(a,u(this.s),pa(this.s));c=this.Pj?c.x:c.y;var d=h.g.An(this.pe);d=this.Pj?d.x:d.y;var e=this.Dn,f=.95*this.ui;c<=d?e-=f:c>=d+this.ui&&(e+=f);ca(this,ma(this,e));ka(this);a.stopPropagation();a.preventDefault()}};
b.WH=function(a){oa(this.s);da();h.g.Zj(a)?a.stopPropagation():(this.DI=this.Dn,qa(this.s),this.NB=this.Pj?a.clientX:a.clientY,h.Pa.ed=h.oa(document,"mouseup",this,this.$H),h.Pa.Oi=h.oa(document,"mousemove",this,this.XH),a.stopPropagation(),a.preventDefault())};b.XH=function(a){ca(this,ma(this,this.DI+((this.Pj?a.clientX:a.clientY)-this.NB)));ka(this)};b.$H=function(){ra(this.s);h.Touch.ji();da()};function da(){h.Bc(!0);h.Pa.ed&&(h.La(h.Pa.ed),h.Pa.ed=null);h.Pa.Oi&&(h.La(h.Pa.Oi),h.Pa.Oi=null)}
function ma(a,c){return c=0>=c||isNaN(c)||a.lf<a.ui?0:Math.min(c,a.lf-a.ui)}function ka(a){var c=a.Dn/a.lf;isNaN(c)&&(c=0);var d={};a.Pj?d.x=c:d.y=c;a.s.Zl(d)}b.set=function(a){ca(this,ma(this,a*this.Pc));ka(this)};h.g.oc={};h.g.oc.vw=function(a){return a*Math.PI/180};h.g.oc.nM=function(a){return 180*a/Math.PI};h.g.oc.Se=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.i={};h.i.pA="";h.i.Qc=!0;h.i.Ut=0;h.i.lp="create";h.i.$o=h.i.lp;h.i.nm="delete";h.i.Ur=h.i.nm;h.i.ij="change";h.i.yC=h.i.ij;h.i.wm="move";h.i.Vr=h.i.wm;h.i.yy="var_create";h.i.zy="var_delete";h.i.By="var_rename";h.i.Km="ui";h.i.ip="comment_create";h.i.Zw="comment_delete";h.i.Yw="comment_change";h.i.jp="comment_move";h.i.sx="finished_loading";h.i.DC=[h.i.$o,h.i.Vr,h.i.ip,h.i.jp];h.i.pm=[];h.i.Fa=function(a){h.i.isEnabled()&&(h.i.pm.length||setTimeout(h.i.jG,0),h.i.pm.push(a))};
h.i.jG=function(){for(var a=h.i.filter(h.i.pm,!0),c=h.i.pm.length=0,d;d=a[c];c++)if(d.Tb){var e=h.Db.wn(d.Tb);if(e){var f=d;if(f.Qc)for(e.zk.push(f),e.mo.length=0;e.zk.length>e.Lx&&0<=e.Lx;)e.zk.shift();for(var g=0;d=e.Pd[g];g++)d(f)}}};
h.i.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Ml()){var k=[g.type,g.yc,g.Tb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.i.wm&&l.index==f-1)m.ik=g.ik,m.hk=g.hk,m.Mi=g.Mi,l.index=f;else if(g.type==h.i.ij&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=h.i.Km||"click"!=g.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(n){return!n.Ml()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.i.ij&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.i.rF=function(){for(var a=0,c;c=h.i.pm[a];a++)c.Qc=!1};h.i.disable=function(){h.i.Ut++};h.i.enable=function(){h.i.Ut--};h.i.isEnabled=function(){return 0==h.i.Ut};h.i.ac=function(){return h.i.pA};h.i.aa=function(a){h.i.pA="boolean"==typeof a?a?h.g.mh():"":a};
h.i.Yz=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
h.i.za=function(a){switch(a.type){case h.i.lp:var c=new h.i.pf(null);break;case h.i.nm:c=new h.i.Zf(null);break;case h.i.ij:c=new h.i.Th(null,"","","","");break;case h.i.wm:c=new h.i.oj(null);break;case h.i.yy:c=new h.i.Oe(null);break;case h.i.zy:c=new h.i.xf(null);break;case h.i.By:c=new h.i.hg(null,"");break;case h.i.Km:c=new h.i.kc(null,"","","");break;case h.i.ip:c=new h.i.Og(null);break;case h.i.Yw:c=new h.i.Hk(null,"","");break;case h.i.jp:c=new h.i.jj(null);break;case h.i.Zw:c=new h.i.Pg(null);
break;case h.i.sx:c=new h.i.Lk(void 0);break;default:throw Error("Unknown event type.");}c.za(a);c.Tb=(void 0).id;return c};h.i.Cz=function(a){if((a.type==h.i.wm||a.type==h.i.lp)&&a.Tb){var c=h.Db.wn(a.Tb);if(a=c.Kd(a.yc)){var d=a.getParent();if(d&&d.isEnabled())for(c=p(a,!1),a=0;d=c[a];a++)d.Sd(!0);else if((a.K||a.Y)&&!c.nc()){do a.Sd(!1),a=t(a);while(a)}}}};h.g.object={};h.g.object.W=function(a,c){a.A=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.ff=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.vl=function(a,c){for(var d in c)a[d]="object"===typeof c[d]?h.g.object.vl(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};
h.tj=function(a,c,d,e){this.name=a;this.ei=c||Object.create(null);this.Wp=d||Object.create(null);this.dz=e||Object.create(null);this.fontStyle=Object.create(null);this.sw=null};h.tj.prototype.If=function(){return this.name+"-theme"};function sa(a,c){return(c=a.dz[c])&&"string"==typeof propertyValue&&sa(a,c)?sa(a,c):c?String(c):null}
h.tj.MF=function(a,c){var d=new h.tj(a),e=c.base;e&&e instanceof h.tj&&(h.g.object.vl(d,e),d.name=a);h.g.object.vl(d.ei,c.blockStyles);h.g.object.vl(d.Wp,c.categoryStyles);h.g.object.vl(d.dz,c.componentStyles);h.g.object.vl(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.sw=c.startHats);return d};h.Zg={};h.Zg.Uh={};h.Zg.Uh.JF={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.Zg.Uh.Wp={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.Zg.Uh=new h.tj("classic",h.Zg.Uh.JF,h.Zg.Uh.Wp);h.g.Ca={BL:0,iK:3,wC:8,AE:9,rK:12,hs:13,Yk:16,qJ:17,qC:18,dL:19,jJ:20,js:27,tL:32,cL:33,bL:34,zJ:35,aK:36,us:37,Pp:38,Ls:39,pp:40,gL:43,hL:44,qs:45,nm:46,ZERO:48,ONE:49,wL:50,uL:51,VJ:52,UJ:53,rL:54,pL:55,yJ:56,pK:57,SJ:59,QJ:61,PJ:173,RJ:163,iL:63,fJ:64,Lw:65,gJ:66,FC:67,bx:68,E:69,BJ:70,WJ:71,ZJ:72,uD:73,dK:74,ED:75,eK:76,hK:77,oK:78,HK:79,aL:80,Q:81,jL:82,ly:83,zE:84,xL:85,GE:86,Dy:87,Ky:88,DL:89,OE:90,$D:91,CL:92,pJ:93,GK:96,zK:97,FK:98,EK:99,vK:100,uK:101,DK:102,CK:103,tK:104,yK:105,xK:106,BK:107,
wK:109,AK:110,sK:111,CJ:112,GJ:113,HJ:114,IJ:115,JJ:116,KJ:117,LJ:118,MJ:119,NJ:120,DJ:121,EJ:122,FJ:123,qK:144,nL:145,TJ:166,fK:183,oL:186,rJ:189,AJ:187,oJ:188,eL:190,sL:191,eJ:192,vL:192,qL:222,IK:219,hJ:220,mJ:221,AL:224,jK:224,kK:91,lK:93,zL:229,yL:252,fL:255};h.Ma={};h.Ma.Ia={};h.Ma.Ia.ak={};h.Ma.Ia.Ki={Yk:"Shift",MC:"Control",qC:"Alt",$D:"Meta"};h.Ma.Ia.gM=function(a,c){var d=h.Ma.Ia.DG(c);d&&delete h.Ma.Ia.ak[d];h.Ma.Ia.ak[a]=c};h.Ma.Ia.vI=function(a){h.Ma.Ia.ak=a};h.Ma.Ia.QL=function(){var a={};h.g.object.ff(a,h.Ma.Ia.ak);return a};h.Ma.Ia.oG=function(a){return h.Ma.Ia.ak[a]};h.Ma.Ia.DG=function(a){for(var c=Object.keys(h.Ma.Ia.ak),d=0,e;e=c[d];d++)if(h.Ma.Ia.ak[e].name===a.name)return e;return null};
h.Ma.Ia.rI=function(a){for(var c=h.g.object.values(h.Ma.Ia.Ki),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};h.Ma.Ia.mF=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};h.Ma.Ia.dn=function(a,c){var d="",e=h.g.object.values(h.Ma.Ia.Ki);h.Ma.Ia.mF(c,e);for(var f=0,g;g=e[f];f++)-1<c.indexOf(g)&&(d+=g);return d+a};
h.Ma.Ia.zF=function(){var a={},c=h.Ma.Ia.dn(h.g.Ca.ED,[h.Ma.Ia.Ki.MC,h.Ma.Ia.Ki.Yk]),d=h.Ma.Ia.dn(h.g.Ca.Dy,[h.Ma.Ia.Ki.Yk]),e=h.Ma.Ia.dn(h.g.Ca.Lw,[h.Ma.Ia.Ki.Yk]),f=h.Ma.Ia.dn(h.g.Ca.ly,[h.Ma.Ia.Ki.Yk]),g=h.Ma.Ia.dn(h.g.Ca.bx,[h.Ma.Ia.Ki.Yk]);a[h.g.Ca.Dy]=h.navigation.Xo;a[h.g.Ca.Lw]=h.navigation.Nw;a[h.g.Ca.ly]=h.navigation.Wo;a[h.g.Ca.bx]=h.navigation.Mw;a[h.g.Ca.uD]=h.navigation.jC;a[h.g.Ca.hs]=h.navigation.kC;a[h.g.Ca.Ky]=h.navigation.iC;a[h.g.Ca.zE]=h.navigation.pC;a[h.g.Ca.E]=h.navigation.Pr;
a[h.g.Ca.js]=h.navigation.Pr;a[c]=h.navigation.Ow;a[d]=h.navigation.oC;a[e]=h.navigation.mC;a[f]=h.navigation.lC;a[g]=h.navigation.nC;return a};h.i.Abstract=function(){this.Tb=void 0;this.group=h.i.ac();this.Qc=h.i.Qc};h.i.Abstract.prototype.ab=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};h.i.Abstract.prototype.za=function(a){this.group=a.group};h.i.Abstract.prototype.Ml=function(){return!1};h.i.Abstract.prototype.run=function(){};function ta(a){if(a.Tb)var c=h.Db.wn(a.Tb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.xml={};h.g.xml.cE="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.cE,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.JI=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.ze=function(a){return(new XMLSerializer).serializeToString(a)};h.i.Xf=function(a){h.i.Xf.A.constructor.call(this);this.yc=a.id;this.Tb=a.w.id};h.g.object.W(h.i.Xf,h.i.Abstract);h.i.Xf.prototype.ab=function(){var a=h.i.Xf.A.ab.call(this);a.blockId=this.yc;return a};h.i.Xf.prototype.za=function(a){h.i.Xf.A.za.call(this,a);this.yc=a.blockId};h.i.Th=function(a,c,d,e,f){a&&(h.i.Th.A.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};h.g.object.W(h.i.Th,h.i.Xf);h.i.Mg=h.i.Th;b=h.i.Th.prototype;b.type=h.i.ij;
b.ab=function(){var a=h.i.Th.A.ab.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.za=function(a){h.i.Th.A.za.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.Ml=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=ta(this).Kd(this.yc);if(c)switch(c.dd&&c.dd.Jb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=v(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Eg(a||null);break;case "collapsed":c.Jh(!!a);break;case "disabled":c.Sd(!a);break;case "inline":c.Fc(!!a);break;case "mutation":var d="";c.fb&&(d=(d=c.fb())&&h.R.ze(d));if(c.Fb){var e=h.R.bj(a||"<mutation/>");c.Fb(e)}h.i.Fa(new h.i.Th(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.yc)};h.i.pf=function(a){a&&(h.i.pf.A.constructor.call(this,a),this.xml=a.w.na?h.R.qt(a):h.R.gi(a),this.yi=h.i.Yz(a))};h.g.object.W(h.i.pf,h.i.Xf);h.i.fp=h.i.pf;h.i.pf.prototype.type=h.i.lp;h.i.pf.prototype.ab=function(){var a=h.i.pf.A.ab.call(this);a.xml=h.R.ze(this.xml);a.ids=this.yi;return a};
h.i.pf.prototype.za=function(a){h.i.pf.A.za.call(this,a);this.xml=h.R.bj(a.xml);this.yi=a.ids};h.i.pf.prototype.run=function(a){var c=ta(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.R.oi(a,c);else{a=0;for(var d;d=this.yi[a];a++){var e=c.Kd(d);e?e.F(!1):d==this.yc&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.i.Zf=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");h.i.Zf.A.constructor.call(this,a);this.Ev=a.w.na?h.R.qt(a):h.R.gi(a);this.yi=h.i.Yz(a)}};h.g.object.W(h.i.Zf,h.i.Xf);h.i.EC=h.i.Zf;h.i.Zf.prototype.type=h.i.nm;h.i.Zf.prototype.ab=function(){var a=h.i.Zf.A.ab.call(this);a.ids=this.yi;return a};h.i.Zf.prototype.za=function(a){h.i.Zf.A.za.call(this,a);this.yi=a.ids};
h.i.Zf.prototype.run=function(a){var c=ta(this);if(a){a=0;for(var d;d=this.yi[a];a++){var e=c.Kd(d);e?e.F(!1):d==this.yc&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.Ev),h.R.oi(a,c)};h.i.oj=function(a){a&&(h.i.oj.A.constructor.call(this,a),a=ua(this),this.bB=a.oB,this.aB=a.BA,this.Bv=a.kz)};h.g.object.W(h.i.oj,h.i.Xf);h.i.mm=h.i.oj;b=h.i.oj.prototype;b.type=h.i.wm;
b.ab=function(){var a=h.i.oj.A.ab.call(this);this.ik&&(a.newParentId=this.ik);this.hk&&(a.newInputName=this.hk);this.Mi&&(a.newCoordinate=Math.round(this.Mi.x)+","+Math.round(this.Mi.y));return a};b.za=function(a){h.i.oj.A.za.call(this,a);this.ik=a.newParentId;this.hk=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Mi=new h.g.S(Number(a[0]),Number(a[1])))};b.mk=function(){var a=ua(this);this.ik=a.oB;this.hk=a.BA;this.Mi=a.kz};
function ua(a){var c=ta(a).Kd(a.yc);a={};var d=c.getParent();if(d){a.oB=d.id;a:{for(var e=0,f;f=d.O[e];e++)if(f.connection&&f.connection.la()==c){c=f;break a}c=null}c&&(a.BA=c.name)}else a.kz=c.Ua();return a}b.Ml=function(){return this.bB==this.ik&&this.aB==this.hk&&h.g.S.Ye(this.Bv,this.Mi)};
b.run=function(a){var c=ta(this),d=c.Kd(this.yc);if(d){var e=a?this.ik:this.bB,f=a?this.hk:this.aB;a=a?this.Mi:this.Bv;var g=null;if(e&&(g=c.Kd(e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&w(d);if(a)f=d.Ua(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.K||d.Y;if(f){if(c=y(g,f))var k=c.connection}else d.type==h.vf&&(k=g.T);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.yc)};h.i.kc=function(a,c,d,e){h.i.kc.A.constructor.call(this);this.yc=a?a.id:null;this.Tb=a?a.w.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.Qc=!1};h.g.object.W(h.i.kc,h.i.Abstract);h.i.kc.prototype.type=h.i.Km;h.i.kc.prototype.ab=function(){var a=h.i.kc.A.ab.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.yc&&(a.blockId=this.yc);return a};
h.i.kc.prototype.za=function(a){h.i.kc.A.za.call(this,a);this.element=a.element;this.newValue=a.newValue;this.yc=a.blockId};h.i.Lk=function(a){this.Tb=a.id;this.group=h.i.ac();this.Qc=!1};h.g.object.W(h.i.Lk,h.i.kc);h.i.Lk.prototype.type=h.i.sx;h.i.Lk.prototype.ab=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Tb&&(a.workspaceId=this.Tb);return a};h.i.Lk.prototype.za=function(a){this.Tb=a.workspaceId;this.group=a.group};h.i.$g=function(a){h.i.$g.A.constructor.call(this);this.dj=a.xa();this.Tb=a.w.id};h.g.object.W(h.i.$g,h.i.Abstract);h.i.$g.prototype.ab=function(){var a=h.i.$g.A.ab.call(this);a.varId=this.dj;return a};h.i.$g.prototype.za=function(a){h.i.$g.A.ab.call(this);this.dj=a.varId};h.i.Oe=function(a){a&&(h.i.Oe.A.constructor.call(this,a),this.Ck=a.type,this.Bk=a.name)};h.g.object.W(h.i.Oe,h.i.$g);h.i.Oe.prototype.type=h.i.yy;
h.i.Oe.prototype.ab=function(){var a=h.i.Oe.A.ab.call(this);a.varType=this.Ck;a.varName=this.Bk;return a};h.i.Oe.prototype.za=function(a){h.i.Oe.A.za.call(this,a);this.Ck=a.varType;this.Bk=a.varName};h.i.Oe.prototype.run=function(a){var c=ta(this);a?c.We(this.Bk,this.Ck,this.dj):c.kh(this.dj)};h.i.xf=function(a){a&&(h.i.xf.A.constructor.call(this,a),this.Ck=a.type,this.Bk=a.name)};h.g.object.W(h.i.xf,h.i.$g);h.i.xf.prototype.type=h.i.zy;
h.i.xf.prototype.ab=function(){var a=h.i.xf.A.ab.call(this);a.varType=this.Ck;a.varName=this.Bk;return a};h.i.xf.prototype.za=function(a){h.i.xf.A.za.call(this,a);this.Ck=a.varType;this.Bk=a.varName};h.i.xf.prototype.run=function(a){var c=ta(this);a?c.kh(this.dj):c.We(this.Bk,this.Ck,this.dj)};h.i.hg=function(a,c){a&&(h.i.hg.A.constructor.call(this,a),this.Dv=a.name,this.xv=c)};h.g.object.W(h.i.hg,h.i.$g);h.i.hg.prototype.type=h.i.By;
h.i.hg.prototype.ab=function(){var a=h.i.hg.A.ab.call(this);a.oldName=this.Dv;a.newName=this.xv;return a};h.i.hg.prototype.za=function(a){h.i.hg.A.za.call(this,a);this.Dv=a.oldName;this.xv=a.newName};h.i.hg.prototype.run=function(a){var c=ta(this);a?c.Ui(this.dj,this.xv):c.Ui(this.dj,this.Dv)};h.R={};h.R.bJ=function(){var a=A,c=h.g.xml.createElement("xml"),d=h.R.XI(h.V.Py(a));d.hasChildNodes()&&c.appendChild(d);var e=va(a,!0);d=0;for(var f;f=e[d];d++)c.appendChild(f.ww(!0));a=a.lc(!0);for(d=0;e=a[d];d++)c.appendChild(h.R.qt(e,!0));return c};h.R.XI=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.xa();c.appendChild(f)}return c};
h.R.qt=function(a,c){var d;a.w.H&&(d=a.w.sh());c=h.R.gi(a,c);var e=a.Ua();c.setAttribute("x",Math.round(a.w.H?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};h.R.hG=function(a){var c=!1;a.name&&(a.Xk?c=!0:a.qp&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),a.TB(c)):null};
h.R.VE=function(a,c){for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.Ta[f];f++)(g=h.R.hG(g))&&c.appendChild(g)};
h.R.gi=function(a,c){var d=h.g.xml.createElement(a.Va?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.fb){var e=a.fb();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.R.VE(a,d);if(e=a.Ue.text){var f=a.Ue.size,g=a.Ue.Sv,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),
d.appendChild(e));for(f=0;g=a.O[f];f++){var l;k=!0;if(g.type!=h.Rg){var m=g.connection.la();g.type==h.cb?l=h.g.xml.createElement("value"):g.type==h.mb&&(l=h.g.xml.createElement("statement"));e=g.connection.Qf;!e||m&&m.Va||l.appendChild(h.R.az(e,c));m&&(l.appendChild(h.R.gi(m,c)),k=!1);l.setAttribute("name",g.name);k||d.appendChild(l)}}void 0!=a.xh&&a.xh!=a.gH&&d.setAttribute("inline",a.xh);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.De()||a.Va||d.setAttribute("deletable",
!1);a.Nc()||a.Va||d.setAttribute("movable",!1);a.Nd()||d.setAttribute("editable",!1);if(f=t(a))l=h.g.xml.createElement("next"),l.appendChild(h.R.gi(f,c)),d.appendChild(l);e=a.T&&a.T.Qf;!e||f&&f.Va||l.appendChild(h.R.az(e,c));return d};
h.R.az=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.o.Node.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.o.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.o.Node.TEXT_NODE&&""==e.data.trim()&&h.g.o.removeNode(e))}return a};
h.R.ze=function(a){a=h.g.xml.ze(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};h.R.LL=function(a){a=h.R.ze(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
h.R.bj=function(a){var c=h.g.xml.JI(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};h.R.IL=function(a,c){c.Rc(!1);c.clear();a=h.R.oi(a,c);c.Rc(!0);return a};
h.R.oi=function(a,c){if(a instanceof h.Db){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.H&&(e=c.sh());d=[];h.g.o.Go();var f=h.i.ac();f||h.i.aa(!0);c.Rc&&c.Rc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.i.Qc){var q=h.R.Fj(n,c);d.push(q.id);var r=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,x=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(r)||
isNaN(x)||q.moveBy(c.H?e-r:r,x);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.na?h.dl?h.dl.un(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.LE?h.LE.un(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.R.ZF(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.i.aa(!1),h.g.o.Ho()}c.Rc&&c.Rc(!0);h.i.Fa(new h.i.Lk(c));return d};h.R.FL=function(a,c){var d;c.hasOwnProperty("scale")&&(d=wa(c));a=h.R.oi(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.H?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Kd(a[d]).Ua();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.H?f-k:f-g;for(d=0;d<a.length;d++)c.Kd(a[d]).moveBy(f,e)}return a};
h.R.Fj=function(a,c){if(a instanceof h.Db){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.i.disable();d=c.Jj();try{var e=h.R.$t(a,c),f=p(e,!1);if(c.na){xa(e,!1);for(var g=f.length-1;0<=g;g--)f[g].df();for(g=f.length-1;0<=g;g--)f[g].Ba(!1);setTimeout(function(){e.tg||xa(e,!0)},1);ya(e);za(c)}else for(g=f.length-1;0<=g;g--)f[g].Rj()}finally{h.i.enable()}if(h.i.isEnabled()){a=h.V.Wz(c,d);for(g=0;g<a.length;g++)h.i.Fa(new h.i.Oe(a[g]));h.i.Fa(new h.i.fp(e))}return e};
h.R.ZF=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.o.Node.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.We(e.textContent,f,g)}};
h.R.$t=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.Li(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=h.g.o.Node.TEXT_NODE){var l=g=null;var m=0;for(var n;n=k.childNodes[m];m++)n.nodeType==h.g.o.Node.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?g=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!g&&l&&(g=l);n=k.getAttribute("name");m=k;switch(k.nodeName.toLowerCase()){case "mutation":d.Fb&&
(d.Fb(m),d.df&&d.df());break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}g=m.textContent;l="true"==m.getAttribute("pinned");k=parseInt(m.getAttribute("w"),10);m=parseInt(m.getAttribute("h"),10);d.Eg(g);d.Ue.Sv=l;isNaN(k)||isNaN(m)||(d.Ue.size=new h.g.eg(k,m));l&&d.uG&&!d.ec&&setTimeout(function(){d.Cf.Jb(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":h.R.YF(d,n,m);break;case "value":case "statement":m=
y(d,n);if(!m){console.warn("Ignoring non-existent input "+n+" in block "+e);break}l&&(m.connection.Qf=l);if(g)if(g=h.R.$t(g,c),g.K)m.connection.connect(g.K);else if(g.Y)m.connection.connect(g.Y);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.T&&(d.T.Qf=l);if(g){if(!d.T)throw TypeError("Next statement does not exist.");if(d.T.isConnected())throw TypeError("Next statement is already connected.");g=h.R.$t(g,c);if(!g.Y)throw TypeError("Next block does not have previous statement.");
d.T.connect(g.Y)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Fc("true"==f);(f=a.getAttribute("disabled"))&&d.Sd("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.Lt="true"==f;(f=a.getAttribute("movable"))&&d.Ar("true"==f);(f=a.getAttribute("editable"))&&d.gw("true"==f);(f=a.getAttribute("collapsed"))&&d.Jh("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.nh(!1);for(f=0;c=a[f];f++)if(!c.Va)throw TypeError("Shadow block not allowed non-shadow child.");
if(d.rh().length)throw TypeError("Shadow blocks cannot have variable references.");d.kw(!0)}return d};h.R.YF=function(a,c,d){var e=v(a,c);e?e.un(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.R.OF=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.Vc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.Vc.pB(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var x=a.toolboxPosition;x="end"!==x;x=r?x?h.Yg:h.sj:x==q?h.Xg:h.ce;var z=a.css;
void 0===z&&(z=!0);var H="https://blockly-demo.appspot.com/static/media/";a.media?H=a.media:a.path&&(H=a.path+"media/");var W=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,ia=a.keyMap||h.Ma.Ia.zF(),Qa=a.renderer||"geras";this.H=q;this.Eh=W;this.collapse=g;this.Xm=k;this.disable=l;this.readOnly=c;this.ov=a.maxBlocks||Infinity;this.pv=a.maxInstances;this.Bg=H;this.rA=e;this.Oc=h.Vc.dI(a,e);this.uA=f;this.Sq=n;this.aH=m;this.ZG=z;this.Mf=r;this.yg=d;this.oA=h.Vc.cI(a);this.hb=h.Vc.fI(a);this.Ja=x;this.LI=
h.Vc.eI(a);this.Ia=ia;this.qo=Qa;this.so=a.rendererOverrides;this.Ju=void 0;this.qc=a.parentWorkspace};h.iJ=function(){};h.Vc.dI=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.fj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.pi=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
h.Vc.fI=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.fj=void 0===a.wheel?!1:!!a.wheel;c.OB=void 0===a.startScale?1:Number(a.startScale);c.Un=void 0===a.maxScale?3:Number(a.maxScale);c.Wn=void 0===a.minScale?.3:Number(a.minScale);c.pI=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Rv=void 0===a.pinch?c.fj||c.controls:!!a.pinch;return c};
h.Vc.cI=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.qb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.kM=0<c.spacing&&!!a.snap;return c};h.Vc.eI=function(a){a=a.theme||h.Zg.Uh;return a instanceof h.tj?a:h.tj.MF(a.name||"builtin",a)};
h.Vc.pB=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.sf&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.R.bj(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};
h.Zs=function(a){this.Oa=Object.create(null);this.w=a};b=h.Zs.prototype;b.clear=function(){this.Oa=Object.create(null)};b.wr=function(a,c){var d=this.ad(c,a.type),e=B(this.w);h.i.aa(!0);try{if(d&&d.xa()!=a.xa()){var f=a.type;c!=d.name&&Aa(d,c,e);for(c=0;c<e.length;c++)e[c].vr(a.xa(),d.xa());h.i.Fa(new h.i.xf(a));this.Oa[f].splice(this.Cn(f).indexOf(a),1)}else Aa(a,c,e)}finally{h.i.aa(!1)}};
b.Ui=function(a,c){var d=this.Lf(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.wr(d,c)};function Aa(a,c,d){h.i.Fa(new h.i.hg(a,c));a.name=c;for(c=0;c<d.length;c++)d[c].Kr(a)}
b.We=function(a,c,d){var e=this.ad(a,c);if(e){if(d&&e.xa()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.xa()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Lf(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.mh();c=c||"";e=new h.Lm(this.w,a,c,e);a=this.Oa[c]||[];a.push(e);delete this.Oa[c];this.Oa[c]=a;return e};
b.kh=function(a){var c=this.Lf(a);if(c){var d=c.name,e=this.Iu(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=C(f,"NAME");d=h.h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&Ba(g,c,e)})):Ba(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function Ba(a,c,d){var e=h.i.ac();e||h.i.aa(!0);try{for(var f=0;f<d.length;f++)d[f].F(!0);var g=a.Oa[c.type];a=0;for(var k;k=g[a];a++)if(k.xa()==c.xa()){g.splice(a,1);h.i.Fa(new h.i.xf(c));break}}finally{e||h.i.aa(!1)}}b.ad=function(a,c){if(c=this.Oa[c||""])for(var d=0,e;e=c[d];d++)if(h.$d.Ye(e.name,a))return e;return null};b.Lf=function(a){for(var c=Object.keys(this.Oa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Oa[e][f];f++)if(g.xa()==a)return g;return null};
b.Cn=function(a){return(a=this.Oa[a||""])?a.slice():[]};b.Hu=function(a){var c={};h.g.object.ff(c,this.Oa);a&&a.Ri&&h.g.object.ff(c,a.Ri.Oa);a=Object.keys(c);c=!1;for(var d=0;d<a.length;d++)""==a[d]&&(c=!0);c||a.push("");return a};b.Jj=function(){var a=[],c;for(c in this.Oa)a=a.concat(this.Oa[c]);return a};b.uu=function(){var a=[],c;for(c in this.Oa)for(var d=this.Oa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};
b.Iu=function(a){for(var c=[],d=B(this.w),e=0;e<d.length;e++){var f=d[e].rh();if(f)for(var g=0;g<f.length;g++)f[g].xa()==a&&c.push(d[e])}return c};h.Db=function(a){this.id=h.g.mh();h.Db.Mm[this.id]=this;this.options=a||new h.Vc({});this.H=!!this.options.H;this.Mf=!!this.options.Mf;this.Ja=this.options.Ja;this.gm=[];this.Hr=[];this.bq=Object.create(null);this.Pd=[];this.zk=[];this.mo=[];this.ot=Object.create(null);this.Vf=Object.create(null);this.Oa=new h.Zs(this);this.Ri=null};b=h.Db.prototype;b.na=!1;b.Wu=!1;b.Lx=1024;b.eq=null;b.F=function(){this.Pd.length=0;this.clear();delete h.Db.Mm[this.id]};h.Db.ny=3;b=h.Db.prototype;
b.Hg=function(a,c){a=a.Ua();c=c.Ua();return a.y+h.Db.prototype.Hg.offset*a.x-(c.y+h.Db.prototype.Hg.offset*c.x)};function Ca(a,c){if(!h.g.ft(a.gm,c))throw Error("Block not present in workspace's list of top-most blocks.");}b.lc=function(a){var c=[].concat(this.gm);a&&1<c.length&&(this.Hg.offset=Math.sin(h.g.oc.vw(h.Db.ny)),this.H&&(this.Hg.offset*=-1),c.sort(this.Hg));return c};
function va(a,c){var d=[].concat(a.Hr);c&&1<d.length&&(a.Hg.offset=Math.sin(h.g.oc.vw(h.Db.ny)),a.H&&(a.Hg.offset*=-1),d.sort(a.Hg));return d}function B(a){var c=a.lc(!1);for(a=0;a<c.length;a++)c.push.apply(c,c[a].nh(!1));return c.filter(function(d){return!d.Di()})}b.clear=function(){this.Wu=!0;try{var a=h.i.ac();for(a||h.i.aa(!0);this.gm.length;)this.gm[0].F(!1);for(;this.Hr.length;)this.Hr[this.Hr.length-1].F(!1);a||h.i.aa(!1);this.Oa.clear();this.Ri&&this.Ri.clear()}finally{this.Wu=!1}};
b.Ui=function(a,c){this.Oa.Ui(a,c)};b.We=function(a,c,d){return this.Oa.We(a,c,d)};b.Iu=function(a){return this.Oa.Iu(a)};b.kh=function(a){this.Oa.kh(a)};b.ad=function(a,c){return this.Oa.ad(a,c)};b.Lf=function(a){return this.Oa.Lf(a)};b.Cn=function(a){return this.Oa.Cn(a)};b.Hu=function(){return this.Oa.Hu(this)};b.Jj=function(){return this.Oa.Jj()};b.uu=function(){return this.Oa.uu()};b.sh=function(){return 0};b.Li=function(a,c){return new h.ep(this,a,c)};
function Da(a){return isNaN(a.options.ov)?Infinity:a.options.ov-B(a).length}function Ea(a,c){if(!Fa(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.pv?(a.options.pv[e]||Infinity)-(a.Vf[e]?a.Vf[e].slice(0):[]).length:Infinity))return!1;d+=c[e]}return d>Da(a)?!1:!0}function Fa(a){return Infinity!=a.options.ov||!!a.options.pv}
b.Cw=function(a){var c=a?this.mo:this.zk,d=a?this.zk:this.mo,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=h.i.filter(f,a);h.i.Qc=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{h.i.Qc=!0}}};function Ga(){var a=A;a.zk.length=0;a.mo.length=0;h.i.rF()}function D(a,c){a.Pd.push(c)}function Ha(a,c){h.g.ft(a.Pd,c)}b.Kd=function(a){return this.ot[a]||null};b.mw=function(a){this.Oa=a};h.Db.Mm=Object.create(null);
h.Db.wn=function(a){return h.Db.Mm[a]||null};h.Db.getAll=function(){var a=[],c;for(c in h.Db.Mm)a.push(h.Db.Mm[c]);return a};h.ra=function(a,c,d,e,f,g){this.s=a;this.zj=c;this.xI=d;this.Hv=this.Gv=this.uv=this.$v=null;this.tg=!1;d=h.ra.uC;this.s.H&&(d=-d);this.YE=h.g.oc.vw(d);a.Sf.appendChild(this.cn(c,!(!f||!g)));this.Xb=e;this.xr&&Ia(this);f&&g||(a=this.zj.getBBox(),f=a.width+2*h.ra.ld,g=a.height+2*h.ra.ld);this.vo(f,g);Ia(this);Ja(this);this.xr=!0};h.ra.ld=6;h.ra.vC=5;h.ra.uC=20;h.ra.Sw=4;h.ra.rC=8;h.ra.ed=null;h.ra.Oi=null;h.ra.Aw=function(){h.ra.ed&&(h.La(h.ra.ed),h.ra.ed=null);h.ra.Oi&&(h.La(h.ra.Oi),h.ra.Oi=null)};
h.ra.fF=function(){h.Touch.ji();h.ra.Aw()};b=h.ra.prototype;b.xr=!1;b.Xb=null;b.Dg=0;b.Ti=0;b.sb=0;b.bd=0;b.kt=!0;
b.cn=function(a,c){this.Re=h.g.o.J("g",{},null);var d={filter:"url(#"+this.s.wb.ca().mq+")"};h.g.userAgent.DD&&(d={});d=h.g.o.J("g",d,this.Re);this.Sy=h.g.o.J("path",{},d);this.Sp=h.g.o.J("rect",{"class":"blocklyDraggable",x:0,y:0,rx:h.ra.ld,ry:h.ra.ld},d);c?(this.Hh=h.g.o.J("g",{"class":this.s.H?"blocklyResizeSW":"blocklyResizeSE"},this.Re),c=2*h.ra.ld,h.g.o.J("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Hh),h.g.o.J("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/
3},this.Hh),h.g.o.J("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Hh)):this.Hh=null;this.s.options.readOnly||(this.Gv=h.oa(this.Sp,"mousedown",this,this.eF),this.Hh&&(this.Hv=h.oa(this.Hh,"mousedown",this,this.mI)));this.Re.appendChild(a);return this.Re};b.Na=function(){return this.Re};function Ka(a,c){a.Re.dataset&&(a.Re.dataset.blockId=c)}
b.eF=function(a){var c=this.s.oh(a);if(c){if(c.Nj)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.Je||(c.Je=this);c.gf=a}};b.Ao=function(){};b.De=function(){return!1};b.mI=function(a){La(this);h.ra.Aw();h.g.Zj(a)||(this.s.rw(a,new h.g.S(this.s.H?-this.sb:this.sb,this.bd)),h.ra.ed=h.oa(document,"mouseup",this,h.ra.fF),h.ra.Oi=h.oa(document,"mousemove",this,this.nI),h.Bc());a.stopPropagation()};
b.nI=function(a){this.kt=!1;var c=this.s;a=h.g.Yn(a,u(c),pa(c));a.x/=c.scale;a.y/=c.scale;c=h.g.S.sum(c.Kz,a);this.vo(this.s.H?-c.x:c.x,c.y);this.s.H&&Ia(this)};function Ma(a,c){a.uv=c}function La(a){var c=a.Re.parentNode;return c.lastChild!==a.Re?(c.appendChild(a.Re),!0):!1}function Na(a,c,d){var e=a.s.H?a.Xb.x-c.x-a.sb:c.x+a.Xb.x;c=c.y+a.Xb.y;return Math.max(0,Math.min(1,(Math.min(e+a.sb,d.jc+d.rb)-Math.max(e,d.jc))*(Math.min(c+a.bd,d.wc+d.Cb)-Math.max(c,d.wc))/(a.sb*a.bd)))}
function Ia(a){var c=a.Xb.x;c=a.s.H?c-(a.Dg+a.sb):c+a.Dg;a.moveTo(c,a.Ti+a.Xb.y)}b.moveTo=function(a,c){this.Re.setAttribute("transform","translate("+a+","+c+")")};b.Wi=function(a){!a&&this.uv&&this.uv()};b.wu=function(){return new h.g.eg(this.sb,this.bd)};
b.vo=function(a,c){var d=2*h.ra.ld;a=Math.max(a,d+45);c=Math.max(c,d+20);this.sb=a;this.bd=c;this.Sp.setAttribute("width",a);this.Sp.setAttribute("height",c);this.Hh&&(this.s.H?this.Hh.setAttribute("transform","translate("+2*h.ra.ld+","+(c-d)+") scale(-1 1)"):this.Hh.setAttribute("transform","translate("+(a-d)+","+(c-d)+")"));if(this.kt){a=this.s.Mc();a.jc/=this.s.scale;a.rb/=this.s.scale;a.wc/=this.s.scale;a.Cb/=this.s.scale;c=-this.sb/4;if(!(this.sb>a.rb)){if(this.s.H){d=this.Xb.x-c;var e=d-this.sb;
var f=a.jc+a.rb,g=a.jc+h.Pa.Dc/this.s.scale}else e=c+this.Xb.x,d=e+this.sb,g=a.jc,f=a.jc+a.rb-h.Pa.Dc/this.s.scale;this.s.H?e<g?c=-(g-this.Xb.x+this.sb):d>f&&(c=-(f-this.Xb.x)):e<g?c=g-this.Xb.x:d>f&&(c=f-this.Xb.x-this.sb)}e=c;c=-this.bd/4;if(!(this.bd>a.Cb)){d=this.Xb.y+c;f=d+this.bd;g=a.wc;var k=a.wc+a.Cb-h.Pa.Dc/this.s.scale,l=this.Xb.y;d<g?c=g-l:f>k&&(c=k-l-this.bd)}g=c;f=this.xI.getBBox();c={x:e,y:-this.bd-this.s.wb.ca().vm};d={x:-this.sb-30,y:g};g={x:f.width,y:g};k={x:e,y:f.height};e=f.width<
f.height?g:k;f=f.width<f.height?k:g;g=Na(this,c,a);k=Na(this,d,a);l=Na(this,e,a);a=Math.max(g,k,l,Na(this,f,a));g==a?(this.Dg=c.x,this.Ti=c.y):k==a?(this.Dg=d.x,this.Ti=d.y):l==a?(this.Dg=e.x,this.Ti=e.y):(this.Dg=f.x,this.Ti=f.y)}Ia(this);Ja(this);this.$v&&this.$v()};
function Ja(a){var c=[],d=a.sb/2,e=a.bd/2,f=-a.Dg,g=-a.Ti;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.s.H&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=a.wu();m=(r.width+r.height)/h.ra.vC;m=Math.min(m,r.width,r.height)/4;r=1-h.ra.rC/k;f=d+r*f;g=e+r*g;r=d+m*q;var x=e+m*n;d-=m*q;e-=m*n;n=l+a.YE;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.ra.Sw;k=Math.cos(n)*k/h.ra.Sw;c.push("M"+r+","+
x);c.push("C"+(r+k)+","+(x+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Sy.setAttribute("d",c.join(" "))}b.fd=function(a){this.Sp.setAttribute("fill",a);this.Sy.setAttribute("fill",a)};b.F=function(){this.Gv&&h.La(this.Gv);this.Hv&&h.La(this.Hv);h.ra.Aw();h.g.o.removeNode(this.Re);this.tg=!0};b.vv=function(a,c){a?a.yk(c.x,c.y):this.moveTo(c.x,c.y);this.Dg=this.s.H?this.Xb.x-c.x-this.sb:c.x-this.Xb.x;this.Ti=c.y-this.Xb.y;Ja(this)};
b.Ua=function(){return new h.g.S(this.s.H?-this.Dg+this.Xb.x-this.sb:this.Xb.x+this.Dg,this.Xb.y+this.Ti)};h.md={};h.md.Tu=!1;h.md.register=function(a){if(h.md.Tu)throw Error("CSS already injected");Array.prototype.push.apply(h.md.Zr,a);a.length=0};h.md.Sj=function(a,c){if(!h.md.Tu){h.md.Tu=!0;var d=h.md.Zr.join("\n");h.md.Zr.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};h.md.fw=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
h.md.Zr=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;",
"-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;",
"}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {",
"fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {",
"padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {",
"background: #fff;","border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',
"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {",
"padding-left: 12px;","}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font-family: Arial, sans-serif;","font-size: 13px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {",
"color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {",
"background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",
".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyComputeCanvas {",
"position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}"];h.Zd=function(a){this.N=a};b=h.Zd.prototype;b.bz=!0;b.Kp=17;b.Rb=null;b.Qj=null;function Oa(a){a.me||(a.me=h.g.o.J("g",{"class":"blocklyIconGroup"},null),a.N.ec&&h.g.o.Wa(a.me,"blocklyIconGroupReadonly"),a.bu(a.me),a.N.Na().appendChild(a.me),h.oa(a.me,"mouseup",a,a.Pu),a.Rh())}b.F=function(){h.g.o.removeNode(this.me);this.me=null;this.Jb(!1);this.N=null};b.Rh=function(){};b.isVisible=function(){return!!this.Rb};b.Pu=function(a){this.N.w.nc()||this.N.ec||h.g.Zj(a)||this.Jb(!this.isVisible())};
b.cc=function(){this.isVisible()&&this.Rb.fd(this.N.style.ki)};function Pa(a){var c=a.N.Ua(),d=h.g.af(a.me);c=new h.g.S(c.x+d.x+a.Kp/2,c.y+d.y+a.Kp/2);h.g.S.Ye(a.Qj,c)||(a.Qj=c,a.isVisible()&&(a=a.Rb,a.Xb=c,a.xr&&Ia(a)))};h.yf=function(a){h.yf.A.constructor.call(this,a);Oa(this);this.Kg={}};h.g.object.W(h.yf,h.Zd);h.yf.prototype.bz=!1;h.yf.prototype.bu=function(a){h.g.o.J("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);h.g.o.J("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);h.g.o.J("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
h.yf.KI=function(a){var c=h.g.o.J("text",{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.ra.ld},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.o.J("tspan",{dy:"1em",x:h.ra.ld},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};b=h.yf.prototype;b.Jb=function(a){a!=this.isVisible()&&(h.i.Fa(new h.i.kc(this.N,"warningOpen",!a,a)),a?this.lz():this.Fz())};
b.lz=function(){this.lk=h.yf.KI(this.$c());this.Rb=new h.ra(this.N.w,this.lk,this.N.Ab.Pb,this.Qj,null,null);Ka(this.Rb,this.N.id);if(this.N.H)for(var a=this.lk.getBBox().width,c=0,d;d=this.lk.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",a+h.ra.ld);this.cc()};b.Fz=function(){this.Rb.F();this.lk=this.Rb=null};b.xo=function(a,c){this.Kg[c]!=a&&(a?this.Kg[c]=a:delete this.Kg[c],this.isVisible()&&(this.Jb(!1),this.Jb(!0)))};
b.$c=function(){var a=[],c;for(c in this.Kg)a.push(this.Kg[c]);return a.join("\n")};b.F=function(){this.N.kd=null;h.Zd.prototype.F.call(this)};h.Comment=function(a){h.Comment.A.constructor.call(this,a);this.pc=a.Ue;this.pc.text=this.pc.text||"";this.wt="";this.er=this.Zq=this.kr=this.ed=null;Oa(this)};h.g.object.W(h.Comment,h.Zd);b=h.Comment.prototype;
b.bu=function(a){h.g.o.J("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);h.g.o.J("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);h.g.o.J("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
b.Gt=function(){this.tn=h.g.o.J("foreignObject",{x:h.ra.ld,y:h.ra.ld},null);var a=document.createElementNS(h.g.o.Nk,"body");a.setAttribute("xmlns",h.g.o.Nk);a.className="blocklyMinimalBody";var c=this.xk=document.createElementNS(h.g.o.Nk,"textarea");c.className="blocklyCommentTextarea";c.setAttribute("dir",this.N.H?"RTL":"LTR");c.value=this.pc.text;Ra(this);a.appendChild(c);this.tn.appendChild(a);this.ed=h.oa(c,"mouseup",this,this.EI,!0,!0);this.kr=h.oa(c,"wheel",this,function(d){d.stopPropagation()});
this.Zq=h.oa(c,"change",this,function(){this.wt!=this.pc.text&&h.i.Fa(new h.i.Mg(this.N,"comment",null,this.wt,this.pc.text))});this.er=h.oa(c,"input",this,function(){this.pc.text=c.value});setTimeout(c.focus.bind(c),0);return this.tn};b.Rh=function(){h.Comment.A.Rh.call(this);this.isVisible()&&(Sa(this),Ta(this))};b.RH=function(){this.isVisible()&&(this.pc.size=this.Rb.wu(),Ra(this))};
function Ra(a){var c=a.pc.size,d=2*h.ra.ld,e=c.width-d;c=c.height-d;a.tn.setAttribute("width",e);a.tn.setAttribute("height",c);a.xk.style.width=e-4+"px";a.xk.style.height=c-4+"px"}b.Jb=function(a){a!=this.isVisible()&&(h.i.Fa(new h.i.kc(this.N,"commentOpen",!a,a)),(this.pc.Sv=a)?Ta(this):Sa(this))};
function Ta(a){if(!a.N.Nd()||h.g.userAgent.sf)h.yf.prototype.lz.call(a);else{a.Rb=new h.ra(a.N.w,a.Gt(),a.N.Ab.Pb,a.Qj,a.pc.size.width,a.pc.size.height);Ka(a.Rb,a.N.id);var c=a.RH.bind(a);a.Rb.$v=c;a.cc()}}function Sa(a){a.lk?h.yf.prototype.Fz.call(a):(a.ed&&(h.La(a.ed),a.ed=null),a.kr&&(h.La(a.kr),a.kr=null),a.Zq&&(h.La(a.Zq),a.Zq=null),a.er&&(h.La(a.er),a.er=null),a.Rb.F(),a.Rb=null,a.xk=null,a.tn=null)}b.EI=function(){La(this.Rb)&&this.xk.focus();this.wt=this.pc.text};b.wu=function(){return this.pc.size};
b.vo=function(a,c){this.Rb?this.Rb.vo(a,c):(this.pc.size.width=a,this.pc.size.height=c)};b.$c=function(){return this.pc.text||""};b.xo=function(a){this.pc.text!=a&&(this.pc.text=a,Ua(this))};function Ua(a){a.xk?a.xk.value=a.pc.text:a.lk&&(a.lk.firstChild.textContent=a.pc.text)}b.F=function(){this.N.Wm=null;h.Zd.prototype.F.call(this)};h.md.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,overflow: hidden;,}".split(","));h.lj=function(a,c,d,e){this.s=a;this.Qb=c;this.Kg=d.getAttribute("text");this.xd=new h.g.S(0,0);this.zh=e;this.Up=d.getAttribute("callbackKey")||d.getAttribute("callbackkey");this.nz=d.getAttribute("web-class")||null;this.ed=null};h.lj.TD=5;h.lj.UD=2;b=h.lj.prototype;b.width=0;b.height=0;
b.Ea=function(){var a=this.zh?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.nz&&(a+=" "+this.nz);this.L=h.g.o.J("g",{"class":a},this.s.jb);if(!this.zh)var c=h.g.o.J("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.L);a=h.g.o.J("rect",{"class":this.zh?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.L);var d=h.g.o.J("text",{"class":this.zh?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.L),e=h.g.oe(this.Kg);this.s.H&&(e+=
"\u200f");d.textContent=e;this.zh&&(this.uw=d,this.s.hc.subscribe(this.uw,"flyoutForegroundColour","fill"));var f=h.g.style.getComputedStyle(d,"fontSize"),g=h.g.style.getComputedStyle(d,"fontWeight"),k=h.g.style.getComputedStyle(d,"fontFamily");this.width=h.g.o.aA(d,f,g,k);e=h.g.o.UA(e,f,g,k);this.height=e.height;this.zh||(this.width+=2*h.lj.TD,this.height+=2*h.lj.UD,c.setAttribute("width",this.width),c.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",
this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height/2-e.height/2+e.Qe);Va(this);this.ed=h.oa(this.L,"mouseup",this,this.aI);return this.L};b.show=function(){Va(this);this.L.setAttribute("display","block")};function Va(a){a.L.setAttribute("transform","translate("+a.xd.x+","+a.xd.y+")")}b.moveTo=function(a,c){this.xd.x=a;this.xd.y=c;Va(this)};b.F=function(){this.ed&&h.La(this.ed);this.L&&h.g.o.removeNode(this.L);this.uw&&this.s.hc.unsubscribe(this.uw)};
b.aI=function(a){(a=this.Qb.oh(a))&&a.cancel();this.zh&&this.Up?console.warn("Labels should not have callbacks. Label text: "+this.Kg):this.zh||this.Up&&Wa(this.Qb,this.Up)?this.zh||Wa(this.Qb,this.Up)(this):console.warn("Buttons should have callbacks. Button text: "+this.Kg)};h.md.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(","));h.Wd=function(a){this.name=a};h.C=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Po=a;this.Jl=h.C.iH(a);this.qa=c;(a=d||null)&&a.gC&&(this.Jw=a.gC)};h.C.types={Xd:"field",se:"block",$f:"input",qj:"output",ue:"next",ve:"previous",dg:"stack",jg:"workspace"};h.C.ym=!1;h.C.TC=-20;h.C.iH=function(a){switch(a){case h.C.types.ve:case h.C.types.ue:case h.C.types.$f:case h.C.types.qj:return!0}return!1};h.C.rl=function(a){return a?new h.C(h.C.types.Xd,a):null};
h.C.qg=function(a){return a?a.type==h.cb||a.type==h.mb&&a.vg()?h.C.Bj(a.vg()):a.type==h.mb?new h.C(h.C.types.ue,a):a.type==h.uf?new h.C(h.C.types.qj,a):a.type==h.vf?new h.C(h.C.types.ve,a):null:null};h.C.Bj=function(a){return a&&a.connection?new h.C(h.C.types.$f,a.connection):null};h.C.hh=function(a){return a?new h.C(h.C.types.se,a):null};h.C.fn=function(a){return a?new h.C(h.C.types.dg,a):null};h.C.tl=function(a,c){return c&&a?new h.C(h.C.types.jg,a,{gC:c}):null};b=h.C.prototype;b.vb=function(){return this.Po};
function Xa(a,c){a=a.qa;a instanceof h.ep||(a=a.U());if(!a||!a.w)return null;var d=a.Ld();a=d.w.lc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.C.fn(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}function Ya(a){if(!a)return null;do var c=a.Y&&a.Y.la();while(c&&t(c)==a&&(a=c));return(c=a.Y||a.K)&&c.ga&&c.ga.vg()?h.C.Bj(c.ga.vg()):h.C.fn(a)}
b.U=function(){return this.vb()===h.C.types.se?this.qa:this.vb()===h.C.types.dg?this.qa:this.vb()===h.C.types.jg?null:this.qa.U()};
b.next=function(){switch(this.Po){case h.C.types.dg:return Xa(this,!0);case h.C.types.qj:return h.C.hh(this.qa.U());case h.C.types.Xd:a:{var a=this.qa,c=a.vg();var d=a.U();a=c.Ta.indexOf(a)+1;c=d.O.indexOf(c);for(var e;e=d.O[c];c++){for(var f=e.Ta;a<f.length;){if(Za(f[a])||h.C.ym){d=h.C.rl(f[a]);break a}a++}a=0;if(e.connection){d=h.C.Bj(e);break a}}d=null}return d;case h.C.types.$f:a:{a=this.qa.vg();d=a.U();for(a=d.O.indexOf(a)+1;c=d.O[a];a++){e=c.Ta;f=0;for(var g;g=e[f];f++)if(Za(g)||h.C.ym){d=h.C.rl(g);
break a}if(c.connection){d=h.C.Bj(c);break a}}d=null}return d;case h.C.types.se:return h.C.qg(this.qa.T);case h.C.types.ve:return h.C.hh(this.qa.U());case h.C.types.ue:return h.C.qg(this.qa.ga)}return null};
b.zi=function(){switch(this.Po){case h.C.types.jg:var a=this.qa.lc(!0);if(0<a.length)return h.C.fn(a[0]);break;case h.C.types.dg:a=this.qa;var c=a.Y||a.K;return c?h.C.qg(c):h.C.hh(a);case h.C.types.se:a=this.qa;a:{a=a.O;c=0;for(var d;d=a[c];c++){for(var e=d.Ta,f=0,g;g=e[f];f++)if(Za(g)||h.C.ym){a=h.C.rl(g);break a}if(d.connection){a=h.C.Bj(d);break a}}a=null}return a;case h.C.types.$f:return h.C.qg(this.qa.ga)}return null};
b.kf=function(){switch(this.Po){case h.C.types.dg:return Xa(this,!1);case h.C.types.Xd:a:{var a=this.qa;var c=a.vg();var d=a.U();a=c.Ta.indexOf(a)-1;for(var e=d.O.indexOf(c),f;f=d.O[e];e--){if(f.connection&&f!==c){c=h.C.Bj(f);break a}for(f=f.Ta;-1<a;){if(Za(f[a])||h.C.ym){c=h.C.rl(f[a]);break a}a--}0<=e-1&&(a=d.O[e-1].Ta.length-1)}c=null}return c;case h.C.types.$f:a:{c=this.qa.vg();d=c.U();for(a=d.O.indexOf(c);e=d.O[a];a--){if(e.connection&&e!==c){c=h.C.Bj(e);break a}e=e.Ta;f=e.length-1;for(var g;g=
e[f];f--)if(Za(g)||h.C.ym){c=h.C.rl(g);break a}}c=null}return c;case h.C.types.se:return c=this.qa,h.C.qg(c.Y||c.K);case h.C.types.ve:if((c=this.qa.ga)&&!c.vg())return h.C.qg(c);break;case h.C.types.ue:return h.C.hh(this.qa.U())}return null};
b.Pi=function(){switch(this.Po){case h.C.types.dg:var a=this.qa.Ua();return h.C.tl(this.qa.w,new h.g.S(a.x,a.y+h.C.TC));case h.C.types.qj:return(a=this.qa.ga)?h.C.qg(a):h.C.fn(this.qa.U());case h.C.types.Xd:return h.C.hh(this.qa.U());case h.C.types.$f:return h.C.hh(this.qa.U());case h.C.types.se:return Ya(this.qa);case h.C.types.ve:return Ya(this.qa.U());case h.C.types.ue:return Ya(this.qa.U())}return null};h.navigation={};h.navigation.Ql=null;h.navigation.ty=1;h.navigation.Im=2;h.navigation.Ts=3;h.navigation.Hy=40;h.navigation.Cj=h.navigation.Im;h.navigation.Da={ve:"previous",ue:"next",xp:"in",Ip:"out",qs:"insert",zs:"mark",jx:"disconnect",Vs:"toolbox",ks:"exit",Us:"toggle_keyboard_nav",Qx:"move workspace cursor up",Nx:"move workspace cursor down",Ox:"move workspace cursor left",Px:"move workspace cursor right"};h.navigation.um="local_marker_1";h.navigation.ke=function(){return h.Ka().ke(h.navigation.um)};
h.navigation.Sz=function(){var a=h.Ka().ta;a&&(h.navigation.Cj=h.navigation.Ts,h.navigation.DB(!1),h.navigation.ke().$a||h.navigation.mv(),a.jd.Rd||$a(a.jd))};h.navigation.Rz=function(){h.navigation.Cj=h.navigation.ty;var a=h.Ka();var c=a.ta;a=c?c.$:a.Lc();h.navigation.ke().$a||h.navigation.mv();a&&a.s&&(a=a.s.lc(!0),0<a.length&&(a=a[0],a=h.C.fn(a),E(h.navigation.Al(),a)))};
h.navigation.pq=function(){h.Bc();var a=h.Ka(),c=a.Gb(),d=!!a.ta,e=a.lc(!0);h.navigation.DB(d);h.navigation.Cj=h.navigation.Im;0<e.length?E(c,h.navigation.Gu(e[0])):(a=h.C.tl(a,new h.g.S(100,100)),E(c,a))};h.navigation.Al=function(){var a=h.Ka(),c=null;a.na&&(c=(a=(c=a.ta)?c.$:a.Lc())?a.s.Gb():null);return c};
h.navigation.hH=function(){var a=h.Ka(),c=a.Lc();if(c&&c.isVisible()){var d=h.navigation.Al().$a.qa;d.isEnabled()?(c=ab(c,d),c.Ba(),xa(c,!0),E(a.Gb(),h.C.hh(c)),h.navigation.VA()||h.navigation.zd("Something went wrong while inserting a block from the flyout."),h.navigation.pq(),E(a.Gb(),h.navigation.Gu(c)),h.navigation.lI()):h.navigation.zd("Can't insert a disabled block.")}else h.navigation.zd("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
h.navigation.DB=function(a){h.navigation.Al()&&(h.navigation.Al().Ha(),a&&h.Ka().Lc().Ha())};
h.navigation.xH=function(){var a=h.navigation.ke().$a,c=h.Ka().Gb().$a;if(!a)return h.navigation.zd("Cannot insert with no marked node."),!1;if(!c)return h.navigation.zd("Cannot insert with no cursor node."),!1;a=a.vb();c=c.vb();return a==h.C.types.Xd?(h.navigation.zd("Should not have been able to mark a field."),!1):a==h.C.types.se?(h.navigation.zd("Should not have been able to mark a block."),!1):a==h.C.types.dg?(h.navigation.zd("Should not have been able to mark a stack."),!1):c==h.C.types.Xd?
(h.navigation.zd("Cannot attach a field to anything else."),!1):c==h.C.types.jg?(h.navigation.zd("Cannot attach a workspace to anything else."),!1):!0};h.navigation.CH=function(a,c){if(!a)return!1;if(a.Va)return h.navigation.zd("Cannot move a shadow block to the workspace."),!1;a.getParent()&&w(a,!1);a.moveTo(c.Jw);return!0};
h.navigation.VA=function(){var a=h.navigation.ke().$a,c=h.Ka().Gb().$a;if(!h.navigation.xH())return!1;var d=a.vb(),e=c.vb(),f=c.qa,g=a.qa;if(a.Jl&&c.Jl)return h.navigation.Df(f,g);if(a.Jl&&(e==h.C.types.se||e==h.C.types.dg))return h.navigation.DA(f,g);if(d==h.C.types.jg)return c=c?c.U():null,h.navigation.CH(c,a);h.navigation.zd("Unexpected state in Blockly.navigation.modify_.");return!1};
h.navigation.TF=function(a,c){var d=a.U(),e=c.U();d.Ld()==e.Ld()&&(-1<p(d,!1).indexOf(e)?h.navigation.vq(c).disconnect():h.navigation.vq(a).disconnect())};h.navigation.tv=function(a,c){if(!a||!c)return!1;var d=a.U();return bb(c,a)==h.va.hp?(h.navigation.TF(a,c),F(c)||cb(d.Ld(),a,c),c.connect(a),!0):!1};h.navigation.vq=function(a){var c=a.U();return F(a)?c.Y?c.Y:c.K?c.K:null:a};h.navigation.kA=function(a){return F(a)?a:a.ga?a.ga:null};
h.navigation.Df=function(a,c){if(!a||!c)return!1;var d=h.navigation.vq(a),e=h.navigation.kA(c),f=h.navigation.kA(a),g=h.navigation.vq(c);if(d&&e&&h.navigation.tv(d,e)||f&&g&&h.navigation.tv(f,g)||h.navigation.tv(a,c))return!0;try{db(c,a)}catch(k){h.navigation.zd("Connection failed with error: "+k)}return!1};
h.navigation.DA=function(a,c){switch(c.type){case h.vf:if(h.navigation.Df(a.T,c))return!0;break;case h.mb:if(h.navigation.Df(a.Y,c))return!0;break;case h.cb:if(h.navigation.Df(a.K,c))return!0;break;case h.uf:for(var d=0;d<a.O.length;d++){var e=a.O[d].connection;if(e&&e.type===h.cb&&h.navigation.Df(e,c))return!0}if(a.K&&h.navigation.Df(a.K,c))return!0}h.navigation.zd("This block can not be inserted at the marked location.");return!1};
h.navigation.SF=function(){var a=h.Ka(),c=a.Gb().$a;if(c.Jl){var d=c.qa;d.isConnected()?(c=F(d)?d:d.ga,d=F(d)?d.ga:d,d.U().Va?h.navigation.fv("Cannot disconnect a shadow block"):(c.disconnect(),eb(d,c),fb(c.U().Ld()),c=h.C.qg(c),E(a.Gb(),c))):h.navigation.fv("Cannot disconnect unconnected connection")}else h.navigation.fv("Cannot disconnect blocks when the cursor is not on a connection")};h.navigation.mv=function(){E(h.navigation.ke(),h.Ka().Gb().$a)};
h.navigation.lI=function(){var a=h.navigation.ke();E(a,null);a.Ha()};h.navigation.Ib=function(a){h.navigation.Cj=a};h.navigation.Gu=function(a){var c=a.Y||a.K;return c?h.C.qg(c):h.C.hh(a)};h.navigation.DH=function(a){var c=h.Ka();if(c&&(c=c.Gb())){var d=c.$a;d=d?d.U():null;d===a?d.getParent()?(a=d.Y||d.K)&&E(c,h.C.qg(a.ga)):E(c,h.C.tl(d.w,d.Ua())):d&&-1<a.nh(!1).indexOf(d)&&E(c,h.C.tl(d.w,d.Ua()))}};h.navigation.EH=function(a){var c=h.Ka().Gb();if(c){var d=c.$a;d=d?d.U():null;d===a&&E(c,h.C.hh(d))}};
h.navigation.dG=function(){h.Ka().Cc||(h.Ka().Cc=!0,h.navigation.pq())};h.navigation.RF=function(){if(h.Ka().Cc){var a=h.Ka();h.Ka().Cc=!1;a.Gb().Ha();h.navigation.ke().Ha();h.navigation.Al()&&h.navigation.Al().Ha()}};h.navigation.fv=function(a){h.navigation.Ql?h.navigation.Ql("log",a):console.log(a)};h.navigation.zd=function(a){h.navigation.Ql?h.navigation.Ql("warn",a):console.warn(a)};h.navigation.ML=function(a){h.navigation.Ql?h.navigation.Ql("error",a):console.error(a)};
h.navigation.iB=function(a){a=h.Ma.Ia.rI(a);return(a=h.Ma.Ia.oG(a))?h.navigation.Qd(a):!1};h.navigation.Qd=function(a){var c=h.Ka().options.readOnly,d=!1;h.Ka().Cc?c?-1<h.navigation.oE.indexOf(a)&&(d=h.navigation.qA(a)):d=h.navigation.qA(a):a.name===h.navigation.Da.Us&&(h.navigation.dG(),d=!0);return d};
h.navigation.qA=function(a){return a.name==h.navigation.Da.Vs||h.navigation.Cj==h.navigation.Ts?h.navigation.NI(a):a.name==h.navigation.Da.Us?(h.navigation.RF(),!0):h.navigation.Cj==h.navigation.Im?h.navigation.aJ(a):h.navigation.Cj==h.navigation.ty?h.navigation.mG(a):!1};
h.navigation.mG=function(a){var c=h.Ka(),d=c.ta;if((c=d?d.$:c.Lc())&&c.Qd(a))return!0;switch(a.name){case h.navigation.Da.Ip:return h.navigation.Sz(),!0;case h.navigation.Da.zs:return h.navigation.hH(),!0;case h.navigation.Da.ks:return h.navigation.pq(),!0;default:return!1}};
h.navigation.NI=function(a){var c=h.Ka(),d=c.ta;return d&&d.Qd(a)?!0:a.name===h.navigation.Da.Vs?(c.ta?h.navigation.Sz():h.navigation.Rz(),!0):a.name===h.navigation.Da.xp?(h.navigation.Rz(),!0):a.name===h.navigation.Da.ks?(h.navigation.pq(),!0):!1};h.navigation.Wq=function(a,c){var d=h.Ka().Gb(),e=h.Ka().Gb().$a;if(e.vb()!==h.C.types.jg)return!1;e=e.Jw;E(d,h.C.tl(h.Ka(),new h.g.S(a*h.navigation.Hy+e.x,c*h.navigation.Hy+e.y)));return!0};
h.navigation.aJ=function(a){if(h.Ka().Gb().Qd(a))return!0;switch(a.name){case h.navigation.Da.qs:return h.navigation.VA(),!0;case h.navigation.Da.zs:return h.navigation.OG(),!0;case h.navigation.Da.jx:return h.navigation.SF(),!0;case h.navigation.Da.Qx:return h.navigation.Wq(0,-1);case h.navigation.Da.Nx:return h.navigation.Wq(0,1);case h.navigation.Da.Ox:return h.navigation.Wq(-1,0);case h.navigation.Da.Px:return h.navigation.Wq(1,0);default:return!1}};
h.navigation.OG=function(){var a=h.Ka().Gb().$a,c=a.vb();c==h.C.types.Xd?(a=a.qa,Za(a)&&a.Mh(void 0)):a.Jl||c==h.C.types.jg?h.navigation.mv():c==h.C.types.se?h.navigation.zd("Cannot mark a block."):c==h.C.types.dg&&h.navigation.zd("Cannot mark a stack.")};h.navigation.Xo=new h.Wd(h.navigation.Da.ve);h.navigation.Nw=new h.Wd(h.navigation.Da.Ip);h.navigation.Wo=new h.Wd(h.navigation.Da.ue);h.navigation.Mw=new h.Wd(h.navigation.Da.xp);h.navigation.jC=new h.Wd(h.navigation.Da.qs);h.navigation.kC=new h.Wd(h.navigation.Da.zs);
h.navigation.iC=new h.Wd(h.navigation.Da.jx);h.navigation.pC=new h.Wd(h.navigation.Da.Vs);h.navigation.Pr=new h.Wd(h.navigation.Da.ks);h.navigation.Ow=new h.Wd(h.navigation.Da.Us);h.navigation.mC=new h.Wd(h.navigation.Da.Ox);h.navigation.nC=new h.Wd(h.navigation.Da.Px);h.navigation.oC=new h.Wd(h.navigation.Da.Qx);h.navigation.lC=new h.Wd(h.navigation.Da.Nx);h.navigation.oE=[h.navigation.Xo,h.navigation.Nw,h.navigation.Mw,h.navigation.Wo,h.navigation.Ow];h.g.Bp={};h.g.Bp.LH=0;h.g.Bp.EG=function(){return"blockly:"+(h.g.Bp.LH++).toString(36)};h.Hc=function(){this.Yl=h.Hc.uz;this.Gl=null;this.cd=!1;this.ne=this.eb=null;this.kb=[];this.At={}};h.Hc.uz=!1;h.Hc.Error={Sr:"Component already rendered",Gs:"Unable to set parent component",HC:"Child component index out of bounds"};b=h.Hc.prototype;b.xa=function(){return this.Gl||(this.Gl=h.g.Bp.EG())};b.wa=function(){return this.eb};
b.$l=function(a){if(this==a)throw Error(h.Hc.Error.Gs);var c;if(c=a&&this.ne&&this.Gl)c=(c=this.Gl)?this.ne.At[c]||null:null;if(c&&this.ne!=a)throw Error(h.Hc.Error.Gs);this.ne=a};b.getParent=function(){return this.ne};b.Ea=function(){this.eb=document.createElement("div")};b.Ba=function(a){this.Gh(a)};b.Gh=function(a,c){if(this.cd)throw Error(h.Hc.Error.Sr);this.eb||this.Ea();a?a.insertBefore(this.eb,c||null):document.body.appendChild(this.eb);this.ne&&!this.ne.cd||this.Hf()};
b.Hf=function(){this.cd=!0;gb(this,function(a){!a.cd&&a.wa()&&a.Hf()})};b.ri=function(){gb(this,function(a){a.cd&&a.ri()});this.cd=!1};b.F=function(){this.WF||(this.WF=!0,this.mn())};b.mn=function(){this.cd&&this.ri();gb(this,function(a){a.F()});this.eb&&h.g.o.removeNode(this.eb);this.ne=this.eb=this.At=this.kb=null};
b.Pm=function(a,c,d){if(a.cd&&(d||!this.cd))throw Error(h.Hc.Error.Sr);if(0>c||c>this.kb.length)throw Error(h.Hc.Error.HC);this.At[a.xa()]=a;if(a.getParent()==this){var e=this.kb.indexOf(a);-1<e&&this.kb.splice(e,1)}a.$l(this);this.kb.splice(c,0,a);a.cd&&this.cd&&a.getParent()==this?(d=this.eb,c=d.childNodes[c]||null,c!=a.wa()&&d.insertBefore(a.wa(),c)):d?(this.eb||this.Ea(),c=this.kb[c+1]||null,a.Gh(this.eb,c?c.eb:null)):this.cd&&!a.cd&&a.eb&&a.eb.parentNode&&a.eb.parentNode.nodeType==h.g.o.Node.ELEMENT_NODE&&
a.Hf()};function hb(a,c){if(a.cd)throw Error(h.Hc.Error.Sr);a.Yl=c}function ib(a){return 0!=a.kb.length}function gb(a,c,d){for(var e=0;e<a.kb.length;e++)c.call(d,a.kb[e],e)};h.g.X={};h.g.X.tC="aria-";h.g.X.qE="role";h.g.X.cg={XJ:"grid",YJ:"gridcell",ux:"group",JD:"listbox",XD:"menu",YD:"menuitem",ZD:"menuitemcheckbox",fE:"option",lE:"presentation",Os:"row",EE:"tree",FE:"treeitem"};h.g.X.State={Pw:"activedescendant",nJ:"colcount",ls:"expanded",Cx:"invalid",FD:"label",Ix:"labelledby",GD:"level",hE:"orientation",kE:"posinset",mL:"rowcount",Gm:"selected",rE:"setsize",HE:"valuemax",IE:"valuemin"};h.g.X.Fg=function(a,c){a.setAttribute(h.g.X.qE,c)};
h.g.X.Ib=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.X.tC+c,d)};h.Ga={};h.Ga.Ad=function(a,c){h.Hc.call(this);this.content=a;this.zc=c;this.Jd=this.uo=!1;this.Yu=!0;this.Mt=-1};h.g.object.W(h.Ga.Ad,h.Hc);h.Ga.Ad.ct={};b=h.Ga.Ad.prototype;b.mn=function(){h.Ga.Ad.A.mn.call(this);this.Ga&&(this.Ga=null);this.eb=null};
b.Dq=function(){var a=this.wa();if(a){var c=jb(this);c&&!c.id&&(c.id=this.xa()+".label");h.g.X.Fg(a,h.g.X.cg.FE);h.g.X.Ib(a,h.g.X.State.Gm,!1);h.g.X.Ib(a,h.g.X.State.GD,this.zl());c&&h.g.X.Ib(a,h.g.X.State.Ix,c.id);(c=this.Au())&&h.g.X.Fg(c,h.g.X.cg.lE);if(c=kb(this))if(h.g.X.Fg(c,h.g.X.cg.ux),c.hasChildNodes())for(h.g.X.Ib(a,h.g.X.State.ls,!1),a=this.kb.length,c=1;c<=a;c++){var d=(this.kb[c-1]||null).wa();h.g.X.Ib(d,h.g.X.State.rE,a);h.g.X.Ib(d,h.g.X.State.kE,c)}}};
b.Ea=function(){var a=document.createElement("div");a.appendChild(lb(this));this.eb=a};b.Hf=function(){h.Ga.Ad.A.Hf.call(this);h.Ga.Ad.ct[this.xa()]=this;this.Dq()};b.ri=function(){h.Ga.Ad.A.ri.call(this);delete h.Ga.Ad.ct[this.xa()]};
b.Pm=function(a,c){var d=this.kb[c-1]||null,e=this.kb[c]||null;h.Ga.Ad.A.Pm.call(this,a,c);a.Vl=d;a.zv=e;d&&(d.zv=a);e&&(e.Vl=a);(c=this.Kf())&&mb(a,c);nb(a,this.zl()+1);if(c=this.wa())if(this.Jr(),h.g.X.Ib(c,h.g.X.State.ls,this.Jd),this.Jd){c=kb(this);a.wa()||a.Ea();var f=a.wa(),g=e&&e.wa();c.insertBefore(f,g);this.cd&&a.Hf();e||(d?d.Jr():(h.g.style.hw(c,!0),this.rk(this.Jd)))}};b.add=function(a){if(a.getParent())throw Error(h.Hc.Error.Gs);this.Pm(a,this.kb.length)};b.Kf=function(){return null};
b.zl=function(){var a=this.Mt;0>a&&(a=(a=this.getParent())?a.zl()+1:0,nb(this,a));return a};function nb(a,c){if(c!=a.Mt){a.Mt=c;var d=ob(a);if(d){var e=pb(a)+"px";a.Yl?d.style.paddingRight=e:d.style.paddingLeft=e}gb(a,function(f){nb(f,c+1)})}}b.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};b.nh=function(){var a=[];gb(this,function(c){a.push(c)});return a};b.select=function(){var a=this.Kf();a&&qb(a,this)};
function rb(a,c){if(a.uo!=c){a.uo=c;sb(a);var d=a.wa();d&&(h.g.X.Ib(d,h.g.X.State.Gm,c),c&&(c=a.Kf().wa(),h.g.X.Ib(c,h.g.X.State.Pw,a.xa())))}}
b.rk=function(a){var c=a!=this.Jd,d;this.Jd=a;var e=this.Kf(),f=this.wa();if(ib(this)){if(!a&&e&&this.contains(e.Rd)&&this.select(),f){if(d=kb(this))h.g.style.hw(d,a),h.g.X.Ib(f,h.g.X.State.ls,a),a&&this.cd&&!d.hasChildNodes()&&(gb(this,function(g){d.appendChild(lb(g))}),gb(this,function(g){g.Hf()}));this.Jr()}}else(d=kb(this))&&h.g.style.hw(d,!1);f&&(this.Au().className=this.tq());c&&(a?this.Iz():this.Hz())};b.Iz=function(){};b.Hz=function(){};b.toggle=function(){this.rk(!this.Jd)};
function lb(a){var c=a.Jd&&ib(a),d=document.createElement("div");d.style.backgroundPosition=tb(a);c||(d.style.display="none");c&&gb(a,function(e){d.appendChild(lb(e))});c=document.createElement("div");c.id=a.xa();c.appendChild(ub(a));c.appendChild(d);return c}function pb(a){return Math.max(0,(a.zl()-1)*a.zc.AA)}function ub(a){var c=document.createElement("div");c.className=a.xq();c.style["padding-"+(a.Yl?"right":"left")]=pb(a)+"px";c.appendChild(vb(a));c.appendChild(wb(a));return c}
b.xq=function(){var a="";this.uo&&(a=" "+(this.zc.IF||""));return this.zc.qz+a};function wb(a){var c=document.createElement("span");c.className=a.zc.GF||"";c.textContent=a.content;return c}function vb(a){var c=document.createElement("span");c.style.display="inline-block";c.className=a.tq();return c}b.tq=function(){throw Error("unimplemented abstract method");};function tb(a){return(a.zv?(a.zl()-1)*a.zc.AA:"-100")+"px 0"}
b.wa=function(){var a=h.Ga.Ad.A.wa.call(this);a||(this.eb=a=document.getElementById(this.xa()));return a};function ob(a){return(a=a.wa())?a.firstChild:null}b.Au=function(){var a=ob(this);return a?a.firstChild:null};function jb(a){return(a=ob(a))&&a.lastChild?a.lastChild.previousSibling:null}function kb(a){return(a=a.wa())?a.lastChild:null}function sb(a){var c=ob(a);c&&(c.className=a.xq())}b.Jr=function(){var a=kb(this);a&&(a.style.backgroundPosition=tb(this))};
b.jB=function(a){"expand"==a.target.getAttribute("type")&&ib(this)?this.Yu&&this.toggle():(this.select(),sb(this))};b.gB=function(a){a.preventDefault()};b.$n=function(a){var c=!0;switch(a.keyCode){case h.g.Ca.Ls:if(a.altKey)break;c=$a(this);break;case h.g.Ca.us:if(a.altKey)break;c=xb(this);break;case h.g.Ca.pp:c=yb(this);break;case h.g.Ca.Pp:c=zb(this);break;default:c=!1}c&&a.preventDefault();return c};
function yb(a){a:if(ib(a)&&a.Jd)a=a.kb[0]||null;else{for(var c=a,d;c!=a.Kf();){d=c.zv;if(null!=d){a=d;break a}c=c.getParent()}a=null}a&&a.select();return!0}function zb(a){var c=a.Vl;if(null!=c)a=Ab(c);else{c=a.getParent();var d=a.Kf();a=c==d||a==d?null:c}a&&a.select();return!0}function xb(a){if(ib(a)&&a.Jd&&a.Yu)a.rk(!1);else{var c=a.getParent();a=a.Kf();c&&c!=a&&c.select()}return!0}function $a(a){return ib(a)?(a.Jd?(a.kb[0]||null).select():a.rk(!0),!0):!1}
function Ab(a){return a.Jd&&ib(a)?Ab(a.kb[a.kb.length-1]||null):a}function mb(a,c){a.Ga!=c&&(a.Ga=c,gb(a,function(d){mb(d,c)}))};h.Ga.ci=function(a,c,d){this.ta=a;h.Ga.Ad.call(this,c,d)};h.g.object.W(h.Ga.ci,h.Ga.Ad);b=h.Ga.ci.prototype;b.Kf=function(){if(this.Ga)return this.Ga;var a=this.getParent();return a&&(a=a.Kf())?(mb(this,a),a):null};b.tq=function(){var a=this.Jd;if(a&&this.mu)return this.mu;var c=this.dH;if(!a&&c)return c;c=this.zc;if(ib(this)){if(a&&c.oz)return c.fq+" "+c.oz;if(!a&&c.DF)return c.fq+" "+c.DF}else if(c.pz)return c.fq+" "+c.pz;return""};
b.gB=function(){ib(this)&&this.Yu?(this.toggle(),this.select()):this.uo?qb(this.Kf(),null):this.select();sb(this)};b.jB=function(){};b.$n=function(a){if(this.Ga.ta.Nf){var c={},d=h.g.Ca.pp,e=h.g.Ca.Pp;c[h.g.Ca.Ls]=this.Yl?e:d;c[h.g.Ca.us]=this.Yl?d:e;c[h.g.Ca.Pp]=h.g.Ca.us;c[h.g.Ca.pp]=h.g.Ca.Ls;Object.defineProperties(a,{keyCode:{value:c[a.keyCode]||a.keyCode}})}return h.Ga.ci.A.$n.call(this,a)};b.EB=function(){this.nB&&this.nB.call(this.ta)};b.Iz=h.Ga.ci.prototype.EB;b.Hz=h.Ga.ci.prototype.EB;h.Ga.wj=function(a,c){this.ta=a;this.hr=this.$q=this.Yq=this.dr=null;h.Ga.Ad.call(this,"",c);this.uo=this.Jd=!0;this.Rd=this};h.g.object.W(h.Ga.wj,h.Ga.Ad);b=h.Ga.wj.prototype;b.Kf=function(){return this};b.zl=function(){return 0};b.PG=function(){this.Tz=!0;var a=this.wa();h.g.o.Wa(a,"focused");this.Rd&&this.Rd.select()};b.MG=function(){this.Tz=!1;var a=this.wa();h.g.o.Bb(a,"focused")};b.hasFocus=function(){return this.Tz};b.rk=function(a){this.Jd=a};
b.Au=function(){var a=ob(this);return a?a.firstChild:null};b.Jr=function(){};b.xq=function(){return h.Ga.wj.A.xq.call(this)+" "+this.zc.FF};b.tq=function(){var a=this.Jd;if(a&&this.mu)return this.mu;var c=this.dH;return!a&&c?c:a&&this.zc.EF?this.zc.fq+" "+this.zc.EF:""};function qb(a,c){if(c!=a.Rd&&(!a.eB||a.eB.call(a.ta,c))){var d=a.Rd;a.Rd&&rb(a.Rd,!1);(a.Rd=c)&&rb(c,!0);a.dB&&a.dB.call(a.ta,d,c)}}
b.Dq=function(){h.Ga.wj.A.Dq.call(this);var a=this.wa();h.g.X.Fg(a,h.g.X.cg.EE);h.g.X.Ib(a,h.g.X.State.Ix,jb(this).id)};b.Hf=function(){h.Ga.wj.A.Hf.call(this);var a=this.wa();a.className=this.zc.HF;a.setAttribute("hideFocus","true");this.jt();this.Dq()};b.ri=function(){h.Ga.wj.A.ri.call(this);this.Nt()};b.jt=function(){var a=this.wa();a.tabIndex=0;this.dr=h.qd(a,"focus",this,this.PG);this.Yq=h.qd(a,"blur",this,this.MG);this.$q=h.oa(a,"click",this,this.UG);this.hr=h.qd(a,"keydown",this,this.QG)};
b.Nt=function(){this.dr&&(h.La(this.dr),this.dr=null);this.Yq&&(h.La(this.Yq),this.Yq=null);this.$q&&(h.La(this.$q),this.$q=null);this.hr&&(h.La(this.hr),this.hr=null)};b.UG=function(a){var c;a:{for(var d=a.target;null!=d;){if(c=h.Ga.Ad.ct[d.id])break a;if(d==this.wa())break;if(d.getAttribute("role")==h.g.X.cg.ux)break;d=d.parentNode}c=null}if(c)switch(a.type){case "mousedown":c.jB(a);break;case "click":c.gB(a)}};
b.QG=function(a){var c=!1;if(c=this.Rd&&this.Rd.$n(a)||c)h.g.style.ew(this.Rd.wa(),this.wa().parentNode),a.preventDefault();return c};b.createNode=function(a){return new h.Ga.ci(this.ta,a||"",this.zc)};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.uj=function(a){this.s=a;this.H=a.options.H;this.Nf=a.options.Mf;this.Ja=a.options.Ja;this.zc={AA:19,HF:"blocklyTreeRoot",FF:"blocklyHidden",qz:"blocklyTreeRow",GF:"blocklyTreeLabel",fq:"blocklyTreeIcon",oz:"blocklyTreeIconOpen",pz:"blocklyTreeIconNone",IF:"blocklyTreeSelected"};this.WB={qz:"blocklyTreeSeparator"};this.Nf&&(this.zc.cssTreeRow+=a.H?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.WB.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.H?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.zc.cssTreeIcon="");this.$=null};b=h.uj.prototype;b.width=0;b.height=0;b.pk=null;b.Ol=null;
b.P=function(){var a=this.s,c=u(this.s);this.Ic=document.createElement("div");this.Ic.className="blocklyToolboxDiv blocklyNonSelectable";this.Ic.setAttribute("dir",a.H?"RTL":"LTR");c.parentNode.insertBefore(this.Ic,c);var d=a.hc;d.subscribe(this.Ic,"toolboxBackgroundColour","background-color");d.subscribe(this.Ic,"toolboxForegroundColour","color");h.oa(this.Ic,"mousedown",this,function(e){h.g.Zj(e)||e.target==this.Ic?h.Bc(!1):h.Bc(!0);h.Touch.ji()},!1,!0);d=new h.Vc({parentWorkspace:a,rtl:a.H,oneBasedIndex:a.options.Eh,
horizontalLayout:a.Mf,renderer:a.options.qo,rendererOverrides:a.options.so});d.Ja=a.options.Ja;if(a.Mf){if(!h.rm)throw Error("Missing require for Blockly.HorizontalFlyout");this.$=new h.rm(d)}else{if(!h.ah)throw Error("Missing require for Blockly.VerticalFlyout");this.$=new h.ah(d)}if(!this.$)throw Error("One of Blockly.VerticalFlyout or Blockly.Horizontal must berequired.");h.g.o.Tj(this.$.Ea("svg"),c);this.$.P(a);this.zc.cleardotPath=a.options.Bg+"1x1.gif";this.zc.cssCollapsedFolderIcon="blocklyTreeIconClosed"+
(a.H?"Rtl":"Ltr");Bb(this,a.options.yg)};function Bb(a,c){a.jd&&(a.jd.F(),a.Ol=null);var d=new h.Ga.wj(a,a.zc);a.jd=d;qb(d,null);d.eB=a.LG;d.dB=a.KG;var e=null;if(c){a.jd.lg=[];a.Lu=!1;e=Cb(a,c,a.jd,a.s.options.Bg);if(a.jd.lg.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");za(a.s)}d.Ba(a.Ic);e&&qb(d,e);Db(a);a.position();a.Nf&&h.g.X.Ib(a.jd.wa(),h.g.X.State.hE,"horizontal")}
b.LG=function(a){if(a==this.jd)return!1;this.Ol&&(ob(this.Ol).style.backgroundColor="");if(a){var c=a.Oj||"#57e";ob(a).style.backgroundColor=c;Db(this,a)}return!0};b.KG=function(a,c){c&&c.lg&&c.lg.length?(this.$.show(c.lg),this.Ol!=c&&this.$.Ec.set(0),this.s.Cc&&h.navigation.Ib(h.navigation.Ts)):(this.$.Ha(),!this.s.Cc||c instanceof h.uj.Ys||h.navigation.Ib(h.navigation.Im));a!=c&&a!=this&&(a=new h.i.kc(null,"category",a&&a.content,c&&c.content),a.Tb=this.s.id,h.i.Fa(a));c&&(this.Ol=c)};b.XG=function(){h.dm(this.s)};
b.Qd=function(a){var c=this.jd.Rd;if(!c)return!1;switch(a.name){case h.navigation.Da.ve:return zb(c);case h.navigation.Da.Ip:return xb(c);case h.navigation.Da.ue:return yb(c);case h.navigation.Da.xp:return $a(c);default:return!1}};b.F=function(){this.$.F();this.jd.F();this.s.hc.unsubscribe(this.Ic);h.g.o.removeNode(this.Ic);this.Ol=null};b.sh=function(){return this.width};b.bA=function(){return this.height};b.Lc=function(){return this.$};
b.position=function(){var a=this.Ic;if(a){var c=h.SB(u(this.s));this.Nf?(a.style.left="0",a.style.height="auto",a.style.width=c.width+"px",this.height=a.offsetHeight,this.Ja==h.Yg?a.style.top="0":a.style.bottom="0"):(this.Ja==h.Xg?a.style.right="0":a.style.left="0",a.style.height=c.height+"px",this.width=a.offsetWidth);this.$.position()}};
function Cb(a,c,d,e){for(var f=null,g=null,k=0,l;l=c.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":g=h.g.oe(l.getAttribute("name"));var m=a.jd.createNode(g);m.nB=a.XG;m.lg=[];d.add(m);var n=l.getAttribute("custom");n?m.lg=n:(n=Cb(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var q=l.getAttribute("colour");q&&n?(m.Oj="",console.warn('Toolbox category "'+g+'" can not have both a style and a colour')):n?Eb(a,n,m,g):Fb(a,q,m,g);"true"==l.getAttribute("expanded")?
(m.lg.length&&(f=m),m.rk(!0)):m.rk(!1);g=l;break;case "SEP":if(g&&"CATEGORY"==g.tagName.toUpperCase()){d.add(new h.uj.Ys(a.WB));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.lg.push(l),g=l}return f}function Fb(a,c,d,e){c=h.g.oe(c);if(null===c||""===c)d.Oj="";else{var f=Number(c);isNaN(f)?(f=h.g.qb.parse(c))?(d.Oj=f,a.Lu=!0):(d.Oj="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+c)):(d.Oj=h.cH(f),a.Lu=!0)}}
function Eb(a,c,d,e){d.RB=c;var f=a.s.qh();c&&f&&((f=f.Wp[c])&&f.qb?Fb(a,f.qb,d,e):console.warn('Style "'+c+'" must exist and contain a colour value'))}function Gb(a,c){if(c=c||a.jd){c=c.nh(!1);for(var d=0,e;e=c[d];d++)e.RB&&(Eb(a,e.RB,e,""),Db(a)),Gb(a,e)}}function Hb(a){var c=a.jd;if(c&&(Gb(a,c),c=c.Rd)){var d=c.Oj||"#57e";ob(c).style.backgroundColor=d;Db(a,c)}}
function Db(a,c){c=(c||a.jd).nh(!1);for(var d=0,e;e=c[d];d++){var f=ob(e);if(f){var g=a.Lu?"8px solid "+(e.Oj||"#ddd"):"none";a.s.H?f.style.borderRight=g:f.style.borderLeft=g}Db(a,e)}}b.xn=function(){if(!this.Ic)return null;var a=this.Ic.getBoundingClientRect(),c=a.top,d=c+a.height,e=a.left;a=e+a.width;return this.Ja==h.Yg?new h.g.Rect(-1E7,d,-1E7,1E7):this.Ja==h.sj?new h.g.Rect(c,1E7,-1E7,1E7):this.Ja==h.ce?new h.g.Rect(-1E7,1E7,-1E7,a):new h.g.Rect(-1E7,1E7,e,1E7)};
h.uj.Ys=function(a){h.Ga.ci.call(this,null,"",a)};h.g.object.W(h.uj.Ys,h.Ga.ci);
h.md.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {",
"height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;",
"margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {",
"background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",
'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);h.Yc=function(a){this.s=a;this.Aj=[];this.Hj=null;if(!(0>=this.s.options.Sq)){a=new h.Vc({scrollbars:!0,parentWorkspace:this.s,rtl:this.s.H,oneBasedIndex:this.s.options.Eh,renderer:this.s.options.qo,rendererOverrides:this.s.options.so});if(this.s.Mf){a.Ja=this.s.Ja==h.Yg?h.sj:h.Yg;if(!h.rm)throw Error("Missing require for Blockly.HorizontalFlyout");this.Hj=new h.rm(a)}else{a.Ja=this.s.Ja==h.Xg?h.ce:h.Xg;if(!h.ah)throw Error("Missing require for Blockly.VerticalFlyout");this.Hj=new h.ah(a)}D(this.s,
this.SH.bind(this))}};b=h.Yc.prototype;b.xj=47;b.ap=44;b.Rk=16;b.ys=20;b.tm=20;b.Cp=10;b.Rs=0;b.Ss=32;b.pD=.1;h.Yc.sC=80;h.Yc.Rw=4;h.Yc.Wx=.4;h.Yc.eE=.8;h.Yc.Kx=45;b=h.Yc.prototype;b.Kq=!1;b.qv=0;b.L=null;b.Gr=null;b.cv=0;b.Hi=0;b.Pn=0;b.hm=0;
b.Ea=function(){this.L=h.g.o.J("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.o.J("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.L);h.g.o.J("rect",{width:this.xj,height:this.ap,y:this.Rk},c);var d=h.g.o.J("image",{width:h.Gd.width,x:-this.Rs,height:h.Gd.height,y:-this.Ss,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.L);d.setAttributeNS(h.g.o.zf,"xlink:href",this.s.options.Bg+h.Gd.url);c=h.g.o.J("clipPath",{id:"blocklyTrashLidClipPath"+a},this.L);
h.g.o.J("rect",{width:this.xj,height:this.Rk},c);this.Gr=h.g.o.J("image",{width:h.Gd.width,x:-this.Rs,height:h.Gd.height,y:-this.Ss,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.L);this.Gr.setAttributeNS(h.g.o.zf,"xlink:href",this.s.options.Bg+h.Gd.url);h.oa(this.L,"mouseup",this,this.click);h.qd(d,"mouseover",this,this.BH);h.qd(d,"mouseout",this,this.zH);this.dt();return this.L};
b.P=function(a){0<this.s.options.Sq&&(h.g.o.Tj(this.Hj.Ea("svg"),u(this.s)),this.Hj.P(this.s));this.Sh=this.ys+a;Ib(this,!1);return this.Sh+this.ap+this.Rk};b.F=function(){this.L&&(h.g.o.removeNode(this.L),this.L=null);this.s=this.Gr=null;clearTimeout(this.cv)};
b.position=function(){if(this.Sh){var a=this.s.Mc();a&&(this.Pn=a.Ja==h.ce||this.s.Mf&&!this.s.H?a.rb+a.xc-this.xj-this.tm-h.Pa.Dc:this.tm+h.Pa.Dc,this.hm=a.Ja==h.sj?this.Sh:a.Cb+a.Jc-(this.ap+this.Rk)-this.Sh,this.L.setAttribute("transform","translate("+this.Pn+","+this.hm+")"))}};b.xn=function(){if(!this.L)return null;var a=this.L.getBoundingClientRect(),c=a.top+this.Ss-this.Cp;a=a.left+this.Rs-this.Cp;return new h.g.Rect(c,c+this.Rk+this.ap+2*this.Cp,a,a+this.xj+2*this.Cp)};
function Ib(a,c){a.Kq!=c&&(clearTimeout(a.cv),a.Kq=c,a.dt())}b.dt=function(){var a=1/(h.Yc.Rw+1);this.Hi+=this.Kq?a:-a;this.Hi=Math.min(Math.max(this.Hi,this.qv),1);Jb(this,this.Hi*h.Yc.Kx);this.L.style.opacity=h.Yc.Wx+this.Hi*(h.Yc.eE-h.Yc.Wx);this.Hi>this.qv&&1>this.Hi&&(this.cv=setTimeout(this.dt.bind(this),h.Yc.sC/h.Yc.Rw))};function Jb(a,c){var d=a.s.Ja==h.Xg||a.s.Mf&&a.s.H;a.Gr.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.xj-4)+","+(a.Rk-2)+")")}b.close=function(){Ib(this,!1)};
b.click=function(){if(this.Aj.length){for(var a=[],c=0,d;d=this.Aj[c];c++)a[c]=h.R.bj(d);this.Hj.show(a)}};b.BH=function(){this.Aj.length&&Ib(this,!0)};b.zH=function(){Ib(this,!1)};
b.SH=function(a){if(!(0>=this.s.options.Sq)&&a.type==h.i.Ur&&"shadow"!=a.Ev.tagName.toLowerCase()){for(var c=a=a.Ev.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.R.ze(a);if(-1==this.Aj.indexOf(a)){for(this.Aj.unshift(a);this.Aj.length>
this.s.options.Sq;)this.Aj.pop();this.qv=a=this.pD;this.Kq||Jb(this,a*h.Yc.Kx)}}};h.M=Object.create(null);h.va=function(a,c){this.G=a;this.type=c};h.va.hp=0;h.va.by=1;h.va.iy=2;h.va.gy=3;h.va.$x=4;h.va.ay=5;h.va.ey=6;b=h.va.prototype;b.ga=null;b.tg=!1;b.dh=null;b.Qf=null;b.x=0;b.y=0;
b.Df=function(a){var c=this,d=c.U(),e=a.U();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.la(),g=c.Qf;c.Qf=null;if(f.Va)g=h.R.gi(f),f.F(!1),f=null;else if(c.type==h.cb){if(!f.K)throw Error("Orphan block does not have an output connection.");var k=h.va.LA(e,f);k&&(f.K.connect(k),f=null)}else if(c.type==h.mb){if(!f.Y)throw Error("Orphan block does not have a previous connection.");for(k=e;k.T;){var l=t(k);if(l&&!l.Va)k=l;else{Kb(f.Y,k.T)&&(k.T.connect(f.Y),f=null);break}}}if(f&&(c.disconnect(),
h.i.Qc)){var m=h.i.ac();setTimeout(function(){f.w&&!f.getParent()&&(h.i.aa(m),f.K?f.K.cr(c):f.Y&&f.Y.cr(c),h.i.aa(!1))},h.bp)}c.Qf=g}var n;h.i.isEnabled()&&(n=new h.i.mm(e));h.va.wF(c,a);e.$l(d);n&&(n.mk(),h.i.Fa(n))};b.F=function(){if(this.isConnected()){this.Qf=null;var a=this.la();a.Va?a.F(!1):w(a)}this.tg=!0};b.U=function(){return this.G};function F(a){return a.type==h.cb||a.type==h.mb}b.isConnected=function(){return!!this.ga};
function bb(a,c){if(!c)return h.va.gy;if(F(a))var d=a.G,e=c.U();else e=a.G,d=c.U();return d&&d==e?h.va.by:c.type!=h.Uk[a.type]?h.va.iy:d&&e&&d.w!==e.w?h.va.ay:Kb(a,c)?d.Va&&!e.Va?h.va.ey:h.va.hp:h.va.$x}
function db(a,c){switch(bb(a,c)){case h.va.hp:break;case h.va.by:throw Error("Attempted to connect a block to itself.");case h.va.ay:throw Error("Blocks not on same workspace.");case h.va.iy:throw Error("Attempt to connect incompatible types.");case h.va.gy:throw Error("Target connection is null.");case h.va.$x:throw Error("Connection checks failed. "+(a+" expected "+a.dh+", found "+c.dh));case h.va.ey:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.Gq=function(a){if(a.G.Di()||bb(this,a)!=h.va.hp)return!1;switch(a.type){case h.vf:return this.ga||-1!=h.yl.indexOf(a)?a=!1:a.ga?(a=a.la(),a=a.Di()?!(a.Y&&a.Y.la()):!1):a=!0,a;case h.uf:if(a.isConnected()&&!a.la().Di()||this.isConnected())return!1;break;case h.cb:if(a.isConnected()&&!a.la().Nc()&&!a.la().Va)return!1;break;case h.mb:if(a.isConnected()&&!this.G.T&&!a.la().Va&&a.la().T)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=h.yl.indexOf(a)?!1:
!0};b.cr=function(){};b.connect=function(a){if(this.ga!=a){db(this,a);var c=h.i.ac();c||h.i.aa(!0);F(this)?this.Df(a):a.Df(this);c||h.i.aa(!1)}};h.va.wF=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ga=c;c.ga=a};h.va.AI=function(a,c){for(var d=null,e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==h.cb&&Kb(c.K,f)){if(d)return null;d=f}}return d};h.va.LA=function(a,c){for(var d;d=h.va.AI(a,c);)if(a=d.la(),!a||a.Va)return d;return null};b=h.va.prototype;
b.disconnect=function(){var a=this.ga;if(!a)throw Error("Source connection not connected.");if(a.ga!=this)throw Error("Target connection not connected to source connection.");if(F(this)){var c=this.G;var d=a.U();a=this}else c=a.U(),d=this.G;var e=h.i.ac();e||h.i.aa(!0);this.Vt(c,d);a.bw();e||h.i.aa(!1)};b.Vt=function(a,c){var d;h.i.isEnabled()&&(d=new h.i.mm(c));this.ga=this.ga.ga=null;c.$l(null);d&&(d.mk(),h.i.Fa(d))};
b.bw=function(){var a=this.U(),c=this.Qf;if(a.w&&c&&h.i.Qc)if(a=h.R.Fj(c,a.w),a.K)this.connect(a.K);else if(a.Y)this.connect(a.Y);else throw Error("Child block does not have output or previous statement.");};b.la=function(){return this.isConnected()?this.ga.U():null};function Kb(a,c){if(!a.dh||!c.dh)return!0;for(var d=0;d<a.dh.length;d++)if(-1!=c.dh.indexOf(a.dh[d]))return!0;return!1}b.fB=function(){!this.isConnected()||this.ga&&Kb(this,this.ga)||w(F(this)?this.la():this.G)};
b.lb=function(a){a?(Array.isArray(a)||(a=[a]),this.dh=a,this.fB()):this.dh=null;return this};b.ZA=function(){return[]};b.vg=function(){for(var a=null,c=this.G,d=c.O,e=0;e<c.O.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.G;if(a)if(a.K==this)var c="Output Connection of ";else if(a.Y==this)c="Previous Connection of ";else if(a.T==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.O[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.ba={};h.ba.km={};h.ba.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.ba.km[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.ba.km[a]=c};h.ba.qr=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.ba.register(a,function(){this.ff(c)})};
h.ba.Yv=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.ba.Yy(f,c.Fb,"domToMutation");h.ba.Yy(f,c.fb,"mutationToDom");var g=h.ba.$y(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.ba.register(a,function(){if(g){if(!h.Vb)throw Error(f+"Missing require for Blockly.Mutator");this.Xi(new h.Vb(e||[]))}this.ff(c);d&&d.apply(this)})};h.ba.unregister=function(a){h.ba.km[a]?delete h.ba.km[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.ba.apply=function(a,c,d){var e=h.ba.km[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.ba.nF(a,c);else var f=h.ba.Cu(c);e.apply(c);if(d)h.ba.kF('Error after applying mutator "'+a+'": ',c);else if(!h.ba.HH(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.ba.Yy=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.ba.nF=function(a,c){if(h.ba.Cu(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.ba.$y=function(a,c){var d=void 0!==a.gh,e=void 0!==a.jh;if(d&&e){if("function"!=typeof a.gh)throw Error(c+"compose must be a function.");if("function"!=typeof a.jh)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
h.ba.kF=function(a,c){if("function"!=typeof c.Fb)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.fb)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.ba.$y(c,a)};h.ba.Cu=function(a){var c=[];void 0!==a.Fb&&c.push(a.Fb);void 0!==a.fb&&c.push(a.fb);void 0!==a.gh&&c.push(a.gh);void 0!==a.jh&&c.push(a.jh);return c};h.ba.HH=function(a,c){c=h.ba.Cu(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.ba.Tp=function(a,c){var d=[];"object"==typeof document&&h.g.FB(function(){for(var e in c)h.g.Zy(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.ba.lF(this,a,c),d.push(this.type));this.Ya(function(){var e=String(C(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.oe(f);return f}.bind(this))}};
h.ba.lF=function(a,c,d){var e=v(a,c);if("function"!=typeof e.fk){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.ba.tt=function(a){"object"==typeof document&&h.g.FB(function(){h.g.Zy(a)});return function(){this.Ya(function(){var c=v(this,"VAR");return h.g.oe(a).replace("%1",c?c.$c():"")}.bind(this))}};
h.ba.gG=function(){this.OI=this.Uf;this.Ya(function(){var a=this.getParent();return a&&Lb(a)&&a.Uf||this.OI}.bind(this))};h.ba.register("parent_tooltip_when_inline",h.ba.gG);h.ud={};h.ud.Oo={};h.ud.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'". The type must be a non-empty string.');if(h.ud.Oo[a])throw Error('Error: Field "'+a+'" is already registered.');if(!c||"function"!=typeof c.za)throw Error('Field "'+c+'" must have a fromJson function');a=a.toLowerCase();h.ud.Oo[a]=c};h.ud.unregister=function(a){h.ud.Oo[a]?delete h.ud.Oo[a]:console.warn('No field mapping for type "'+a+'" found to unregister')};
h.ud.za=function(a){var c=h.ud.Oo[a.type.toLowerCase()];return c?c.za(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.pb={};h.pb.Wt=0;h.pb.iq=null;h.pb.VF=function(a){var c=a.w,d=a.Na();c.di.play("delete");a=Mb(c,d);d=d.cloneNode(!0);d.RI=a.x;d.SI=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");u(c).appendChild(d);d.Ry=d.getBBox();h.pb.Gz(d,c.H,new Date,c.scale)};h.pb.Gz=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.o.removeNode(a):(a.setAttribute("transform","translate("+(a.RI+(c?-1:1)*a.Ry.width*e/2*f)+","+(a.SI+a.Ry.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.pb.Gz,10,a,c,d,e))};
h.pb.xF=function(a){var c=a.w,d=c.scale;c.di.play("click");if(!(1>d)){var e=Mb(c,a.Na());a.K?(e.x+=(a.H?3:-3)*d,e.y+=13*d):a.Y&&(e.x+=(a.H?-23:23)*d,e.y+=3*d);a=h.g.o.J("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},u(c));h.pb.gz(a,new Date,d)}};h.pb.gz=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.o.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.pb.Wt=setTimeout(h.pb.gz,10,a,c,d))};
h.pb.UF=function(a){a.w.di.play("disconnect");if(!(1>a.w.scale)){var c=G(a).height;c=Math.atan(10/c)/Math.PI*180;a.H||(c*=-1);h.pb.Ez(a.Na(),c,new Date)}};h.pb.Ez=function(a,c,d){var e=(new Date-d)/200;1<e?a.Co="":(a.Co="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.pb.iq=a,h.pb.Wt=setTimeout(h.pb.Ez,10,a,c,d));a.setAttribute("transform",a.No+a.Co)};h.pb.Xt=function(){if(h.pb.iq){clearTimeout(h.pb.Wt);var a=h.pb.iq;a.Co="";a.setAttribute("transform",a.No);h.pb.iq=null}};h.tf=function(a){this.Ph=h.selected=a;this.s=a.w;this.Pl=this.Zu=null;this.sn=Nb(this,this.Ph);this.vd=this.Zb=null;this.Lg=!1;this.qn=this.Ou=this.bk=null;a=this.Ph.Jf(!1);var c=this.Ph.Oq();c&&c!=this.Ph.T&&(a.push(c),this.Zu=c,this.Pl=Nb(this,c.U()));this.mt=a};h.tf.Wk={rs:0,xD:1,ky:2};h.tf.prototype.F=function(){this.mt.length=0;h.i.disable();try{this.sn&&this.sn.F(),this.Pl&&this.Pl.F()}finally{h.i.enable()}};
h.tf.prototype.update=function(a,c){var d=this.Zb&&this.vd?h.KC:h.Fd;for(var e=null,f=null,g=0;g<this.mt.length;g++){var k=this.mt[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.pr)}e=(d={closest:e,local:f,pr:d},!!d.closest)&&c!=h.hx;if((this.Lg=!!c&&!this.Ph.getParent()&&this.Ph.De()&&!e)||Ob(this,d,a)){h.i.disable();d.closest?(a=this.Zb!=d.closest,c=this.vd!=d.local,this.Zb&&this.vd&&(a||c||this.Lg)&&Pb(this)):Pb(this);this.vd=this.Zb=this.bk=null;if(!this.Lg&&(a=d.closest,c=d.local,
a))if(a==this.Zb||a.U().Di())console.log("Trying to connect to an insertion marker");else{this.Zb=a;this.vd=c;a=this.Zb;d=this.vd;c=this.Ph;d.type==h.uf||d.type==h.vf?((e=!a.isConnected())||(e=a.la(),d.type==h.uf?(d=e.K,c=h.va.LA(c,e)):(d=e.Y,c=c.Oq()),e=c?Kb(d,c):!1),c=e?h.tf.Wk.rs:h.tf.Wk.ky):c=h.tf.Wk.rs;switch(c){case h.tf.Wk.xD:this.Ou=this.Zb.U();break;case h.tf.Wk.rs:e=this.vd;c=this.Zb;d=this.Zu&&e==this.Zu?this.Pl:this.sn;e=d.Bu(e.U(),e);if(e==this.bk)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.Ba();d.na=!0;d.Na().setAttribute("visibility","visible");e&&c&&cb(d,e,c);c&&e.connect(c);this.bk=e;break;case h.tf.Wk.ky:this.qn=this.Zb.la(),Qb(this.qn.Ab,"blocklyReplaceable",!0)}a&&(d=a.G.w.wb.ca(),c=Rb(d,a),a.type==h.cb||a.type==h.uf?(d=d.bl,c=h.g.B.moveBy(0,-d)+h.g.B.ea("v",d)+c.jf+h.g.B.ea("v",d)):(d=d.zm-d.xb,c=h.g.B.moveBy(-d,0)+h.g.B.ea("h",d)+c.Qi+h.g.B.ea("h",d)),d=a.G.Ua(),h.va.yA=h.g.o.J("path",{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-
d.y)+")"+(a.G.H?" scale(-1 1)":"")},a.G.Na()))}h.i.enable()}};function Nb(a,c){var d=c.type;h.i.disable();try{var e=a.s.Li(d);e.HB(!0);if(c.fb){var f=c.fb();f&&e.Fb(f)}e.Jh(c.isCollapsed());e.Fc(Lb(c));for(a=0;a<c.O.length;a++){var g=c.O[a];if(g.isVisible()){var k=e.O[a];for(d=0;d<g.Ta.length;d++)k.Ta[d].setValue(g.Ta[d].getValue())}}e.df();e.Na().setAttribute("visibility","hidden")}finally{h.i.enable()}return e}
function Ob(a,c,d){var e=c.local,f=c.closest;c=c.pr;if(e&&f){if(a.vd&&a.Zb){if(a.Zb==f&&a.vd==e)return!1;e=a.vd.x+d.x-a.Zb.x;a=a.vd.y+d.y-a.Zb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.NC)}if(a.vd||a.Zb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.vd||!a.Zb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function Pb(a){a.Zb&&a.Zb.la()&&(h.g.o.removeNode(h.va.yA),delete h.va.yA);if(a.qn)Qb(a.qn.Ab,"blocklyReplaceable",!1),a.qn=null;else if(a.Ou)a.Ou=null;else if(a.bk)if(a.bk){var c=a.bk,d=c.U(),e=d.T,f=d.Y,g=d.K;g=c.type==h.cb&&!(g&&g.ga);!(c!=e||f&&f.ga)||g?w(c.la(),!1):c.type==h.mb&&c!=e?(e=c.ga,w(e.U(),!1),f=f?f.ga:null,w(d,!0),f&&f.connect(e)):w(d,!0);if(c.ga)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.bk=null;d.Na().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
h.tf.prototype.Bl=function(){var a=[];this.sn&&a.push(this.sn);this.Pl&&a.push(this.Pl);return a};h.gj=function(a,c){this.ub=a;this.s=c;this.lh=new h.tf(this.ub);this.Dj=null;this.Lg=!1;this.Ig=this.ub.Ua();this.lq=h.gj.eH(a)};h.gj.prototype.F=function(){this.lq.length=0;this.lh&&this.lh.F()};h.gj.eH=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=Sb(e);for(var f=0;f<e.length;f++)c.push({location:e[f].Qj,icon:e[f]})}return c};
function Tb(a,c,d){d=a.Sl(d);var e=h.g.S.sum(a.Ig,d);a.ub.vv(e);for(e=0;e<a.lq.length;e++){var f=a.lq[e],g=f.icon;f=h.g.S.sum(f.location,d);g.Qj=f;g.isVisible()&&(g=g.Rb,g.Xb=f,g.xr&&Ia(g))}a.Dj=Ub(a.s,c);a.lh.update(d,a.Dj);a.Lg=a.lh.Lg;c=a.s.hd;a.Lg?(Vb(a.ub,!0),a.Dj==h.fs&&c&&Ib(c,!0)):(Vb(a.ub,!1),c&&Ib(c,!1))}
function Wb(a,c,d){Tb(a,c,d);a.lq=[];c=new h.i.kc(a.ub,"dragStop",p(a.ub,!1),null);h.i.Fa(c);h.g.o.Ho();h.pb.Xt();d=a.Sl(d);c=h.g.S.sum(a.Ig,d);var e=a.ub;e.Uo&&(e.translate(c.x,c.y),e.w.we.Yp(e.w.jb));c=a.s.hd;a.Lg?(c&&setTimeout(c.close.bind(c),100),a.rn(),a.ub.F(!1,!0),h.yl=[]):c&&c.close();a.Lg||(Xb(a.ub,d.x,d.y),a.ub.Wi(!1),a.rn(),a.lh.Zb?(d=a.lh,d.Zb&&(h.i.disable(),Pb(d),h.i.enable(),d.vd.connect(d.Zb),d.Ph.na&&(h.pb.xF((F(d.vd)?d.Zb:d.vd).U()),fb(d.Ph.Ld())))):a.ub.Ba(),Yb(a.ub));a.s.Rc(!0);
(d=a.s.ta)&&h.g.o.Bb(d.Ic,a.ub.De()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.i.aa(!1)}h.gj.prototype.rn=function(){var a=new h.i.mm(this.ub);a.Bv=this.Ig;a.mk();h.i.Fa(a)};h.gj.prototype.Sl=function(a){a=new h.g.S(a.x/this.s.scale,a.y/this.s.scale);this.s.On&&a.scale(1/this.s.options.qc.scale);return a};h.gj.prototype.Bl=function(){return this.lh&&this.lh.Bl?this.lh.Bl():[]};h.i.Ng=function(a){this.ng=a.id;this.Tb=a.w.id;this.group=h.i.ac();this.Qc=h.i.Qc};h.g.object.W(h.i.Ng,h.i.Abstract);h.i.Ng.prototype.ab=function(){var a=h.i.Ng.A.ab.call(this);this.ng&&(a.commentId=this.ng);return a};h.i.Ng.prototype.za=function(a){h.i.Ng.A.za.call(this,a);this.ng=a.commentId};h.i.Hk=function(a,c,d){a&&(h.i.Hk.A.constructor.call(this,a),this.$A=c,this.Xq=d)};h.g.object.W(h.i.Hk,h.i.Ng);b=h.i.Hk.prototype;b.type=h.i.Yw;
b.ab=function(){var a=h.i.Hk.A.ab.call(this);a.newContents=this.Xq;return a};b.za=function(a){h.i.Hk.A.za.call(this,a);this.Xq=a.newValue};b.Ml=function(){return this.$A==this.Xq};b.run=function(a){var c;(c=ta(this).bq[this.ng]||null)?c.hM(a?this.Xq:this.$A):console.warn("Can't change non-existent comment: "+this.ng)};h.i.Og=function(a){a&&(h.i.Og.A.constructor.call(this,a),this.xml=a.ww())};h.g.object.W(h.i.Og,h.i.Ng);h.i.Og.prototype.type=h.i.ip;
h.i.Og.prototype.ab=function(){var a=h.i.Og.A.ab.call(this);a.xml=h.R.ze(this.xml);return a};h.i.Og.prototype.za=function(a){h.i.Og.A.za.call(this,a);this.xml=h.R.bj(a.xml)};h.i.Og.prototype.run=function(a){h.i.ax(this,a)};h.i.ax=function(a,c){var d=ta(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.R.oi(c,d)):(d=d.bq[a.ng]||null)?d.F(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.ng)};h.i.Pg=function(a){a&&(h.i.Pg.A.constructor.call(this,a),this.xml=a.ww())};
h.g.object.W(h.i.Pg,h.i.Ng);h.i.Pg.prototype.type=h.i.Zw;h.i.Pg.prototype.ab=function(){return h.i.Pg.A.ab.call(this)};h.i.Pg.prototype.za=function(a){h.i.Pg.A.za.call(this,a)};h.i.Pg.prototype.run=function(a){h.i.ax(this,!a)};h.i.jj=function(a){a&&(h.i.jj.A.constructor.call(this,a),this.Et=a,this.Cv=a.nA(),this.gk=null)};h.g.object.W(h.i.jj,h.i.Ng);b=h.i.jj.prototype;
b.mk=function(){if(!this.Et)throw Error("Tried to record the new position of a comment on the same event twice.");this.gk=this.Et.nA();this.Et=null};b.type=h.i.jp;b.ab=function(){var a=h.i.jj.A.ab.call(this);this.gk&&(a.newCoordinate=Math.round(this.gk.x)+","+Math.round(this.gk.y));return a};b.za=function(a){h.i.jj.A.za.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.gk=new h.g.S(Number(a[0]),Number(a[1])))};b.Ml=function(){return h.g.S.Ye(this.Cv,this.gk)};
b.run=function(a){var c;if(c=ta(this).bq[this.ng]||null){a=a?this.gk:this.Cv;var d=c.nA();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.ng)};h.gp=function(a,c){this.Ac=a;this.s=c;this.Dj=null;this.Mr=!1;this.Ig=this.Ac.Ua();this.Gj=h.g.Uj()&&c.we?c.we:null};h.gp.prototype.F=function(){this.Gj=this.s=this.Ac=null};function Zb(a,c,d){d=a.Sl(d);d=h.g.S.sum(a.Ig,d);a.Ac.vv(a.Gj,d);a.Ac.De()&&(a.Dj=Ub(a.s,c),a.Mr=a.Dj!=h.gx,c=a.s.hd,a.Mr?(Vb(a.Ac,!0),a.Dj==h.fs&&c&&Ib(c,!0)):(Vb(a.Ac,!1),c&&Ib(c,!1)))}
function $b(a,c,d){Zb(a,c,d);c=a.Sl(d);c=h.g.S.sum(a.Ig,c);a.Ac.moveTo(c.x,c.y);c=a.s.hd;a.Mr?(c&&setTimeout(c.close.bind(c),100),a.rn(),a.Ac.F(!1,!0)):c&&c.close();a.Mr||(a.Gj&&a.Gj.Yp(a.s.Sf),a.Ac.Wi&&a.Ac.Wi(!1),a.rn());a.s.Rc(!0);a.s.ta&&h.g.o.Bb(a.s.ta.Ic,a.Ac.De()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.i.aa(!1)}h.gp.prototype.rn=function(){if(this.Ac.FA){var a=new h.i.jj(this.Ac);a.Cv=this.Ig;a.mk();h.i.Fa(a)}};
h.gp.prototype.Sl=function(a){a=new h.g.S(a.x/this.s.scale,a.y/this.s.scale);this.s.On&&a.scale(1/this.s.options.qc.scale);return a};h.Nm=function(a){this.s=a;this.PB=new h.g.S(a.scrollX,a.scrollY)};h.Nm.prototype.F=function(){this.s=null};h.Nm.prototype.rw=function(){h.selected&&ac(h.selected);qa(this.s)};h.Nm.prototype.pi=function(a){a=h.g.S.sum(this.PB,a);this.s.scroll(a.x,a.y)};h.vp=function(a){h.vp.A.constructor.call(this,a.s);this.Ec=a.Ec;this.Nf=a.Nf};h.g.object.W(h.vp,h.Nm);h.vp.prototype.pi=function(a){a=h.g.S.sum(this.PB,a);this.Nf?this.Ec.set(-a.x):this.Ec.set(-a.y)};h.I={};h.I.visible=!1;h.I.jl=!1;h.I.HD=50;h.I.XA=0;h.I.Bo=0;h.I.av=0;h.I.bv=0;h.I.eb=null;h.I.co=null;h.I.Ux=0;h.I.Vx=10;h.I.nE=10;h.I.rD=750;h.I.xs=5;h.I.bb=null;h.I.Ea=function(){h.I.bb||(h.I.bb=document.createElement("div"),h.I.bb.className="blocklyTooltipDiv",(h.lr||document.body).appendChild(h.I.bb))};h.I.il=function(a){a.AH=h.qd(a,"mouseover",null,h.I.ZH);a.yH=h.qd(a,"mouseout",null,h.I.YH);a.addEventListener("mousemove",h.I.mB,!1)};
h.I.Bw=function(a){a&&(h.La(a.AH),h.La(a.yH),a.removeEventListener("mousemove",h.I.mB))};h.I.ZH=function(a){if(!h.I.jl){for(a=a.currentTarget;"string"!=typeof a.Uf&&"function"!=typeof a.Uf;)a=a.Uf;h.I.eb!=a&&(h.I.Ha(),h.I.co=null,h.I.eb=a);clearTimeout(h.I.XA)}};h.I.YH=function(){h.I.jl||(h.I.XA=setTimeout(function(){h.I.eb=null;h.I.co=null;h.I.Ha()},1),clearTimeout(h.I.Bo))};
h.I.mB=function(a){if(h.I.eb&&h.I.eb.Uf&&!h.I.jl)if(h.I.visible){var c=h.I.av-a.pageX;a=h.I.bv-a.pageY;Math.sqrt(c*c+a*a)>h.I.nE&&h.I.Ha()}else h.I.co!=h.I.eb&&(clearTimeout(h.I.Bo),h.I.av=a.pageX,h.I.bv=a.pageY,h.I.Bo=setTimeout(h.I.zI,h.I.rD))};h.I.F=function(){h.I.eb=null;h.I.co=null;h.I.Ha()};h.I.Ha=function(){h.I.visible&&(h.I.visible=!1,h.I.bb&&(h.I.bb.style.display="none"));h.I.Bo&&clearTimeout(h.I.Bo)};h.I.block=function(){h.I.Ha();h.I.jl=!0};h.I.TI=function(){h.I.jl=!1};
h.I.zI=function(){if(!h.I.jl&&(h.I.co=h.I.eb,h.I.bb)){h.I.bb.textContent="";for(var a=h.I.eb.Uf;"function"==typeof a;)a=a();a=h.g.gb.eC(a,h.I.HD);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.I.bb.appendChild(d)}a=h.I.eb.H;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.I.bb.style.direction=a?"rtl":"ltr";h.I.bb.style.display="block";h.I.visible=!0;var e=h.I.av;e=a?e-(h.I.Ux+h.I.bb.offsetWidth):
e+h.I.Ux;var f=h.I.bv+h.I.Vx;f+h.I.bb.offsetHeight>d+window.scrollY&&(f-=h.I.bb.offsetHeight+2*h.I.Vx);a?e=Math.max(h.I.xs-window.scrollX,e):e+h.I.bb.offsetWidth>c+window.scrollX-2*h.I.xs&&(e=c-h.I.bb.offsetWidth-2*h.I.xs);h.I.bb.style.top=f+"px";h.I.bb.style.left=e+"px"}};h.Mk=function(a,c){this.WA=null;this.Id=new h.g.S(0,0);this.rc=this.tc=this.am=this.bm=this.Je=null;this.Ht=c;this.Jn=this.Wj=this.Kn=this.Mj=!1;this.gf=a;this.$=this.Ek=this.kg=this.ii=this.jr=this.ir=null;this.Iq=this.Nj=this.Wy=!1;this.vA=!h.XC};b=h.Mk.prototype;b.F=function(){h.Touch.ji();h.I.TI();this.Ht.Kc=null;this.ir&&h.La(this.ir);this.jr&&h.La(this.jr);this.kg&&this.kg.F();this.Ek&&this.Ek.F();this.ii&&this.ii.F()};
function bc(a,c){a.Id=h.g.S.ln(new h.g.S(c.clientX,c.clientY),a.WA);if(a.Mj)var d=!1;else a.Mj=h.g.S.vH(a.Id)>(a.$?h.jD:h.WC),d=a.Mj;if(d){if(a.Wy)throw Error("updateIsDragging_ should only be called once per gesture.");a.Wy=!0;if(a.Je){a.Jn=!0;a.ii=new h.gp(a.Je,a.rc);d=a.ii;h.i.ac()||h.i.aa(!0);d.s.Rc(!1);d.Ac.kt=!1;d.Gj&&(d.Ac.moveTo(0,0),d.Gj.yk(d.Ig.x,d.Ig.y),cc(d.Gj,d.Ac.Na()));d.Ac.Wi&&d.Ac.Wi(!0);var e=d.s.ta;e&&h.g.o.Wa(e.Ic,d.Ac.De()?"blocklyToolboxDelete":"blocklyToolboxGrab");Zb(a.ii,
a.gf,a.Id);d=!0}else d=!1;if(!d){if(a.tc)if(a.$?(a.tc&&a.tc.isEnabled()?((d=!dc(a.$))||(d=a.Id,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.$.$F,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.rc=a.$.Qb,ec(a.rc),h.i.ac()||h.i.aa(!0),a.am=null,a.tc=ab(a.$,a.tc),a.tc.select(),d=!0):d=!1):d=!1,a.Wj=d):a.tc.Nc()&&(a.Wj=!0),a.Wj){a.kg=new h.gj(a.tc,a.rc);d=a.kg;e=a.Id;var f=a.vA;h.i.ac()||h.i.aa(!0);var g=new h.i.kc(d.ub,"dragStart",null,p(d.ub,!1));h.i.Fa(g);d.s.On&&fb(d.ub);h.g.o.Go();d.s.Rc(!1);h.pb.Xt();if(d.ub.getParent()||
f&&d.ub.T&&d.ub.T.la())w(d.ub,f),e=d.Sl(e),e=h.g.S.sum(d.Ig,e),d.ub.translate(e.x,e.y),h.pb.UF(d.ub);d.ub.Wi(!0);e=d.ub;e.Uo&&(f=e.Ua(),e.Na().removeAttribute("transform"),e.w.we.yk(f.x,f.y),(f=e.Na())&&cc(e.w.we,f));(e=d.s.ta)&&h.g.o.Wa(e.Ic,d.ub.De()?"blocklyToolboxDelete":"blocklyToolboxGrab");Tb(a.kg,a.gf,a.Id);d=!0}else d=!1;else d=!1;if(d=!d)if(a.$)d=dc(a.$);else if(d=a.rc)d=a.rc,d=d.options.Oc&&d.options.Oc.pi;d&&(a.Ek=a.$?new h.vp(a.$):new h.Nm(a.rc),a.Kn=!0,a.Ek.rw())}h.Ii()}a.gf=c}
b.Zt=function(a){h.g.Lq(a)?this.cancel():(this.Nj=!0,h.pb.Xt(),ec(this.rc),this.rc.On&&this.rc.resize(),h.Bc(!!this.$),oa(this.rc),this.gf=a,h.I.block(),this.tc&&(!this.tc.ec&&a.shiftKey&&this.tc.w.Cc?E(this.Ht.Gb(),h.navigation.Gu(this.tc)):this.tc.select()),h.g.Zj(a)?ba(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.tH(a,this),this.WA=new h.g.S(a.clientX,a.clientY),this.vA=a.altKey||a.ctrlKey||a.metaKey,this.il(a)))};
b.il=function(a){this.ir=h.oa(document,"mousemove",null,this.Dl.bind(this));this.jr=h.oa(document,"mouseup",null,this.Aq.bind(this));a.preventDefault();a.stopPropagation()};b.Dl=function(a){bc(this,a);this.Kn?this.Ek.pi(this.Id):this.Wj?Tb(this.kg,this.gf,this.Id):this.Jn&&Zb(this.ii,this.gf,this.Id);a.preventDefault();a.stopPropagation()};
b.Aq=function(a){bc(this,a);h.Ii();if(this.Iq)console.log("Trying to end a gesture recursively.");else{this.Iq=!0;if(this.Jn)$b(this.ii,a,this.Id);else if(this.Wj)Wb(this.kg,a,this.Id);else if(this.Kn){var c=this.Ek;c.pi(this.Id);ra(c.s)}else if(this.Je&&!this.Mj)this.Je.uI&&this.Je.uI(),this.Je.select&&this.Je.select();else if(fc(this)){c=this.bm;var d=this.gf;Za(c)&&c.Mh(d);gc(this)}else!this.am||this.Mj||fc(this)?this.am||this.Je||this.bm||this.Mj||(c=this.Ht,a.shiftKey&&c.Cc?(d=h.g.qI(c,new h.g.S(a.clientX,
a.clientY)),d=h.C.tl(c,d),E(c.Gb(),d)):h.selected&&ac(h.selected)):(this.$&&this.$.hl?this.tc.isEnabled()&&(h.i.ac()||h.i.aa(!0),Yb(ab(this.$,this.tc))):h.i.Fa(new h.i.kc(this.am,"click",void 0,void 0)),gc(this),h.i.aa(!1));a.preventDefault();a.stopPropagation();this.F()}};b.cancel=function(){if(!this.Iq){h.Ii();if(this.Jn)$b(this.ii,this.gf,this.Id);else if(this.Wj)Wb(this.kg,this.gf,this.Id);else if(this.Kn){var a=this.Ek;a.pi(this.Id);ra(a.s)}this.F()}};
function ba(a,c){a.tc?(gc(a),h.Bc(!!a.$),a.tc.Ao(c)):a.Je?a.Je.Ao(c):a.rc&&!a.$&&(h.Bc(),a.rc.Ao(c));c.preventDefault();c.stopPropagation();a.F()}function hc(a,c,d){if(a.Nj)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.rc||(a.rc=d);a.gf=c;a.Zt(c);a.rc.Cc&&h.navigation.Ib(h.navigation.Im)}function ic(a,c,d){if(a.Nj)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.$||(a.$=d);hc(a,c,d.s)}
function gc(a){a.tc&&!a.$&&fb(a.tc)}function jc(a,c){a.am||a.Je||(a.am=c,c.ec&&c!=c.Ld()?kc(a,c.Ld()):kc(a,c))}function kc(a,c){c.Va?kc(a,c.getParent()):a.tc=c}function fc(a){return(a.bm?Za(a.bm):!1)&&!a.Mj&&(!a.$||!a.$.hl)}b.nc=function(){return this.Kn||this.Wj||this.Jn};b.Bl=function(){return this.kg?this.kg.Bl():[]};h.Mk.Qu=function(){for(var a=h.Db.getAll(),c=0,d;d=a[c];c++)if(d.Kc)return!0;return!1};h.te=function(a,c,d){this.VB=this.Ak=this.vc=null;this.Ud=new h.g.eg(0,0);this.v=this.rv=this.Nh=this.uc=this.Yb=this.Ae=this.Ch=this.ih=null;d&&this.Ve(d);this.setValue(a);c&&(this.Ak=c)};b=h.te.prototype;b.name=void 0;b.tg=!1;b.TA=50;b.G=null;b.Ai=!0;b.ej=!0;b.Bt=null;h.te.Sx="\u00a0";b=h.te.prototype;b.qp=!0;b.Xk=!1;b.Ve=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.oe(a.tooltip));c&&this.Ya(c)};b.lw=function(a){if(this.G)throw Error("Field already bound to a block.");this.G=a};
b.ca=function(){!this.v&&this.G&&this.G.w&&this.G.w.na&&(this.v=this.G.w.wb.ca());return this.v};b.U=function(){return this.G};b.P=function(){this.Ae||(this.Ae=h.g.o.J("g",{},null),this.isVisible()||(this.Ae.style.display="none"),this.G.Na().appendChild(this.Ae),this.Hl(),this.Rh(),this.Ya(this.VB),h.I.il(lc(this)),this.rv=h.oa(lc(this),"mousedown",this,this.Ni),this.Rj())};b.Hl=function(){mc(this);nc(this)};b.Rj=function(){};
function mc(a){a.Yb=h.g.o.J("rect",{rx:a.ca().sp,ry:a.ca().sp,x:0,y:0,height:a.Ud.height,width:a.Ud.width,"class":"blocklyFieldRect"},a.Ae)}function nc(a){a.uc=h.g.o.J("text",{"class":"blocklyText"},a.Ae);a.ca().os&&a.uc.setAttribute("dominant-baseline","central");a.Nh=document.createTextNode("");a.uc.appendChild(a.Nh)}b.un=function(a){this.setValue(a.textContent)};b.TB=function(a){a.textContent=this.getValue();return a};
b.F=function(){h.D.Fn(this);h.Z.Fn(this);h.I.Bw(lc(this));this.rv&&h.La(this.rv);h.g.o.removeNode(this.Ae);this.tg=!0};b.Rh=function(){var a=this.Ae;this.qp&&a&&(this.G.Nd()?(h.g.o.Wa(a,"blocklyEditableText"),h.g.o.Bb(a,"blocklyNonEditableText"),a.style.cursor=this.ds):(h.g.o.Wa(a,"blocklyNonEditableText"),h.g.o.Bb(a,"blocklyEditableText"),a.style.cursor=""))};function Za(a){return!!a.G&&a.G.Nd()&&!!a.Mh&&"function"===typeof a.Mh}b.isVisible=function(){return this.ej};
b.Jb=function(a){if(this.ej!=a){this.ej=a;var c=this.Na();c&&(c.style.display=a?"block":"none")}};function oc(a,c){a.Ak=c}b.mA=function(){return this.Ak};b.Na=function(){return this.Ae};b.cc=function(){};b.Gh=function(){this.Nh&&(this.Nh.nodeValue=this.uq());pc(this)};function pc(a,c){var d=a.ca();c=void 0!=c?c:a.Yb?a.ca().Kk:0;var e=2*c,f=d.tp,g=0;a.uc&&(g=h.g.o.zu(a.uc,d.Wh,d.Xh,d.Vh),e+=g);a.Yb&&(f=Math.max(f,d.ox));a.Ud.height=f;a.Ud.width=e;qc(a,c,g);rc(a)}
function qc(a,c,d){if(a.uc){var e=a.ca(),f=a.Ud.height/2;a.uc.setAttribute("x",a.G.H?a.Ud.width-d-c:c);a.uc.setAttribute("y",e.os?f:f-e.tp/2+e.qx)}}function rc(a){a.Yb&&(a.Yb.setAttribute("width",a.Ud.width),a.Yb.setAttribute("height",a.Ud.height),a.Yb.setAttribute("rx",a.ca().sp),a.Yb.setAttribute("ry",a.ca().sp))}
b.ph=function(){if(!this.isVisible())return new h.g.eg(0,0);this.Ai?(this.Gh(),this.Ai=!1):this.ej&&0==this.Ud.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Gh());return this.Ud};
function sc(a){if(a.Yb)c=a.Yb.getBoundingClientRect(),a=h.g.style.Lj(a.Yb),e=c.width,c=c.height;else{var c=G(a.G),d=a.G.w.scale;a=h.g.style.Lj(lc(a));var e=c.width*d;c=c.height*d;h.g.userAgent.oD?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.kj||h.g.userAgent.sf||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}return{top:a.y,bottom:a.y+c,left:a.x,right:a.x+e}}
b.uq=function(){var a=this.$c();if(!a)return h.te.Sx;a.length>this.TA&&(a=a.substring(0,this.TA-2)+"\u2026");a=a.replace(/\s/g,h.te.Sx);this.G&&this.G.H&&(a+="\u200f");return a};b.$c=function(){if(this.Fu){var a=this.Fu.call(this);if(null!==a)return String(a)}return String(this.getValue())};b.xo=function(){throw Error("setText method is deprecated");};b.Tn=function(){this.Ai=!0;this.v=null};function tc(a){a.Ai=!0;a.G&&a.G.na&&(a.G.Ba(),a.G.Lb(),a.Ew())}
b.setValue=function(a){if(null!==a){var c=this.Ej(a);a=uc(this,a,c);if(!(a instanceof Error)){if(c=this.mA())if(c=c.call(this,a),a=uc(this,a,c),a instanceof Error)return;c=this.getValue();c!==a&&(this.G&&h.i.isEnabled()&&h.i.Fa(new h.i.Mg(this.G,"field",this.name||null,c,a)),this.ni(a),this.Ai&&tc(this))}}};function uc(a,c,d){if(null===d)return a.Jz(),a.Ai&&tc(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.vc};b.Ej=function(a){return null===a||void 0===a?null:a};
b.ni=function(a){this.vc=a;this.Ai=!0};b.Jz=function(){};b.Ni=function(a){if(this.G&&this.G.w&&(a=this.G.w.oh(a))){if(a.Nj)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.bm||(a.bm=this)}};b.Ya=function(a){var c=lc(this);c?c.Uf=a||""===a?a:this.G:this.VB=a};function lc(a){return a.Bt||a.Na()}b.no=function(){return!1};b.vg=function(){for(var a=null,c=this.G,d=c.O,e=0;e<c.O.length;e++)for(var f=d[e],g=f.Ta,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};
b.JA=function(){return!1};b.Qd=function(){return!1};b.Kh=function(a){a?(this.Ae.appendChild(a),this.ih=a):this.ih=null};b.Lh=function(a){a?(this.Ae.appendChild(a),this.Ch=a):this.Ch=null};b.Ew=function(){var a=this.G.w;a.Cc&&this.ih&&a.Gb().draw();a.Cc&&this.Ch&&a.ke(h.navigation.um).draw()};h.Yd=function(a,c,d){this.Xp=null;null==a&&(a="");h.Yd.A.constructor.call(this,a,null,d);d||(this.Xp=c||null)};h.g.object.W(h.Yd,h.te);h.Yd.za=function(a){var c=h.g.oe(a.text);return new h.Yd(c,void 0,a)};h.Yd.prototype.qp=!1;h.Yd.prototype.Ve=function(a){h.Yd.A.Ve.call(this,a);this.Xp=a["class"]};h.Yd.prototype.Hl=function(){nc(this);this.Xp&&h.g.o.Wa(this.uc,this.Xp)};h.Yd.prototype.Ej=function(a){return null===a||void 0===a?null:String(a)};h.ud.register("field_label",h.Yd);h.Gx=function(a,c,d,e){if(a!=h.Rg&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.G=d;this.connection=e;this.Ta=[]};b=h.Gx.prototype;b.align=h.Rr;b.ej=!0;b.U=function(){return this.G};function I(a,c,d){vc(a,a.Ta.length,c,d);return a}
function vc(a,c,d,e){if(0>c||c>a.Ta.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new h.Yd(d));d.lw(a.G);a.G.na&&d.P();d.name=e;d.Uv&&(c=vc(a,c,d.Uv));a.Ta.splice(c,0,d);++c;d.tw&&(c=vc(a,c,d.tw));a.G.na&&(a.G.Ba(),a.G.Lb());return c}b.isVisible=function(){return this.ej};
b.Jb=function(a){var c=[];if(this.ej==a)return c;for(var d=(this.ej=a)?"block":"none",e=0,f;f=this.Ta[e];e++)f.Jb(a);if(this.connection){if(a)c=wc(this.connection);else if(e=this.connection,xc(e,!1),e.ga)for(e=p(e.la(),!1),f=0;f<e.length;f++){for(var g=e[f],k=g.Jf(!0),l=0;l<k.length;l++)xc(k[l],!1);g=Sb(g);for(l=0;l<g.length;l++)g[l].Jb(!1)}if(e=this.connection.la())e.Na().style.display=d,a||(e.na=!1)}return c};b.Tn=function(){for(var a=0,c;c=this.Ta[a];a++)c.Tn()};
b.lb=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.lb(a);return this};function yc(a,c){a.align=c;a.G.na&&a.G.Ba();return a}b.P=function(){if(this.G.w.na)for(var a=0;a<this.Ta.length;a++)this.Ta[a].P()};b.F=function(){for(var a=0,c;c=this.Ta[a];a++)c.F();this.connection&&this.connection.F();this.G=null};h.ep=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Kd(d)?d:h.g.mh();a.ot[this.id]=this;this.Y=this.T=this.K=null;this.O=[];this.xh=void 0;this.disabled=!1;this.Uf="";this.contextMenu=!0;this.Ag=null;this.eh=[];this.Mz=this.YA=this.Lt=!0;this.mg=this.Va=!1;this.Wm=null;this.Ue={text:null,Sv:!1,size:new h.g.eg(160,80)};this.hC=new h.g.S(0,0);this.w=a;this.ec=a.Of;this.H=
a.H;this.Mn=!1;this.wg=void 0;if(c){this.type=c;d=h.M[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.ff(this,d)}a.gm.push(this);a.Vf[this.type]||(a.Vf[this.type]=[]);a.Vf[this.type].push(this);"function"==typeof this.P&&this.P();this.gH=this.xh;if(h.i.isEnabled()){(a=h.i.ac())||h.i.aa(!0);try{h.i.Fa(new h.i.fp(this))}finally{a||h.i.aa(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");
this.ao&&Ha(this.w,this.ao);if(this.onchange=a)this.ao=a.bind(this),D(this.w,this.ao)}};b=h.ep.prototype;b.data=null;b.tg=!1;b.Te="#000000";b.vk=null;
b.F=function(a){if(this.w){this.ao&&Ha(this.w,this.ao);w(this,a);h.i.isEnabled()&&h.i.Fa(new h.i.EC(this));h.i.disable();try{if(this.w){Ca(this.w,this);var c=this.w;c.Vf[this.type].splice(c.Vf[this.type].indexOf(this),1);c.Vf[this.type].length||delete c.Vf[this.type];delete this.w.ot[this.id];this.w=null}h.selected==this&&(h.selected=null);for(var d=this.eh.length-1;0<=d;d--)this.eh[d].F(!1);d=0;for(var e;e=this.O[d];d++)e.F();this.O.length=0;var f=this.Jf(!0);d=0;for(var g;g=f[d];d++)g.F()}finally{h.i.enable(),
this.tg=!0}}};b.Rj=function(){for(var a=0,c;c=this.O[a];a++)for(var d=0,e;e=c.Ta[d];d++)e.Rj&&e.Rj()};
function w(a,c){if(a.K){var d=null;a.K.isConnected()&&(d=a.K.ga,a.K.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==h.cb&&f.ga){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.la().Va&&(a=a.ga,a.disconnect(),Kb(a,d)?d.connect(a):a.cr(d))}}else a.Y&&(d=null,a.Y.isConnected()&&(d=a.Y.ga,a.Y.disconnect()),e=t(a),c&&e&&!e.Va&&(a=a.T.ga,a.disconnect(),d&&Kb(d,a)&&d.connect(a)))}
b.Jf=function(){var a=[];this.K&&a.push(this.K);this.Y&&a.push(this.Y);this.T&&a.push(this.T);for(var c=0,d;d=this.O[c];c++)d.connection&&a.push(d.connection);return a};b.Oq=function(){for(var a=this.T;a;){var c=a.la();if(!c)return a;a=c.T}return null};b.Lb=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.Ag};
function zc(a){do{var c=a;a=a.getParent();if(!a)return null}while(t(a)==c);return a}function t(a){return a.T&&a.T.la()}b.Ld=function(){var a=this;do{var c=a;a=c.Ag}while(a);return c};b.nh=function(a){if(!a)return this.eh;a=[];for(var c=0,d;d=this.O[c];c++)d.connection&&(d=d.connection.la())&&a.push(d);(c=t(this))&&a.push(c);return a};
b.$l=function(a){if(a!=this.Ag){if(this.Ag){h.g.ft(this.Ag.eh,this);if(this.Y&&this.Y.isConnected())throw Error("Still connected to previous block.");if(this.K&&this.K.isConnected())throw Error("Still connected to parent block.");this.Ag=null}else Ca(this.w,this);(this.Ag=a)?a.eh.push(this):this.w.gm.push(this)}};function p(a,c){var d=[a];a=a.nh(c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.De=function(){return this.Lt&&!this.Va&&!(this.w&&this.w.options.readOnly)};
b.Nc=function(){return this.YA&&!this.Va&&!(this.w&&this.w.options.readOnly)};b.Ar=function(a){this.YA=a};b.kw=function(a){this.Va=a};b.Di=function(){return this.Mn};b.HB=function(a){this.Mn=a};b.Nd=function(){return this.Mz&&!(this.w&&this.w.options.readOnly)};b.gw=function(a){this.Mz=a;a=0;for(var c;c=this.O[a];a++)for(var d=0,e;e=c.Ta[d];d++)e.Rh()};
b.Bu=function(a,c){var d=this.Jf(!0);a=a.Jf(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Ya=function(a){this.Uf=a};b.yu=function(){return this.Te};b.fd=function(a){this.Te=h.g.mr(a).En};b.Nb=function(a){this.vk=a};function v(a,c){for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.Ta[f];f++)if(g.name==c)return g;return null}
b.zq=function(){for(var a=[],c=0,d;d=this.O[c];c++)for(var e=0,f;f=d.Ta[e];e++)f.no()&&a.push(f.getValue());return a};b.rh=function(){for(var a=[],c=0,d;d=this.O[c];c++)for(var e=0,f;f=d.Ta[e];e++)f.no()&&(f=this.w.Lf(f.getValue()))&&a.push(f);return a};b.Kr=function(a){for(var c=0,d;d=this.O[c];c++)for(var e=0,f;f=d.Ta[e];e++)f.no()&&a.xa()==f.getValue()&&tc(f)};b.vr=function(a,c){for(var d=0,e;e=this.O[d];d++)for(var f=0,g;g=e.Ta[f];f++)g.no()&&a==g.getValue()&&g.setValue(c)};
function C(a,c){return(a=v(a,c))?a.getValue():null}function Ac(a,c,d){a=v(a,d);if(!a)throw Error('Field "'+d+'" not found.');a.setValue(c)}b.Ie=function(a,c){if(a){void 0===c&&(c=null);if(!this.Y){if(this.K)throw Error("Remove output connection prior to adding previous connection.");this.Y=this.Sn(h.vf)}this.Y.lb(c)}else if(this.Y){if(this.Y.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.Y.F();this.Y=null}};
b.He=function(a,c){if(a)void 0===c&&(c=null),this.T||(this.T=this.Sn(h.mb)),this.T.lb(c);else if(this.T){if(this.T.isConnected())throw Error("Must disconnect next statement before removing connection.");this.T.F();this.T=null}};
b.Td=function(a,c){if(a){void 0===c&&(c=null);if(!this.K){if(this.Y)throw Error("Remove previous connection prior to adding output connection.");this.K=this.Sn(h.uf)}this.K.lb(c)}else if(this.K){if(this.K.isConnected())throw Error("Must disconnect output value before removing connection.");this.K.F();this.K=null}};b.Fc=function(a){this.xh!=a&&(h.i.Fa(new h.i.Mg(this,"inline",null,this.xh,a)),this.xh=a)};
function Lb(a){if(void 0!=a.xh)return a.xh;for(var c=1;c<a.O.length;c++)if(a.O[c-1].type==h.Rg&&a.O[c].type==h.Rg)return!1;for(c=1;c<a.O.length;c++)if(a.O[c-1].type==h.cb&&a.O[c].type==h.Rg)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Sd=function(a){this.isEnabled()!=a&&(h.i.Fa(new h.i.Mg(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Bc(a){for(a=zc(a);a;){if(a.disabled)return!0;a=zc(a)}return!1}b.isCollapsed=function(){return this.mg};
b.Jh=function(a){this.mg!=a&&(h.i.Fa(new h.i.Mg(this,"collapsed",null,this.mg,a)),this.mg=a)};b.toString=function(a,c){var d=[],e=c||"?";if(this.mg)d.push(y(this,"_TEMP_COLLAPSED_INPUT").Ta[0].$c());else for(var f=0,g;g=this.O[f];f++){for(var k=0,l;l=g.Ta[k];k++)d.push(l.$c());g.connection&&((g=g.connection.la())?d.push(g.toString(void 0,c)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};function J(a,c){return a.Qm(h.cb,c)}
function Cc(a,c){return a.Qm(h.mb,c)}function K(a,c){return a.Qm(h.Rg,c||"")}
function L(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.wg&&(a.wg=c.style.wg,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.Nb(e)}catch(H){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.fd(e)}catch(H){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.MI(c["message"+e]),n=[],q=0,r=[],x=0;x<m.length;x++){var z=m[x];if("number"==typeof z){if(0>=z||z>g.length)throw Error('Block "'+f.type+'": Message index %'+z+" out of range.");if(n[z])throw Error('Block "'+f.type+'": Message index %'+z+" duplicated.");n[z]=!0;q++;r.push(g[z-1])}else(z=z.trim())&&r.push(z)}if(q!=g.length)throw Error('Block "'+f.type+'": Message does not reference all '+
g.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||h.g.gb.startsWith(r[r.length-1].type,"field_"))&&(x={type:"input_dummy"},k&&(x.align=k),r.push(x));k={LEFT:h.Rr,RIGHT:h.Gk,CENTRE:h.Qr,CENTER:h.Qr};g=[];for(x=0;x<r.length;x++)if(n=r[x],"string"==typeof n)g.push([n,void 0]);else{m=q=null;do if(z=!1,"string"==typeof n)q=new h.Yd(n);else switch(n.type){case "input_value":m=J(f,n.name);break;case "input_statement":m=Cc(f,n.name);break;case "input_dummy":m=K(f,n.name);break;default:q=h.ud.za(n),
!q&&n.alt&&(n=n.alt,z=!0)}while(z);if(q)g.push([q,n.name]);else if(m){n.check&&m.lb(n.check);n.align&&(q=k[n.align.toUpperCase()],void 0===q?console.warn(l+"Illegal align value: ",n.align):yc(m,q));for(n=0;n<g.length;n++)I(m,g[n][0],g[n][1]);g.length=0}}e++}void 0!==c.inputsInline&&a.Fc(c.inputsInline);void 0!==c.output&&a.Td(!0,c.output);void 0!==c.previousStatement&&a.Ie(!0,c.previousStatement);void 0!==c.nextStatement&&a.He(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=h.g.oe(e),a.Ya(e));
void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.oe(e),a.Hb=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.ba.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)h.ba.apply(c[d],a,!1)}
b.ff=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.ff(this,a)};b.Qm=function(a,c){var d=null;if(a==h.cb||a==h.mb)d=this.Sn(a);a=new h.Gx(a,c,this,d);this.O.push(a);return a};
function Dc(a,c,d){if(c!=d){for(var e=-1,f=d?-1:a.O.length,g=0,k;k=a.O[g];g++)if(k.name==c){if(e=g,-1!=f)break}else if(d&&k.name==d&&(f=g,-1!=e))break;if(-1==e)throw Error('Named input "'+c+'" not found.');if(-1==f)throw Error('Reference input "'+d+'" not found.');a.wv(e,f)}}
b.wv=function(a,c){if(a==c)throw Error("Can't move input to itself.");if(a>=this.O.length)throw RangeError("Input index "+a+" out of bounds.");if(c>this.O.length)throw RangeError("Reference input "+c+" out of bounds.");var d=this.O[a];this.O.splice(a,1);a<c&&c--;this.O.splice(c,0,d)};b.ib=function(a,c){for(var d=0,e;e=this.O[d];d++)if(e.name==a){e.F();this.O.splice(d,1);return}if(!c)throw Error("Input not found: "+a);};function y(a,c){for(var d=0,e;e=a.O[d];d++)if(e.name==c)return e;return null}
function Ec(a,c){return(a=y(a,c))&&a.connection&&a.connection.la()}b.Eg=function(a){this.Ue.text!=a&&(h.i.Fa(new h.i.Mg(this,"comment",null,this.Ue.text,a)),this.Wm=this.Ue.text=a)};b.Yi=function(){};b.Xi=function(){};b.Ua=function(){return this.hC};b.moveBy=function(a,c){if(this.Ag)throw Error("Block has parent.");var d=new h.i.mm(this);this.hC.translate(a,c);d.mk();h.i.Fa(d)};b.Sn=function(a){return new h.va(this,a)};h.j={};h.j.Xl={};h.j.To=!1;h.j.register=function(a,c){if(h.j.Xl[a])throw Error("Renderer has already been registered.");h.j.Xl[a]=c};h.j.unregister=function(a){h.j.Xl[a]?delete h.j.Xl[a]:console.warn('No renderer mapping for name "'+a+'" found to unregister')};h.j.lM=function(){h.j.To=!0};h.j.mM=function(){h.j.To=!1};h.j.P=function(a,c,d){if(!h.j.Xl[a])throw Error("Renderer not registered: ",a);a=new h.j.Xl[a](a);a.P(c,d);return a};h.xm=function(){this.ie=this.$a=this.qb=null;this.type="marker"};function E(a,c){var d=a.$a;a.$a=c;a.ie&&a.ie.draw(d,a.$a)}h.xm.prototype.draw=function(){this.ie&&this.ie.draw(this.$a,this.$a)};h.xm.prototype.Ha=function(){this.ie&&this.ie.Ha()};h.xm.prototype.F=function(){this.ie&&this.ie.F()};h.Jk=function(){h.Jk.A.constructor.call(this);this.type="cursor"};h.g.object.W(h.Jk,h.xm);b=h.Jk.prototype;b.next=function(){var a=this.$a;if(!a)return null;for(a=a.next();a&&a.next()&&(a.vb()==h.C.types.ue||a.vb()==h.C.types.se);)a=a.next();a&&E(this,a);return a};b.zi=function(){var a=this.$a;if(!a)return null;if(a.vb()==h.C.types.ve||a.vb()==h.C.types.qj)a=a.next();(a=a.zi())&&E(this,a);return a};
b.kf=function(){var a=this.$a;if(!a)return null;for(a=a.kf();a&&a.kf()&&(a.vb()==h.C.types.ue||a.vb()==h.C.types.se);)a=a.kf();a&&E(this,a);return a};b.Pi=function(){var a=this.$a;if(!a)return null;(a=a.Pi())&&a.vb()==h.C.types.se&&(a=a.kf()||a);a&&E(this,a);return a};
b.Qd=function(a){if(this.$a&&this.$a.vb()===h.C.types.Xd&&this.$a.qa.Qd(a))return!0;switch(a.name){case h.navigation.Da.ve:return this.kf(),!0;case h.navigation.Da.Ip:return this.Pi(),!0;case h.navigation.Da.ue:return this.next(),!0;case h.navigation.Da.xp:return this.zi(),!0;default:return!1}};h.up=function(){h.up.A.constructor.call(this)};h.g.object.W(h.up,h.Jk);b=h.up.prototype;b.Qd=function(a){switch(a.name){case h.navigation.Da.ve:return this.kf(),!0;case h.navigation.Da.ue:return this.next(),!0;default:return!1}};b.next=function(){var a=this.$a;if(!a)return null;(a=a.next())&&E(this,a);return a};b.zi=function(){return null};b.kf=function(){var a=this.$a;if(!a)return null;(a=a.kf())&&E(this,a);return a};b.Pi=function(){return null};h.j.cK=function(){};h.nj=function(){h.Hc.call(this);this.Jv=null;this.vh=-1;this.Dh=this.Uq=this.Tq=this.Zp=this.Vq=null};h.g.object.W(h.nj,h.Hc);b=h.nj.prototype;b.Ea=function(){var a=document.createElement("div");a.id=this.xa();this.eb=a;a.className="goog-menu goog-menu-vertical blocklyNonSelectable";a.tabIndex=0;h.g.X.Fg(a,this.dw||h.g.X.cg.XD)};b.focus=function(){var a=this.wa();a&&(a.focus({preventScroll:!0}),h.g.o.Wa(a,"focused"))};b.blur=function(){var a=this.wa();a&&(a.blur(),h.g.o.Bb(a,"focused"))};
b.Fg=function(a){this.dw=a};b.Hf=function(){h.nj.A.Hf.call(this);gb(this,function(a){if(a.cd){var c=a.wa();c=c.id||(c.id=a.xa());this.ll||(this.ll={});this.ll[c]=a}},this);this.jt()};b.ri=function(){Fc(this,-1);h.nj.A.ri.call(this)};b.mn=function(){h.nj.A.mn.call(this);this.Nt()};
b.jt=function(){var a=this.wa();this.Vq=h.oa(a,"mouseover",this,this.WG,!0);this.Zp=h.oa(a,"click",this,this.NG,!0);this.Tq=h.oa(a,"mouseenter",this,this.TG,!0);this.Uq=h.oa(a,"mouseleave",this,this.VG,!0);this.Dh=h.oa(a,"keydown",this,this.Ku)};b.Nt=function(){this.Vq&&(h.La(this.Vq),this.Vq=null);this.Zp&&(h.La(this.Zp),this.Zp=null);this.Tq&&(h.La(this.Tq),this.Tq=null);this.Uq&&(h.La(this.Uq),this.Uq=null);this.Dh&&(h.La(this.Dh),this.Dh=null)};b.ll=null;
function Gc(a,c){if(a.ll)for(var d=a.wa();c&&c!==d;){var e=c.id;if(e in a.ll)return a.ll[e];c=c.parentNode}return null}function Hc(a){(a=a.kb[a.vh]||null)&&a.tk(!1)}function Fc(a,c){var d=a.kb[c]||null;d?(d.tk(!0),a.vh=c):-1<a.vh&&((a.kb[a.vh]||null).tk(!1),a.vh=-1);d&&h.g.style.ew(d.wa(),a.wa())}b.tk=function(a){Fc(this,this.kb.indexOf(a))};function Ic(a){Hc(a);Jc(a,function(c,d){return(c+1)%d},a.vh)}function Kc(a){Hc(a);Jc(a,function(c,d){c--;return 0>c?d-1:c},a.vh)}
function Jc(a,c,d){var e=a.kb.length;d=c.call(a,0>d?-1:d,e);for(var f=0;f<=e;){var g=a.kb[d]||null;if(g&&g.isEnabled()){Fc(a,d);break}f++;d=c.call(a,d,e)}}b.WG=function(a){if(a=Gc(this,a.target))a.isEnabled()?(this.kb[this.vh]||null)!==a&&(Hc(this),this.tk(a)):Hc(this)};b.NG=function(a){var c=this.Jv;this.Jv=null;if(!(c&&"number"===typeof a.clientX&&1>h.g.S.Yt(c,new h.g.S(a.clientX,a.clientY)))){c=Gc(this,a.target);var d;if(d=c)c.isEnabled()&&(c.tk(!0),Lc(c)),d=void 0;d&&a.preventDefault()}};
b.TG=function(){this.focus()};b.VG=function(){this.wa()&&(this.blur(),Hc(this),Fc(this,-1))};b.Ku=function(a){return 0!=this.kb.length&&Mc(this,a)?(a.preventDefault(),a.stopPropagation(),!0):!1};function Mc(a,c){var d=a.kb[a.vh]||null;if(d&&"function"==typeof d.Ku&&d.Ku(c))return!0;if(c.shiftKey||c.ctrlKey||c.metaKey||c.altKey)return!1;switch(c.keyCode){case h.g.Ca.hs:d&&Lc(d);break;case h.g.Ca.Pp:Kc(a);break;case h.g.Ca.pp:Ic(a);break;default:return!1}return!0};h.Ep=function(a,c){h.Hc.call(this);this.zj=a;this.setValue(c);this.nq=!0};h.g.object.W(h.Ep,h.Hc);b=h.Ep.prototype;
b.Ea=function(){var a=document.createElement("div");a.id=this.xa();this.eb=a;a.className="goog-menuitem goog-option "+(this.nq?"":"goog-menuitem-disabled ")+(this.zt?"goog-option-selected ":"")+(this.Yl?"goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="goog-menuitem-content";a.appendChild(c);if(this.Um){var d=document.createElement("div");d.className="goog-menuitem-checkbox"}else d=null;d&&c.appendChild(d);c.appendChild(Nc(this));h.g.X.Fg(a,this.dw||(this.Um?h.g.X.cg.ZD:h.g.X.cg.YD));
h.g.X.Ib(a,h.g.X.State.Gm,this.Um&&this.zt||!1)};function Nc(a){a=a.zj;"string"===typeof a&&(a=document.createTextNode(a));return a}b.setValue=function(a){this.vc=a};b.getValue=function(){return this.vc};b.Fg=function(a){this.dw=a};function Oc(a,c){if(a.Um){a.zt=c;var d=a.wa();d&&a.isEnabled()&&(c?(h.g.o.Wa(d,"goog-option-selected"),h.g.X.Ib(d,h.g.X.State.Gm,!0)):(h.g.o.Bb(d,"goog-option-selected"),h.g.X.Ib(d,h.g.X.State.Gm,!1)))}}
b.tk=function(a){var c=this.wa();c&&this.isEnabled()&&(a?h.g.o.Wa(c,"goog-menuitem-highlight"):h.g.o.Bb(c,"goog-menuitem-highlight"))};b.isEnabled=function(){return this.nq};b.Sd=function(a){this.nq=a;(a=this.wa())&&(this.nq?h.g.o.Bb(a,"goog-menuitem-disabled"):h.g.o.Wa(a,"goog-menuitem-disabled"))};function Lc(a){a.Um&&Oc(a,!a.zt);a.My&&a.My.call(a.SE,a)}function Pc(a,c,d){a.My=c;a.SE=d};h.g.Ir={};h.g.Ir.ph=function(a){a=a.wa();var c=h.g.style.ph(a);c.height=a.scrollHeight;return c};h.g.Ir.TE=function(a,c,d){c.left+=d.width;c.right+=d.width;a.left+=d.width;a.right+=d.width};h.Aa={};h.Aa.gq=null;h.Aa.ku=null;h.Aa.show=function(a,c,d){h.Z.show(h.Aa,d,null);if(c.length){var e=h.Aa.gI(c,d);h.Aa.xd(e,a,d);setTimeout(function(){e.wa().focus()},1);h.Aa.gq=null}else h.Aa.Ha()};h.Aa.gI=function(a,c){var d=new h.nj;hb(d,c);for(var e=0,f;f=a[e];e++){var g=new h.Ep(f.text);hb(g,c);d.Pm(g,d.kb.length,!0);g.Sd(f.enabled);f.enabled&&Pc(g,function(){h.Aa.Ha();this.zb()},f)}return d};
h.Aa.xd=function(a,c,d){var e=h.g.IG();c={top:c.clientY+e.top,bottom:c.clientY+e.top,left:c.clientX+e.left,right:c.clientX+e.left};h.Aa.CF(a);var f=h.g.Ir.ph(a);d&&h.g.Ir.TE(e,c,f);h.Z.hI(e,c,f,d);a.wa().focus()};h.Aa.CF=function(a){a.Ba(h.Z.bb);var c=a.wa();h.g.o.Wa(c,"blocklyContextMenu");h.oa(c,"contextmenu",null,h.g.MH);a.focus()};h.Aa.Ha=function(){h.Z.Fn(h.Aa);h.Aa.gq=null;h.Aa.ku&&(h.La(h.Aa.ku),h.Aa.ku=null)};
h.Aa.Tm=function(a,c){return function(){h.i.disable();try{var d=h.R.Fj(c,a.w),e=a.Ua();e.x=a.H?e.x-h.Fd:e.x+h.Fd;e.y+=2*h.Fd;d.moveBy(e.x,e.y)}finally{h.i.enable()}h.i.isEnabled()&&!d.Va&&h.i.Fa(new h.i.fp(d));d.select()}};h.Aa.aF=function(a){var c=p(a,!1).length,d=t(a);d&&(c-=p(d,!1).length);return{text:1==c?h.h.DELETE_BLOCK:h.h.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,zb:function(){h.i.aa(!0);a.F(!0,!0);h.i.aa(!1)}}};
h.Aa.cF=function(a){return{enabled:!("function"==typeof a.Hb?!a.Hb():!a.Hb),text:h.h.HELP,zb:function(){a.showHelp()}}};h.Aa.bF=function(a){var c=Fa(a.w)?Ea(a.w,h.g.vu(a,!0)):!0;return{text:h.h.DUPLICATE_BLOCK,enabled:c,zb:function(){h.duplicate(a)}}};h.Aa.$E=function(a){var c={enabled:!h.g.userAgent.sf};a.Cf?(c.text=h.h.REMOVE_COMMENT,c.zb=function(){a.Eg(null)}):(c.text=h.h.ADD_COMMENT,c.zb=function(){a.Eg("")});return c};
h.Aa.JL=function(a){return{text:h.h.REMOVE_COMMENT,enabled:!0,zb:function(){h.i.aa(!0);a.F(!0,!0);h.i.aa(!1)}}};h.Aa.KL=function(a){return{text:h.h.DUPLICATE_COMMENT,enabled:!0,zb:function(){h.duplicate(a)}}};
h.Aa.pM=function(a,c){if(!h.dl)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.sf};d.text=h.h.ADD_COMMENT;d.zb=function(){var e=new h.dl(a,h.h.WORKSPACE_COMMENT_DEFAULT_TEXT,h.dl.UC,h.dl.UC),f=aa(a).getBoundingClientRect();f=new h.g.S(c.clientX-f.left,c.clientY-f.top);var g=h.g.An(a.jb);f=h.g.S.ln(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.na&&(e.df(),e.Ba(),e.select())};return d};h.Wb=function(a,c){h.Wb.A.constructor.call(this,a,c);this.sg=a.w.eq[c];this.rz=a.w.eq[h.Uk[c]];this.jk=new h.g.S(0,0);this.Qh=h.Wb.gg.Fy};h.g.object.W(h.Wb,h.va);h.Wb.gg={Fy:-1,xy:0,cl:1};b=h.Wb.prototype;b.F=function(){h.Wb.A.F.call(this);this.Qh==h.Wb.gg.cl&&Qc(this.sg,this,this.y)};b.U=function(){return h.Wb.A.U.call(this)};b.la=function(){return h.Wb.A.la.call(this)};function Rc(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function eb(a,c){if(!a.G.w.nc()){var d=a.G.Ld();if(!d.ec){var e=!1;if(!d.Nc()){d=c.U().Ld();if(!d.Nc())return;c=a;e=!0}var f=h.selected==d;f||d.Qp();var g=c.x+h.Fd+Math.floor(Math.random()*h.Xr)-a.x,k=c.y+h.Fd+Math.floor(Math.random()*h.Xr)-a.y;e&&(k=-k);d.H&&(g=c.x-h.Fd-Math.floor(Math.random()*h.Xr)-a.x);d.moveBy(g,k);f||d.oo()}}}
b.moveTo=function(a,c){if(this.Qh==h.Wb.gg.Fy){var d=this.sg;d.$b.splice(Sc(d,c),0,this);this.Qh=h.Wb.gg.cl}else this.Qh==h.Wb.gg.cl&&(Qc(this.sg,this,this.y),d=this.sg,d.$b.splice(Sc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Tc(a,c){a.moveTo(c.x+a.jk.x,c.y+a.jk.y)}function Uc(a,c,d){a.jk.x=c;a.jk.y=d}
function Vc(a){var c=a.ga.x-a.x,d=a.ga.y-a.y;if(0!=c||0!=d){a=a.la();var e=a.Na();if(!e)throw Error("block is not rendered.");e=h.g.af(e);a.Na().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Xb(a,-c,-d)}}
b.closest=function(a,c){var d=this.rz;if(d.$b.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=Sc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.$b[m].y-this.y)<=a;)l=d.$b[m],this.Gq(l,k)&&(c=l,k=Rc(l,this)),m--;for(;g<d.$b.length&&Math.abs(d.$b[g].y-this.y)<=a;)l=d.$b[g],this.Gq(l,k)&&(c=l,k=Rc(l,this)),g++;this.x=f;this.y=e;a={connection:c,pr:k}}else a={connection:null,pr:a};return a};
function xc(a,c){c&&a.Qh==h.Wb.gg.cl||!c&&a.Qh==h.Wb.gg.xy||a.G.ec||(c?(c=a.sg,c.$b.splice(Sc(c,a.y),0,a),a.Qh=h.Wb.gg.cl):(a.Qh==h.Wb.gg.cl&&Qc(a.sg,a,a.y),a.Qh=h.Wb.gg.xy))}function wc(a){xc(a,!0);var c=[];if(a.type!=h.cb&&a.type!=h.mb)return c;if(a=a.la()){if(a.isCollapsed()){var d=[];a.K&&d.push(a.K);a.T&&d.push(a.T);a.Y&&d.push(a.Y)}else d=a.Jf(!0);for(var e=0;e<d.length;e++)c.push.apply(c,wc(d[e]));c.length||(c[0]=a)}return c}b.Gq=function(a,c){return Rc(this,a)>c?!1:h.Wb.A.Gq.call(this,a)};
b.cr=function(a){eb(this,a)};b.Vt=function(a,c){h.Wb.A.Vt.call(this,a,c);a.na&&a.Ba();c.na&&(ya(c),c.Ba())};b.bw=function(){var a=this.U(),c=this.Qf;if(a.w&&c&&h.i.Qc){h.Wb.A.bw.call(this);c=this.la();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.df();c.Ba(!1);a.na&&a.Ba()}};b.ZA=function(a){return Wc(this.rz,this,a)};b.Df=function(a){h.Wb.A.Df.call(this,a);var c=this.U();a=a.U();c.na&&ya(c);a.na&&ya(a);c.na&&a.na&&(this.type==h.mb||this.type==h.vf?a.Ba():c.Ba())};
b.fB=function(){!this.isConnected()||this.ga&&Kb(this,this.ga)||(w(F(this)?this.la():this.G),this.G.Lb())};h.cp=function(){h.cp.A.constructor.call(this)};h.g.object.W(h.cp,h.Jk);b=h.cp.prototype;b.next=function(){var a=this.$a;if(!a)return null;(a=Xc(this,a,this.Fw))&&E(this,a);return a};b.zi=function(){return this.next()};b.kf=function(){var a=this.$a;if(!a)return null;(a=Yc(this,a,this.Fw))&&E(this,a);return a};b.Pi=function(){return this.kf()};function Xc(a,c,d){if(!c)return null;var e=c.zi()||c.next();if(d(e))return e;if(e)return Xc(a,e,d);c=Zc(a,c.Pi());return d(c)?c:c?Xc(a,c,d):null}
function Yc(a,c,d){if(!c)return null;var e=c.kf();e=e?$c(a,e):c.Pi();return d(e)?e:e?Yc(a,e,d):null}b.Fw=function(a){var c=!1;a=a&&a.vb();if(a==h.C.types.qj||a==h.C.types.$f||a==h.C.types.Xd||a==h.C.types.ue||a==h.C.types.ve||a==h.C.types.jg)c=!0;return c};function Zc(a,c){if(!c)return null;var d=c.next();return d?d:Zc(a,c.Pi())}function $c(a,c){if(!c.zi())return c;for(c=c.zi();c.next();)c=c.next();return $c(a,c)};h.Op=function(){h.Op.A.constructor.call(this)};h.g.object.W(h.Op,h.cp);h.Op.prototype.Fw=function(a){var c=!1,d=a&&a.vb();a&&(a=a.qa,d==h.C.types.Xd&&a&&a.JA()&&Za(a)&&(c=!0));return c};h.Za=function(a,c,d){this.L=h.g.o.J("g",{},null);this.L.No="";this.style=ad(a.wb.ca(),null);this.Ab=a.wb.QA(this.L,this.style);this.na=!1;this.w=a;this.Y=this.T=this.K=null;this.Uo=h.g.Uj()&&!!a.we;var e=this.Ab.Pb;e.Uf=this;h.I.il(e);h.Za.A.constructor.call(this,a,c,d);this.L.dataset&&(this.L.dataset.id=this.id)};h.g.object.W(h.Za,h.ep);h.Za.prototype.height=0;h.Za.prototype.width=0;h.Za.prototype.re=null;h.Za.bK=-1;h.Za.Yr="TEMP_COLLAPSED_WARNING_";b=h.Za.prototype;
b.df=function(){if(!this.w.na)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.O[a];a++)c.P();c=Sb(this);for(a=0;a<c.length;a++)Oa(c[a]);this.cc();Qb(this.Ab,"blocklyDraggable",this.Nc());a=this.Na();this.w.options.readOnly||this.fG||!a||h.oa(a,"mousedown",this,this.Ni);this.fG=!0;a.parentNode||this.w.jb.appendChild(a)};
b.select=function(){if(this.Va&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.i.disable();try{ac(h.selected)}finally{h.i.enable()}}a=new h.i.kc(null,"selected",a,this.id);a.Tb=this.w.id;h.i.Fa(a);h.selected=this;this.Qp()}};function ac(a){if(h.selected==a){var c=new h.i.kc(null,"selected",a.id,null);c.Tb=a.w.id;h.i.Fa(c);h.selected=null;a.oo()}}b.dd=null;b.Wm=null;b.Cf=null;b.kd=null;
function Sb(a){var c=[];a.dd&&c.push(a.dd);a.Cf&&c.push(a.Cf);a.kd&&c.push(a.kd);return c}b.$l=function(a){var c=this.Ag;if(a!=c){h.g.o.Go();h.Za.A.$l.call(this,a);h.g.o.Ho();var d=this.Na();if(!this.w.Wu&&d){var e=this.Ua();a?(a.Na().appendChild(d),a=this.Ua(),Xb(this,a.x-e.x,a.y-e.y)):c&&(this.w.jb.appendChild(d),this.translate(e.x,e.y));this.cc()}}};
b.Ua=function(){var a=0,c=0,d=this.Uo?this.w.we.ac():null,e=this.Na();if(e){do{var f=h.g.af(e);a+=f.x;c+=f.y;this.Uo&&this.w.we.Gf.firstChild==e&&(f=this.w.we.Eu(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.w.jb&&e!=d)}return new h.g.S(a,c)};b.moveBy=function(a,c){if(this.Ag)throw Error("Block has parent.");var d=h.i.isEnabled();if(d)var e=new h.i.mm(this);var f=this.Ua();this.translate(f.x+a,f.y+c);Xb(this,a,c);d&&(e.mk(),h.i.Fa(e));za(this.w)};
b.translate=function(a,c){this.Na().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Ua();this.moveBy(a.x-c.x,a.y-c.y)};b.vv=function(a){this.Uo?this.w.we.yk(a.x,a.y):(this.L.No="translate("+a.x+","+a.y+")",this.L.setAttribute("transform",this.L.No+this.L.Co))};
function bd(a){if(a.w&&!a.w.nc()&&!a.getParent()&&!a.ec){var c=a.w.bf;if(c&&c.BI){var d=c.qw,e=d/2,f=a.Ua();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function cd(a){var c=a.Ua(),d=G(a);if(a.H){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.Tn=function(){this.Ab.ql=this.w.wb.ca();for(var a=0,c;c=this.O[a];a++)c.Tn()};
b.Jh=function(a){if(this.mg!=a){for(var c=[],d=0,e;e=this.O[d];d++)c.push.apply(c,e.Jb(!a));if(a){e=Sb(this);for(d=0;d<e.length;d++)e[d].Jb(!1);d=this.toString(h.IC);I(K(this,"_TEMP_COLLAPSED_INPUT"),d).P();e=p(this,!0);if(d=t(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.kd){this.Yi(h.h.COLLAPSED_WARNINGS_WARNING,h.Za.Yr);break}}else this.ib("_TEMP_COLLAPSED_INPUT"),this.kd&&(this.kd.xo("",h.Za.Yr),Object.keys(this.kd.Kg).length||this.Yi(null));h.Za.A.Jh.call(this,a);
c.length||(c[0]=this);if(this.na)for(d=0;f=c[d];d++)f.Ba()}};b.Ni=function(a){var c=this.w&&this.w.oh(a);if(c){if(c.Nj)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");jc(c,this);c.gf=a}};b.showHelp=function(){var a="function"==typeof this.Hb?this.Hb():this.Hb;a&&window.open(a)};
function dd(a){if(a.w.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.ec){a.De()&&a.Nc()&&c.push(h.Aa.bF(a));a.w.options.Xm&&!a.mg&&a.Nd()&&c.push(h.Aa.$E(a));if(a.Nc())if(a.mg)a.w.options.collapse&&(d={enabled:!0},d.text=h.h.EXPAND_BLOCK,d.zb=function(){a.Jh(!1)},c.push(d));else{for(var d=1;d<a.O.length;d++)if(a.O[d-1].type!=h.mb&&a.O[d].type!=h.mb){d={enabled:!0};var e=Lb(a);d.text=e?h.h.EXTERNAL_INPUTS:h.h.INLINE_INPUTS;d.zb=function(){a.Fc(!e)};c.push(d);break}a.w.options.collapse&&
(d={enabled:!0},d.text=h.h.COLLAPSE_BLOCK,d.zb=function(){a.Jh(!0)},c.push(d))}a.w.options.disable&&a.Nd()&&(d={text:a.isEnabled()?h.h.DISABLE_BLOCK:h.h.ENABLE_BLOCK,enabled:!Bc(a),zb:function(){var f=h.i.ac();f||h.i.aa(!0);a.Sd(!a.isEnabled());f||h.i.aa(!1)}},c.push(d));a.De()&&c.push(h.Aa.aF(a))}c.push(h.Aa.cF(a));a.rg&&a.rg(c);return c}b.Ao=function(a){var c=dd(this);c&&c.length&&(h.Aa.show(a,c,this.H),h.Aa.gq=this)};
function Xb(a,c,d){if(a.na){for(var e=a.Jf(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=Sb(a);for(f=0;f<e.length;f++)Pa(e[f]);for(f=0;f<a.eh.length;f++)Xb(a.eh[f],c,d)}}b.Wi=function(a){if(a){var c=this.Na();c.No="";c.Co="";h.yl=h.yl.concat(this.Jf(!0));h.g.o.Wa(this.L,"blocklyDragging")}else h.yl=[],h.g.o.Bb(this.L,"blocklyDragging");for(c=0;c<this.eh.length;c++)this.eh[c].Wi(a)};b.Ar=function(a){h.Za.A.Ar.call(this,a);Qb(this.Ab,"blocklyDraggable",a)};
b.gw=function(a){h.Za.A.gw.call(this,a);a=Sb(this);for(var c=0;c<a.length;c++)a[c].Rh()};b.kw=function(a){h.Za.A.kw.call(this,a);this.cc()};b.HB=function(a){this.Mn!=a&&(this.Mn=a)&&(this.fd(this.w.wb.ca().ss),Qb(this.Ab,"blocklyInsertionMarker",!0))};b.Na=function(){return this.L};
b.F=function(a,c){if(this.w){h.I.F();h.I.Bw(this.Ab.Pb);h.g.o.Go();var d=this.w;if(h.selected==this){ac(this);var e=this.w;e.Kc&&e.Kc.cancel()}h.Aa.gq==this&&h.Aa.Ha();this.w.Cc&&h.navigation.DH(this);c&&this.na&&(w(this,a),h.pb.VF(this));this.na=!1;if(this.re){for(var f in this.re)clearTimeout(this.re[f]);this.re=null}c=Sb(this);for(e=0;e<c.length;e++)c[e].F();h.Za.A.F.call(this,!!a);h.g.o.removeNode(this.L);za(d);this.L=null;h.g.o.Ho()}};
b.cc=function(){this.Ab.cc(this);for(var a=Sb(this),c=0;c<a.length;c++)a[c].cc();for(a=0;c=this.O[a];a++)for(var d=0,e;e=c.Ta[d];d++)e.cc()};function ya(a){var c=a.nh(!1);a.cc();a=0;for(var d;d=c[a];a++)ya(d)}b.uG=function(){return this.Cf};b.Eg=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.Ue.text!=a&&(h.Za.A.Eg.call(this,a),a=null!=a,!!this.Cf==a?Ua(this.Cf):(a?this.Wm=this.Cf=new h.Comment(this):(this.Cf.F(),this.Wm=this.Cf=null),this.na&&(this.Ba(),this.Lb())))};
b.Yi=function(a,c){if(!h.yf)throw Error("Missing require for Blockly.Warning");this.re||(this.re=Object.create(null));var d=c||"";if(d)this.re[d]&&(clearTimeout(this.re[d]),delete this.re[d]);else for(var e in this.re)clearTimeout(this.re[e]),delete this.re[e];if(this.w.nc()){var f=this;this.re[d]=setTimeout(function(){f.w&&(delete f.re[d],f.Yi(a,d))},100)}else{this.ec&&(a=null);c=zc(this);for(e=null;c;)c.isCollapsed()&&(e=c),c=zc(c);e&&e.Yi(h.h.COLLAPSED_WARNINGS_WARNING,h.Za.Yr);c=!1;"string"==
typeof a?(this.kd||(this.kd=new h.yf(this),c=!0),this.kd.xo(a,d)):this.kd&&!d?(this.kd.F(),c=!0):this.kd&&(c=this.kd.$c(),this.kd.xo("",d),(e=this.kd.$c())||this.kd.F(),c=c!=e);c&&this.na&&(this.Ba(),this.Lb())}};b.Xi=function(a){this.dd&&this.dd!==a&&this.dd.F();a&&(a.N=this,this.dd=a,Oa(a));this.na&&(this.Ba(),this.Lb())};b.Sd=function(a){this.isEnabled()!=a&&(h.Za.A.Sd.call(this,a),this.na&&!Bc(this)&&ya(this))};b.tk=function(a){this.na&&this.Ab.XB(a)};
b.Qp=function(){Qb(this.Ab,"blocklySelected",!0)};b.oo=function(){Qb(this.Ab,"blocklySelected",!1)};function Vb(a,c){Qb(a.Ab,"blocklyDraggingDelete",c)}b.yu=function(){return this.style.ki};b.fd=function(a){h.Za.A.fd.call(this,a);a=ed(this.w.wb.ca(),this.Te);this.Ab.Nb(a.style);this.style=a.style;this.vk=a.name;this.cc()};b.Nb=function(a){var c=ad(this.w.wb.ca(),a);this.vk=a;if(c)this.wg=c.wg,this.Ab.Nb(c),this.Te=c.ki,this.style=c,this.cc();else throw Error("Invalid style name: "+a);};
function fb(a){do{var c=a.Na(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Ie=function(a,c){h.Za.A.Ie.call(this,a,c);this.na&&(this.Ba(),this.Lb())};b.He=function(a,c){h.Za.A.He.call(this,a,c);this.na&&(this.Ba(),this.Lb())};b.Td=function(a,c){h.Za.A.Td.call(this,a,c);this.na&&(this.Ba(),this.Lb())};b.Fc=function(a){h.Za.A.Fc.call(this,a);this.na&&(this.Ba(),this.Lb())};b.ib=function(a,c){h.Za.A.ib.call(this,a,c);this.na&&(this.Ba(),this.Lb())};
b.wv=function(a,c){h.Za.A.wv.call(this,a,c);this.na&&(this.Ba(),this.Lb())};b.Qm=function(a,c){a=h.Za.A.Qm.call(this,a,c);this.na&&(this.Ba(),this.Lb());return a};function xa(a,c){a.Y&&xc(a.Y,c);a.K&&xc(a.K,c);if(a.T){xc(a.T,c);var d=a.T.la();d&&xa(d,c)}if(!a.mg)for(d=0;d<a.O.length;d++){var e=a.O[d].connection;e&&(xc(e,c),(e=e.la())&&xa(e,c))}}
b.Jf=function(a){var c=[];if(a||this.na)if(this.K&&c.push(this.K),this.Y&&c.push(this.Y),this.T&&c.push(this.T),a||!this.mg){a=0;for(var d;d=this.O[a];a++)d.connection&&c.push(d.connection)}return c};b.Oq=function(){return h.Za.A.Oq.call(this)};b.Bu=function(a,c){return h.Za.A.Bu.call(this,a,c)};b.Sn=function(a){return new h.Wb(this,a)};
b.Lb=function(){if(this.w&&!this.w.nc()){var a=this.Ld();if(!a.ec)for(var c=this.Jf(!1),d=0,e;e=c[d];d++){e.isConnected()&&F(e)&&e.la().Lb();for(var f=e.ZA(h.Fd),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.U().Ld()!=a&&(F(e)?eb(k,e):eb(e,k))}}};function Yb(a){var c=h.i.ac();setTimeout(function(){h.i.aa(c);bd(a);h.i.aa(!1)},h.bp/2);setTimeout(function(){h.i.aa(c);a.Lb();h.i.aa(!1)},h.bp)}function cb(a,c,d){c.type!=h.mb&&c.type!=h.cb||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return h.Za.A.getParent.call(this)};
b.Ld=function(){return h.Za.A.Ld.call(this)};b.Ba=function(a){h.g.o.Go();this.na=!0;this.w.wb.Ba(this);var c=this.Ua();this.Y&&Tc(this.Y,c);this.K&&Tc(this.K,c);for(var d=0;d<this.O.length;d++){var e=this.O[d].connection;e&&(Tc(e,c),e.isConnected()&&Vc(e))}this.T&&(Tc(this.T,c),this.T.isConnected()&&Vc(this.T));!1!==a&&((a=this.getParent())?a.Ba(!0):za(this.w));h.g.o.Ho();this.Ew()};b.Ew=function(){this.w.Cc&&this.Ab.jn&&this.w.Gb().draw();this.w.Cc&&this.Ab.nv&&this.w.ke(h.navigation.um).draw()};
b.Kh=function(a){this.Ab.Kh(a)};b.Lh=function(a){this.Ab.Lh(a)};function G(a){var c=a.height,d=a.width,e=t(a);e&&(e=G(e),a=a.w.wb.ca().Tx,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.Ik=function(){this.$b=[]};function fd(a,c,d){if(!a.$b.length)return-1;var e=Sc(a,d);if(e>=a.$b.length)return-1;d=c.y;for(var f=e;0<=f&&a.$b[f].y==d;){if(a.$b[f]==c)return f;f--}for(;e<a.$b.length&&a.$b[e].y==d;){if(a.$b[e]==c)return e;e++}return-1}function Sc(a,c){if(!a.$b.length)return 0;for(var d=0,e=a.$b.length;d<e;){var f=Math.floor((d+e)/2);if(a.$b[f].y<c)d=f+1;else if(a.$b[f].y>c)e=f;else{d=f;break}}return d}
function Qc(a,c,d){c=fd(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.$b.splice(c,1)}function Wc(a,c,d){function e(n){var q=g-f[n].x,r=k-f[n].y;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.$b,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}h.Ik.P=function(){var a=[];a[h.cb]=new h.Ik;a[h.uf]=new h.Ik;a[h.mb]=new h.Ik;a[h.vf]=new h.Ik;return a};h.mj=function(a,c){this.Cl=a;this.qw=c.spacing;this.NA=c.length;this.qH=(this.dv=a.firstChild)&&this.dv.nextSibling;this.BI=c.snap};h.mj.prototype.Vi=1;h.mj.prototype.F=function(){this.Cl=null};h.mj.prototype.update=function(a){this.Vi=a;var c=this.qw*a||100;this.Cl.setAttribute("width",c);this.Cl.setAttribute("height",c);c=Math.floor(this.qw/2)+.5;var d=c-this.NA/2,e=c+this.NA/2;c*=a;d*=a;e*=a;gd(this.dv,a,d,e,c,c);gd(this.qH,a,c,c,d,e)};
function gd(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.mj.prototype.moveTo=function(a,c){this.Cl.setAttribute("x",a);this.Cl.setAttribute("y",c);(h.g.userAgent.sf||h.g.userAgent.kj)&&this.update(this.Vi)};
h.mj.Ea=function(a,c,d){a=h.g.o.J("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.o.J("line",{stroke:c.colour},a),1<c.length&&h.g.o.J("line",{stroke:c.colour},a)):h.g.o.J("line",{},a);return a};h.Rx=function(a){this.ih=this.Ff=null;this.ek={};this.s=a};function hd(a,c){var d=a.ek[c];if(d)d.F(),delete a.ek[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=h.Rx.prototype;b.Gb=function(){return this.Ff};b.ke=function(a){return this.ek[a]};b.fw=function(a){this.Ff&&this.Ff.ie&&this.Ff.ie.F();if(this.Ff=a)a=this.Ff,a=new h.j.Tg(this.s,this.s.wb.ca(),a),this.Ff.ie=a,this.Kh(this.Ff.ie.Ea())};
b.Kh=function(a){a?(this.s.jb.appendChild(a),this.ih=a):this.ih=null};b.Lh=function(a){a?this.s.jb&&(this.ih?this.s.jb.insertBefore(a,this.ih):this.s.jb.appendChild(a)):this.Ch=null};b.F=function(){for(var a=Object.keys(this.ek),c=0,d;d=a[c];c++)hd(this,d);this.ek=null;this.Ff.F();this.Ff=null};h.wy=function(a,c){this.s=a;this.Oh=c;this.Io=[];this.og=Object.create(null)};b=h.wy.prototype;b.qh=function(){return this.Oh};b.zo=function(a){var c=this.Oh;this.Oh=a;if(a=aa(this.s))c&&h.g.o.Bb(a,c.If()),h.g.o.Wa(a,this.Oh.If());for(c=0;a=this.Io[c];c++)id(a);c=0;a=Object.keys(this.og);for(var d;d=a[c];c++)for(var e=0,f;f=this.og[d][e];e++)f.element.style[f.propertyName]=this.Oh&&sa(this.Oh,d)||"";h.Bc()};
b.subscribe=function(a,c,d){this.og[c]||(this.og[c]=[]);this.og[c].push({element:a,propertyName:d});a.style[d]=this.Oh&&sa(this.Oh,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.og),d=0,e;e=c[d];d++){for(var f=this.og[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.og[e].length||delete this.og[e]}};b.F=function(){this.og=this.Io=this.Oh=this.Ge=null};h.ee=function(a,c){h.ee.A.constructor.call(this,a,c);this.Jq=!1;this.xe=Object.create(null);this.MB=this.io=0;this.HA=this.Iv=null};h.g.object.W(h.ee,h.Mk);h.ee.PE=5;h.ee.QE=6;b=h.ee.prototype;b.Zt=function(a){this.HA=this.rc.options.hb&&this.rc.options.hb.Rv;h.ee.A.Zt.call(this,a);!this.Iq&&h.Touch.Nq(a)&&jd(this,a)};
b.il=function(a){this.Iv=h.oa(document,"mousedown",null,this.YG.bind(this),!0);this.ir=h.oa(document,"mousemove",null,this.Dl.bind(this),!0);this.jr=h.oa(document,"mouseup",null,this.Aq.bind(this),!0);a.preventDefault();a.stopPropagation()};b.YG=function(a){!this.nc()&&h.Touch.Nq(a)&&(jd(this,a),this.Jq&&h.Ii())};
b.Dl=function(a){if(this.nc())h.Touch.pw(a)&&h.ee.A.Dl.call(this,a);else if(this.Jq){if(h.Touch.Nq(a)){this.xe[h.Touch.yq(a)]=kd(this,a);var c=Object.keys(this.xe);if(this.HA&&2===c.length){c=Object.keys(this.xe);c=h.g.S.Yt(this.xe[c[0]],this.xe[c[1]])/this.MB;if(0<this.io&&Infinity>this.io){var d=c-this.io;d=0<d?d*h.ee.PE:d*h.ee.QE;var e=this.rc,f=h.g.Yn(a,u(e),pa(e));e.zoom(f.x,f.y,d)}this.io=c;a.preventDefault()}else h.ee.A.Dl.call(this,a)}h.Ii()}else h.ee.A.Dl.call(this,a)};
b.Aq=function(a){if(h.Touch.Nq(a)&&!this.nc()){var c=h.Touch.yq(a);this.xe[c]&&delete this.xe[c];2>Object.keys(this.xe).length&&(this.xe=Object.create(null),this.io=0)}!this.Jq||this.nc()?h.Touch.pw(a)&&h.ee.A.Aq.call(this,a):(a.preventDefault(),a.stopPropagation(),this.F())};b.F=function(){h.ee.A.F.call(this);this.Iv&&h.La(this.Iv)};function jd(a,c){a.xe[h.Touch.yq(c)]=kd(a,c);var d=Object.keys(a.xe);2==d.length&&(a.MB=h.g.S.Yt(a.xe[d[0]],a.xe[d[1]]),a.Jq=!0,c.preventDefault())}
function kd(a,c){return a.rc?new h.g.S(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.Iy=function(a){this.Ov=a;this.Hm=Object.create(null)};b=h.Iy.prototype;b.$u=null;b.F=function(){this.Hm=this.Ov=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Hm[c]=e)}};
b.preload=function(){for(var a in this.Hm){var c=this.Hm[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.Ok||h.g.userAgent.Ex)break}};b.play=function(a,c){var d=this.Hm[a];d?(a=new Date,null!=this.$u&&a-this.$u<h.tE||(this.$u=a,d=h.g.userAgent.Ok||h.g.userAgent.lm?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Ov&&this.Ov.di.play(a,c)};h.Jy=function(a){this.$m=a;this.Ea()};b=h.Jy.prototype;b.yb=null;b.Gf=null;b.$m=null;b.Ea=function(){this.yb||(this.yb=h.g.o.J("svg",{xmlns:h.g.o.Lp,"xmlns:html":h.g.o.Nk,"xmlns:xlink":h.g.o.zf,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.$m.appendChild(this.yb))};b.yk=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.yb.style.display="block";h.g.o.wo(this.yb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Eu=function(){return h.g.af(this.yb)};
b.Yp=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.yb.childNodes[0],d=this.yb.childNodes[1];if(!(c&&d&&h.g.o.Bq(c,"blocklyBlockCanvas")&&h.g.o.Bq(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Vl?h.g.o.Tj(c,this.Vl):a.insertBefore(c,a.firstChild);h.g.o.Tj(d,c);this.yb.style.display="none";if(this.yb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.o.wo(this.yb,
"");this.Vl=null};
h.ob=function(a,c,d){h.ob.A.constructor.call(this,a);this.Mc=a.Mc||h.ob.HG;this.Zl=a.Zl||h.ob.wI;this.eq=h.Ik.P();c&&(this.we=c);d&&(this.Dk=d);this.Lr=!!this.Dk&&h.g.Uj();this.di=new h.Iy(a.qc);this.bf=this.options.Ju?new h.mj(a.Ju,a.oA):null;this.Ee=new h.Rx(this);this.yw={};this.su={};h.V&&h.V.Ij&&ld(this,h.bc,h.V.Ij);h.Cy&&h.Cy.Ij&&ld(this,h.JE,h.Cy.Ij);h.ua&&h.ua.Ij&&(ld(this,h.Fm,h.ua.Ij),D(this,h.ua.GH));this.hc=this.options.qc?this.options.qc.hc:new h.wy(this,this.options.LI||h.Zg.Uh);this.hc.Io.push(this);
this.wb=h.j.P(this.options.qo||"geras",this.qh(),this.options.so);this.vt=null;this.Cc=!1};h.g.object.W(h.ob,h.Db);b=h.ob.prototype;b.yr=null;b.na=!0;b.Ah=!0;b.Of=!1;b.On=!1;b.aw=!0;b.scrollX=0;b.scrollY=0;b.Kz=null;b.scale=1;b.hd=null;b.fc=null;b.$=null;b.ta=null;b.Kc=null;b.we=null;b.Dk=null;b.Lr=!1;b.Hq=!1;b.Uu=null;b.MA=null;b.aj=null;b.EA=null;b.Vu=!0;b.Kh=function(a){this.Ee.Kh(a)};b.Lh=function(a){this.Ee.Lh(a)};b.ke=function(a){return this.Ee?this.Ee.ke(a):null};
b.Gb=function(){return this.Ee?this.Ee.Gb():null};b.qh=function(){return this.hc.qh()};b.zo=function(a){a||(a=h.Zg.Uh);this.hc.zo(a)};function id(a){a.L&&a.wb.Xv(a.L,a.qh());md(B(a).filter(function(d){return void 0!==d.vk}));nd(a);a.ta&&Hb(a.ta);a.isVisible()&&a.Jb(!0);var c=new h.i.kc(null,"theme",null,null);c.Tb=a.id;h.i.Fa(c)}
function md(a){for(var c=0,d;d=a[c];c++){var e=d.vk;if(e&&(d.Nb(e),d.dd)){var f=d.dd.s;if(f&&B(f)){var g=B(f);for(d=0;d<g.length;d++)e=g[d],e.Nb(e.vk);f=B(f.Lc().s);for(d=0;d<f.length;d++)e=f[d],e.Nb(e.vk)}}}}function pa(a){if(a.Vu){var c=u(a).getScreenCTM();c&&(a.EA=c.inverse(),a.Vu=!1)}return a.EA}b.Ro=function(){this.Vu=!0};b.isVisible=function(){return this.Ah};
function Mb(a,c){var d=0,e=0,f=1;if(h.g.o.containsNode(a.jb,c)||h.g.o.containsNode(a.Sf,c))f=a.scale;do{var g=h.g.af(c);if(c==a.jb||c==a.Sf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=u(a));return new h.g.S(d,e)}function aa(a){if(!a.Uu)for(var c=a.L;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Uu=c;break}c=c.parentNode}return a.Uu}
b.Ea=function(a){this.L=h.g.o.J("g",{"class":"blocklyWorkspace"},null);a&&(this.gd=h.g.o.J("rect",{height:"100%",width:"100%","class":a},this.L),"blocklyMainBackground"==a&&this.bf?this.gd.style.fill="url(#"+this.bf.Cl.id+")":this.hc.subscribe(this.gd,"workspaceBackgroundColour","fill"));this.jb=h.g.o.J("g",{"class":"blocklyBlockCanvas"},this.L);this.Sf=h.g.o.J("g",{"class":"blocklyBubbleCanvas"},this.L);this.Of||(h.oa(this.L,"mousedown",this,this.Ni,!1,!0),h.oa(this.L,"wheel",this,this.bI));if(this.options.rA){if(!h.uj)throw Error("Missing require for Blockly.Toolbox");
this.ta=new h.uj(this)}this.bf&&this.bf.update(this.scale);od(this);this.Ee.fw(new h.Jk);a=this.Ee;var c=h.navigation.um,d=new h.xm;a.ek[c]&&hd(a,c);var e=new h.j.Tg(a.s,a.s.wb.ca(),d);d.ie=e;a.Lh(d.ie.Ea());a.ek[c]=d;this.wb.Ea(this.L,this.qh());return this.L};
b.F=function(){this.na=!1;this.Kc&&this.Kc.cancel();this.L&&(h.g.o.removeNode(this.L),this.L=null);this.Sf=this.jb=null;this.ta&&(this.ta.F(),this.ta=null);this.$&&(this.$.F(),this.$=null);this.hd&&(this.hd.F(),this.hd=null);this.fc&&(this.fc.F(),this.fc=null);this.Fk&&(this.Fk.F(),this.Fk=null);this.di&&(this.di.F(),this.di=null);this.bf&&(this.bf.F(),this.bf=null);this.wb.F();if(this.hc){var a=this.hc,c=a.Io.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Io.splice(c,1);this.hc.unsubscribe(this.gd);this.options.qc||(this.hc.F(),this.hc=null)}this.Ee&&(this.Ee.F(),this.Ee=null);h.ob.A.F.call(this);this.su=this.yw=this.eq=null;this.options.qc||(a=u(this).parentNode)&&h.g.o.removeNode(a);this.yr&&(h.La(this.yr),this.yr=null)};b.Li=function(a,c){return new h.Za(this,a,c)};function pd(a){if(!h.Yc)throw Error("Missing require for Blockly.Trashcan");a.hd=new h.Yc(a);var c=a.hd.Ea();a.L.insertBefore(c,a.jb)}
function qd(a){if(!h.at)throw Error("Missing require for Blockly.ZoomControls");a.Fk=new h.at(a);var c=a.Fk.Ea();a.L.appendChild(c)}
function rd(a,c){var d=new h.Vc({parentWorkspace:a,rtl:a.H,oneBasedIndex:a.options.Eh,horizontalLayout:a.Mf,renderer:a.options.qo,rendererOverrides:a.options.so});d.Ja=a.options.Ja;if(a.Mf){if(!h.rm)throw Error("Missing require for Blockly.HorizontalFlyout");a.$=new h.rm(d)}else{if(!h.ah)throw Error("Missing require for Blockly.VerticalFlyout");a.$=new h.ah(d)}a.$.hl=!1;a.$.s.Jb(!0);return a.$.Ea(c)}b.Lc=function(a){return this.$||a?this.$:this.ta?this.ta.Lc():null};
function za(a){a.aw&&a.na&&(a.fc&&a.fc.resize(),a.Ro())}b.resize=function(){this.ta&&this.ta.position();this.$&&this.$.position();this.hd&&this.hd.position();this.Fk&&this.Fk.position();this.fc&&this.fc.resize();this.Ro();od(this)};function ec(a){var c=h.g.AG();h.g.S.Ye(a.MA,c)||(a.MA=c,a.Ro(),od(a))}function u(a){if(!a.vt)for(var c=a.L;c;){if("svg"==c.tagName){a.vt=c;break}c=c.parentNode}return a.vt}
b.translate=function(a,c){if(this.Lr&&this.Hq)this.Dk.yk(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.jb.setAttribute("transform",d);this.Sf.setAttribute("transform",d)}if(this.we){d=this.we;var e=this.scale;d.Vi=e;d.Gf.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.bf&&this.bf.moveTo(a,c)};
function ra(a){if(a.Lr){a.Hq=!1;var c=a.Dk.Eu();a.Dk.Yp(a.L);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.jb.setAttribute("transform",c);a.Sf.setAttribute("transform",c)}}
function qa(a){if(a.Lr&&!a.Hq){a.Hq=!0;var c=a.jb.previousSibling,d=parseInt(u(a).getAttribute("width"),10),e=parseInt(u(a).getAttribute("height"),10),f=h.g.af(a.jb),g=a.Dk,k=a.jb,l=a.Sf,m=a.scale;if(g.yb.childNodes.length)throw Error("Already dragging a block.");g.Vl=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.yb.setAttribute("width",d);g.yb.setAttribute("height",e);g.yb.appendChild(k);g.yb.appendChild(l);g.yb.style.display=
"block";a.Dk.yk(f.x,f.y)}}b.sh=function(){var a=this.Mc();return a?a.rb/this.scale:0};b.Jb=function(a){this.Ah=a;if(this.L)if(this.fc&&this.fc.qk(a),this.Lc()&&this.Lc().qk(a),u(this).style.display=a?"block":"none",this.ta&&(this.ta.Ic.style.display=a?"block":"none"),a){a=B(this);for(var c=a.length-1;0<=c;c--)a[c].Tn();this.Ba();this.ta&&this.ta.position()}else h.Bc(!0)};
b.Ba=function(){for(var a=B(this),c=a.length-1;0<=c;c--)a[c].Ba(!1);if(this.Kc)for(a=this.Kc.Bl(),c=0;c<a.length;c++)a[c].Ba(!1);c=this.Ee;c.s.Cc&&c.ih&&c.s.Gb().draw()};
function sd(a){var c=h.Vm;if(a.na&&!(c.getElementsByTagName("block").length>=Da(a)))if(a.Kc&&a.Kc.cancel(),"comment"==c.tagName.toLowerCase()){h.i.disable();try{var d=h.dl.un(c),e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.H&&(e=-e),d.moveBy(e+50,f+50))}finally{h.i.enable()}d.select()}else a:{h.i.disable();try{var g=h.R.Fj(c,a),k=a.ke(h.navigation.um).$a;if(a.Cc&&k&&k.Jl){h.navigation.DA(g,k.qa);break a}var l=parseInt(c.getAttribute("x"),10),m=parseInt(c.getAttribute("y"),
10);if(!isNaN(l)&&!isNaN(m)){a.H&&(l=-l);do{c=!1;var n=B(a);d=0;for(var q;q=n[d];d++){var r=q.Ua();if(1>=Math.abs(l-r.x)&&1>=Math.abs(m-r.y)){c=!0;break}}if(!c){var x=g.Jf(!1);d=0;for(var z;z=x[d];d++)if(z.closest(h.Fd,new h.g.S(l,m)).connection){c=!0;break}}c&&(l=a.H?l-h.Fd:l+h.Fd,m+=2*h.Fd)}while(c);g.moveBy(l,m)}}finally{h.i.enable()}h.i.isEnabled()&&!g.Va&&h.i.Fa(new h.i.fp(g));g.select()}}
function nd(a){if((a=a.Of?a.aj:a)&&!a.Kc&&a.ta&&a.ta.Lc()){a=a.ta;var c=a.jd.Rd;c&&c.lg&&a.$.show(c.lg)}}b.Ui=function(a,c){h.ob.A.Ui.call(this,a,c);nd(this)};b.kh=function(a){h.ob.A.kh.call(this,a);nd(this)};b.We=function(a,c,d){a=h.ob.A.We.call(this,a,c,d);nd(this);return a};function od(a){a.xz=a.hd&&a.L.parentNode?a.hd.xn():null;a.wz=a.$?a.$.xn():a.ta?a.ta.xn():null}function Ub(a,c){return a.xz&&a.xz.contains(c.clientX,c.clientY)?h.fs:a.wz&&a.wz.contains(c.clientX,c.clientY)?h.hx:h.gx}
b.Ni=function(a){var c=this.oh(a);c&&hc(c,a,this)};b.rw=function(a,c){a=h.g.Yn(a,u(this),pa(this));a.x/=this.scale;a.y/=this.scale;this.Kz=h.g.S.ln(c,a)};b.nc=function(){return null!=this.Kc&&this.Kc.nc()};function td(a){return a.options.Oc&&a.options.Oc.scrollbars||a.options.Oc&&a.options.Oc.fj||a.options.Oc&&a.options.Oc.pi||a.options.hb&&a.options.hb.controls||a.options.hb&&a.options.hb.fj||a.options.hb&&a.options.hb.Rv}
b.Nc=function(){return this.options.Oc&&this.options.Oc.scrollbars||this.options.Oc&&this.options.Oc.fj||this.options.Oc&&this.options.Oc.pi||this.options.hb&&this.options.hb.fj||this.options.hb&&this.options.hb.Rv};
b.bI=function(a){if(h.Mk.Qu())a.preventDefault(),a.stopPropagation();else{var c=this.options.hb&&this.options.hb.fj,d=this.options.Oc&&this.options.Oc.fj;if(c||d){var e=h.g.gA(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.Yn(a,u(this),pa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function wa(a){var c=a.lc(!1);a=va(a,!1);c=c.concat(a);if(!c.length)return new h.g.Rect(0,0,0,0);a=cd(c[0]);for(var d=1;d<c.length;d++){var e=cd(c[d]);e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}b.pF=function(){this.Rc(!1);h.i.aa(!0);for(var a=this.lc(!0),c=0,d=0,e;e=a[d];d++)if(e.Nc()){var f=e.Ua();e.moveBy(-f.x,c-f.y);bd(e);c=e.Ua().y+G(e).height+this.wb.ca().vm}h.i.aa(!1);this.Rc(!0)};
b.Ao=function(a){function c(z){if(z.De())x=x.concat(p(z,!1));else{z=z.nh(!1);for(var H=0;H<z.length;H++)c(z[H])}}function d(){h.i.aa(g);var z=x.shift();z&&(z.w?(z.F(!1,!0),setTimeout(d,10)):d());h.i.aa(!1)}if(!this.options.readOnly&&!this.Of){var e=[],f=this.lc(!0),g=h.g.mh(),k=this,l={};l.text=h.h.UNDO;l.enabled=0<this.zk.length;l.zb=this.Cw.bind(this,!1);e.push(l);l={};l.text=h.h.REDO;l.enabled=0<this.mo.length;l.zb=this.Cw.bind(this,!0);e.push(l);this.Nc()&&(l={},l.text=h.h.CLEAN_UP,l.enabled=
1<f.length,l.zb=this.pF.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var q=f[n];q;)q.isCollapsed()?l=!0:m=!0,q=t(q);var r=function(z){for(var H=0,W=0;W<f.length;W++)for(var ia=f[W];ia;)setTimeout(ia.Jh.bind(ia,z),H),ia=t(ia),H+=10};m={enabled:m};m.text=h.h.COLLAPSE_ALL;m.zb=function(){r(!0)};e.push(m);l={enabled:l};l.text=h.h.EXPAND_ALL;l.zb=function(){r(!1)};e.push(l)}var x=[];for(n=0;n<f.length;n++)c(f[n]);l={text:1==x.length?h.h.DELETE_BLOCK:h.h.DELETE_X_BLOCKS.replace("%1",
String(x.length)),enabled:0<x.length,zb:function(){k.Kc&&k.Kc.cancel();2>x.length?d():h.confirm(h.h.DELETE_ALL_BLOCKS.replace("%1",x.length),function(z){z&&d()})}};e.push(l);this.uF&&this.uF(e,a);h.Aa.show(a,e,this.H)}};function oa(a){if(a.options.qc)oa(a.options.qc);else{h.Rn=a;document.activeElement&&document.activeElement.blur();try{u(a).focus({preventScroll:!0})}catch(c){try{u(a).parentNode.setActive()}catch(d){u(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.hb.pI,d);var e=this.scale*d;if(this.scale!=e){e>this.options.hb.Un?d=this.options.hb.Un/this.scale:e<this.options.hb.Wn&&(d=this.options.hb.Wn/this.scale);var f=this.jb.getCTM(),g=u(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
function ud(a,c){var d=a.Mc();if(a.$){var e=d.II/2;d=d.HI/2}else e=d.rb/2+d.xc,d=d.Cb/2+d.Jc;a.zoom(e,d,c)}b.eG=function(){h.g.o.Bb(this.jb,"blocklyCanvasTransitioning");h.g.o.Bb(this.Sf,"blocklyCanvasTransitioning")};
b.setScale=function(a){this.options.hb.Un&&a>this.options.hb.Un?a=this.options.hb.Un:this.options.hb.Wn&&a<this.options.hb.Wn&&(a=this.options.hb.Wn);this.scale=a;h.Bc(!1);this.$&&(this.$.Wv(),od(this));this.bf&&this.bf.update(this.scale);a=this.Mc();this.scrollX-=a.xc;this.scrollY-=a.Jc;a.jc+=a.xc;a.wc+=a.Jc;this.scroll(this.scrollX,this.scrollY);this.fc&&(this.$?(ha(this.fc.cf,a),ja(this.fc.nf,a)):(la(this.fc.cf,a),na(this.fc.nf,a)))};
function vd(a){return a.options.qc?vd(a.options.qc):a.scale}b.scroll=function(a,c){h.Bc(!0);var d=this.Mc(),e=d.Ef+d.sd-d.rb,f=d.ge+d.Zc-d.Cb;a=Math.min(a,-d.sd);c=Math.min(c,-d.Zc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.fc&&(ca(this.fc.cf,-(a+d.sd)*this.fc.cf.Pc),ca(this.fc.nf,-(c+d.Zc)*this.fc.nf.Pc));a+=d.xc;c+=d.Jc;this.translate(a,c)};h.ob.Zz=function(a){var c=0,d=0;a&&(c=a.sh(),d=a.bA());return{width:c,height:d}};
h.ob.xG=function(a,c){return td(a)?h.ob.wG(a,c):h.ob.Xz(a)};h.ob.Xz=function(a){var c=wa(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};h.ob.wG=function(a,c){a=h.ob.Xz(a);var d=c.width;c=c.height;var e=d/2,f=c/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-g}};
h.ob.HG=function(){var a=h.ob.Zz(this.ta),c=h.ob.Zz(this.$),d=h.SB(u(this)),e={height:d.height,width:d.width};if(this.ta)if(this.Ja==h.Yg||this.Ja==h.sj)e.height-=a.height;else{if(this.Ja==h.ce||this.Ja==h.Xg)e.width-=a.width}else if(this.$)if(this.Ja==h.Yg||this.Ja==h.sj)e.height-=c.height;else if(this.Ja==h.ce||this.Ja==h.Xg)e.width-=c.width;var f=h.ob.xG(this,e),g=0;this.ta&&this.Ja==h.ce?g=a.width:this.$&&this.Ja==h.ce&&(g=c.width);var k=0;this.ta&&this.Ja==h.Yg?k=a.height:this.$&&this.Ja==h.Yg&&
(k=c.height);return{ge:f.height,Ef:f.width,Zc:f.top,sd:f.left,Cb:e.height,rb:e.width,wc:-this.scrollY,jc:-this.scrollX,Jc:k,xc:g,HI:d.height,II:d.width,UB:a.width,oM:a.height,OL:c.width,NL:c.height,Ja:this.Ja}};h.ob.wI=function(a){var c=this.Mc();"number"==typeof a.x&&(this.scrollX=-c.Ef*a.x-c.sd);"number"==typeof a.y&&(this.scrollY=-c.ge*a.y-c.Zc);this.translate(this.scrollX+c.xc,this.scrollY+c.Jc)};b=h.ob.prototype;b.Kd=function(a){return h.ob.A.Kd.call(this,a)};
b.lc=function(a){return h.ob.A.lc.call(this,a)};b.Rc=function(a){var c=!this.aw&&a;this.aw=a;c&&za(this)};b.clear=function(){this.Rc(!1);h.ob.A.clear.call(this);this.Rc(!0)};function wd(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.su.CREATE_VARIABLE=c}function Wa(a,c){return(a=a.su[c])?a:null}function ld(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.yw[c]=d}
b.oh=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Kc;return d?c&&d.Nj?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.Kc=new h.ee(a,this):null};h.qm=function(a){a.Mc=this.Bn.bind(this);a.Zl=this.IB.bind(this);this.s=new h.ob(a);this.s.Of=!0;this.s.Jb(this.Ah);this.H=!!a.H;this.fm=a.Ja;this.lu=[];this.Rq=[];this.Sm=[];this.Pd=[];this.Qv=[];this.em=this.s.wb.ca().Np};b=h.qm.prototype;b.hl=!0;b.Ah=!1;b.yj=!0;b.xb=8;b.Zh=h.qm.prototype.xb;b.mD=3*h.qm.prototype.Zh;b.nD=3*h.qm.prototype.Zh;b.Ps=2;b.sb=0;b.bd=0;b.$F=70;
b.Ea=function(a){this.L=h.g.o.J(a,{"class":"blocklyFlyout",style:"display: none"},null);this.gd=h.g.o.J("path",{"class":"blocklyFlyoutBackground"},this.L);this.L.appendChild(this.s.Ea());this.s.hc.subscribe(this.gd,"flyoutBackgroundColour","fill");this.s.hc.subscribe(this.gd,"flyoutOpacity","fill-opacity");this.s.Ee.fw(new h.up);return this.L};
b.P=function(a){this.Qb=a;this.s.aj=a;this.Ec=new h.Pa(this.s,this.Nf,!1,"blocklyFlyoutScrollbar");this.Ha();Array.prototype.push.apply(this.lu,h.oa(this.L,"wheel",this,this.YI));this.hl||(this.oq=this.nu.bind(this),D(this.Qb,this.oq));Array.prototype.push.apply(this.lu,h.oa(this.gd,"mousedown",this,this.Ni));this.s.oh=this.Qb.oh.bind(this.Qb);this.s.mw(this.Qb.Oa);a=this.s;a.Ri=new h.Zs(a)};
b.F=function(){this.Ha();h.La(this.lu);this.oq&&(Ha(this.Qb,this.oq),this.oq=null);this.Ec&&(this.Ec.F(),this.Ec=null);this.s&&(this.s.hc.unsubscribe(this.gd),this.s.aj=null,this.s.F(),this.s=null);this.L&&(h.g.o.removeNode(this.L),this.L=null);this.Qb=this.gd=null};b.sh=function(){return this.sb};b.bA=function(){return this.bd};b.isVisible=function(){return this.Ah};b.Jb=function(a){var c=a!=this.isVisible();this.Ah=a;c&&this.Qo()};b.qk=function(a){var c=a!=this.yj;this.yj=a;c&&this.Qo()};
b.Qo=function(){var a=this.yj?this.isVisible():!1;this.L.style.display=a?"block":"none";this.Ec.qk(a)};b.Ha=function(){if(this.isVisible()){this.Jb(!1);for(var a=0,c;c=this.Pd[a];a++)h.La(c);this.Pd.length=0;this.Si&&(Ha(this.s,this.Si),this.Si=null)}};
b.show=function(a){this.s.Rc(!1);this.Ha();xd(this);if("string"==typeof a){a=this.s.aj.yw[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.s.aj);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Jb(!0);var c=[],d=[];this.Qv.length=0;for(var e=this.Nf?this.mD:this.nD,f=0,g;g=a[f];f++)if(g.tagName)switch(g.tagName.toUpperCase()){case "BLOCK":var k=h.R.Fj(g,this.s);k.isEnabled()||
this.Qv.push(k);c.push({type:"block",block:k});g=parseInt(g.getAttribute("gap"),10);d.push(isNaN(g)?e:g);break;case "SEP":g=parseInt(g.getAttribute("gap"),10);!isNaN(g)&&0<d.length?d[d.length-1]=g:d.push(e);break;case "LABEL":case "BUTTON":k="LABEL"==g.tagName.toUpperCase();if(!h.lj)throw Error("Missing require for Blockly.FlyoutButton");g=new h.lj(this.s,this.Qb,g,k);c.push({type:"button",button:g});d.push(e)}yd(this,c,d);this.Pd.push(h.oa(this.gd,"mouseover",this,function(){for(var l=this.s.lc(!1),
m=0,n;n=l[m];m++)n.oo()}));this.Nf?this.bd=0:this.sb=0;this.s.Rc(!0);this.Wv();this.nu();this.position();this.Si=this.Wv.bind(this);D(this.s,this.Si)};function xd(a){for(var c=a.s.lc(!1),d=0,e;e=c[d];d++)e.w==a.s&&e.F(!1,!1);for(d=0;d<a.Rq.length;d++)if(c=a.Rq[d])h.I.Bw(c),h.g.o.removeNode(c);for(d=a.Rq.length=0;c=a.Sm[d];d++)c.F();a.Sm.length=0;a.s.Ri.clear()}function zd(a,c){return function(d){var e=a.Qb.oh(d);e&&(jc(e,c),ic(e,d,a))}}b.Ni=function(a){var c=this.Qb.oh(a);c&&ic(c,a,this)};
function ab(a,c){var d=null;h.i.disable();var e=a.Qb.Jj();a.Qb.Rc(!1);try{var f=a.Qb;if(!c.Na())throw Error("oldBlock is not rendered.");var g=h.R.gi(c,!0);f.Rc(!1);var k=h.R.Fj(g,f);if(!k.Na())throw Error("block is not rendered.");var l=h.g.An(f.jb),m=h.g.An(a.s.jb),n=c.Ua();n.scale(a.s.scale);var q=h.g.S.sum(m,n),r=h.g.S.ln(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;h.Bc()}finally{h.i.enable()}c=h.V.Wz(a.Qb,e);if(h.i.isEnabled())for(h.i.aa(!0),h.i.Fa(new h.i.pf(d)),e=0;e<c.length;e++)h.i.Fa(new h.i.Oe(c[e]));
a.hl?a.Ha():a.nu();return d}b.nu=function(){for(var a=this.s.lc(!1),c=0,d;d=a[c];c++)if(-1==this.Qv.indexOf(d))for(var e=Ea(this.Qb,h.g.vu(d));d;)d.Sd(e),d=t(d)};
b.Wv=function(){this.Si&&Ha(this.s,this.Si);this.s.scale=this.Qb.scale;for(var a=0,c=this.s.lc(!1),d=0,e;e=c[d];d++){var f=G(e).width;e.K&&(f-=this.em);a=Math.max(a,f)}for(d=0;e=this.Sm[d];d++)a=Math.max(a,e.width);a+=1.5*this.Zh+this.em;a*=this.s.scale;a+=h.Pa.Dc;if(this.sb!=a){for(d=0;e=c[d];d++){if(this.H){f=e.Ua().x;var g=a/this.s.scale-this.Zh;e.K||(g-=this.em);e.moveBy(g-f,0)}e.Qz&&(f=e.Qz,g=e,e=G(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Ua(),f.setAttribute("y",
g.y),f.setAttribute("x",this.H?g.x-e.width:g.x))}if(this.H)for(d=0;e=this.Sm[d];d++)e.moveTo(a/this.s.scale-e.width-this.Zh-this.em,e.xd.y);this.sb=a;this.position()}this.Si&&D(this.s,this.Si)};function dc(a){return a.Ec?a.Ec.isVisible():!1}b.Qd=function(a){return this.s.Gb().Qd(a)};h.Z={};h.Z.Ge=null;h.Z.kq=null;h.Z.Pf="";h.Z.Tf="";h.Z.Ea=function(){h.Z.bb||(h.Z.bb=document.createElement("div"),h.Z.bb.className="blocklyWidgetDiv",(h.lr||document.body).appendChild(h.Z.bb))};h.Z.show=function(a,c,d){h.Z.Ha();h.Z.Ge=a;h.Z.kq=d;a=h.Z.bb;a.style.direction=c?"rtl":"ltr";a.style.display="block";h.Z.Pf=h.Ka().wb.If();h.Z.Tf=h.Ka().qh().If();h.g.o.Wa(a,h.Z.Pf);h.g.o.Wa(a,h.Z.Tf)};
h.Z.Ha=function(){if(h.Z.isVisible()){h.Z.Ge=null;var a=h.Z.bb;a.style.display="none";a.style.left="";a.style.top="";h.Z.kq&&h.Z.kq();h.Z.kq=null;a.textContent="";h.Z.Pf&&(h.g.o.Bb(a,h.Z.Pf),h.Z.Pf="");h.Z.Tf&&(h.g.o.Bb(a,h.Z.Tf),h.Z.Tf="");oa(h.Ka())}};h.Z.isVisible=function(){return!!h.Z.Ge};h.Z.Fn=function(a){h.Z.Ge==a&&h.Z.Ha()};h.Z.ho=function(a,c,d){h.Z.bb.style.left=a+"px";h.Z.bb.style.top=c+"px";h.Z.bb.style.height=d+"px"};
h.Z.hI=function(a,c,d,e){var f=h.Z.iF(a,c,d);a=h.Z.hF(a,c,d,e);0>f?h.Z.ho(a,0,d.height+f):h.Z.ho(a,f,d.height)};h.Z.hF=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.Z.iF=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.ah=function(a){a.Mc=this.Bn.bind(this);a.Zl=this.IB.bind(this);h.ah.A.constructor.call(this,a);this.Nf=!1};h.g.object.W(h.ah,h.qm);b=h.ah.prototype;b.Bn=function(){if(!this.isVisible())return null;try{var a=this.s.jb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.Ps,d=this.bd-2*this.Ps,e=this.sb;this.H||(e-=this.Ps);return{Cb:d,rb:e,ge:a.height*this.s.scale+2*this.Zh,Ef:a.width*this.s.scale+2*this.Zh,wc:-this.s.scrollY+a.y,jc:-this.s.scrollX,Zc:a.y,sd:a.x,Jc:c,xc:0}};
b.IB=function(a){var c=this.Bn();c&&("number"==typeof a.y&&(this.s.scrollY=-c.ge*a.y),this.s.translate(this.s.scrollX+c.xc,this.s.scrollY+c.Jc))};
b.position=function(){if(this.isVisible()){var a=this.Qb.Mc();if(a){this.bd=a.Cb;var c=this.sb-this.xb,d=a.Cb-2*this.xb,e=this.fm==h.Xg,f=c+this.xb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.xb,this.xb,0,0,e?0:1,e?-this.xb:this.xb,this.xb);f.push("v",Math.max(0,d));f.push("a",this.xb,this.xb,0,0,e?0:1,e?this.xb:-this.xb,this.xb);f.push("h",e?c:-c);f.push("z");this.gd.setAttribute("d",f.join(" "));c=this.bd;a=this.Qb.Ja==this.fm?a.UB?this.fm==h.ce?a.UB:a.rb-this.sb:this.fm==h.ce?0:a.rb:
this.fm==h.ce?0:a.rb+a.xc-this.sb;this.L.setAttribute("width",this.sb);this.L.setAttribute("height",c);"svg"==this.L.tagName?h.g.o.wo(this.L,"translate("+a+"px,0px)"):this.L.setAttribute("transform","translate("+a+",0)");this.Ec&&(this.Ec.Kv=new h.g.S(a,0),this.Ec.resize(),fa(this.Ec,this.Ec.xd.x,this.Ec.xd.y))}}};b.YI=function(a){var c=h.g.gA(a);if(c.y){var d=this.Bn();c=d.wc-d.Zc+c.y;c=Math.min(c,d.ge-d.Cb);c=Math.max(c,0);this.Ec.set(c);h.Z.Ha()}a.preventDefault();a.stopPropagation()};
function yd(a,c,d){a.s.scale=a.Qb.scale;for(var e=a.Zh,f=a.H?e:e+a.em,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=p(k,!1),m=0,n;n=l[m];m++)n.ec=!0;k.Ba();n=k.Na();l=G(k);m=k.K?f-a.em:f;k.moveBy(m,e);var q=a,r=k,x=g;m=h.g.o.J("rect",{"fill-opacity":0,x:a.H?m-l.width:m,y:e,height:l.height,width:l.width},null);m.Uf=r;h.I.il(m);q.s.jb.insertBefore(m,r.Na());r.Qz=m;q.Rq[x]=m;q=a;q.Pd.push(h.oa(n,"mousedown",null,zd(q,k)));q.Pd.push(h.oa(m,"mousedown",null,zd(q,k)));q.Pd.push(h.qd(n,"mouseenter",
k,k.Qp));q.Pd.push(h.qd(n,"mouseleave",k,k.oo));q.Pd.push(h.qd(m,"mouseenter",k,k.Qp));q.Pd.push(h.qd(m,"mouseleave",k,k.oo));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,q=e,r=m.Ea(),m.moveTo(n,q),m.show(),l.Pd.push(h.oa(r,"mousedown",l,l.Ni)),l.Sm.push(m),e+=k.button.height+d[g])}b.xn=function(){if(!this.L)return null;var a=this.L.getBoundingClientRect(),c=a.left;return this.fm==h.ce?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};
h.at=function(a){this.s=a};b=h.at.prototype;b.xj=32;b.wx=110;b.ys=20;b.tm=20;b.L=null;b.Pn=0;b.hm=0;b.Ea=function(){this.L=h.g.o.J("g",{},null);var a=String(Math.random()).substring(2);Ad(this,a);Bd(this,a);this.s.Nc()&&Cd(this,a);return this.L};b.P=function(a){this.Sh=this.ys+a;return this.Sh+this.wx};b.F=function(){this.L&&h.g.o.removeNode(this.L)};
b.position=function(){if(this.Sh){var a=this.s.Mc();a&&(this.Pn=a.Ja==h.ce||this.s.Mf&&!this.s.H?a.rb+a.xc-this.xj-this.tm-h.Pa.Dc:this.tm+h.Pa.Dc,a.Ja==h.sj?(this.hm=this.Sh,this.Nr.setAttribute("transform","translate(0, 34)"),this.Or&&this.Or.setAttribute("transform","translate(0, 77)")):(this.hm=a.Cb+a.Jc-this.wx-this.Sh,this.Nr.setAttribute("transform","translate(0, 43)"),this.Kw.setAttribute("transform","translate(0, 77)")),this.L.setAttribute("transform","translate("+this.Pn+","+this.hm+")"))}};
function Ad(a,c){var d=a.s;a.Kw=h.g.o.J("g",{"class":"blocklyZoom"},a.L);var e=h.g.o.J("clipPath",{id:"blocklyZoomoutClipPath"+c},a.Kw);h.g.o.J("rect",{width:32,height:32},e);a=h.g.o.J("image",{width:h.Gd.width,height:h.Gd.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+c+")"},a.Kw);a.setAttributeNS(h.g.o.zf,"xlink:href",d.options.Bg+h.Gd.url);h.oa(a,"mousedown",null,function(f){oa(d);ud(d,-1);h.Touch.ji();f.stopPropagation();f.preventDefault()})}
function Bd(a,c){var d=a.s;a.Nr=h.g.o.J("g",{"class":"blocklyZoom"},a.L);var e=h.g.o.J("clipPath",{id:"blocklyZoominClipPath"+c},a.Nr);h.g.o.J("rect",{width:32,height:32},e);a=h.g.o.J("image",{width:h.Gd.width,height:h.Gd.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+c+")"},a.Nr);a.setAttributeNS(h.g.o.zf,"xlink:href",d.options.Bg+h.Gd.url);h.oa(a,"mousedown",null,function(f){oa(d);ud(d,1);h.Touch.ji();f.stopPropagation();f.preventDefault()})}
function Cd(a,c){var d=a.s;a.Or=h.g.o.J("g",{"class":"blocklyZoom"},a.L);var e=h.g.o.J("clipPath",{id:"blocklyZoomresetClipPath"+c},a.Or);h.g.o.J("rect",{width:32,height:32},e);a=h.g.o.J("image",{width:h.Gd.width,height:h.Gd.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+c+")"},a.Or);a.setAttributeNS(h.g.o.zf,"xlink:href",d.options.Bg+h.Gd.url);h.oa(a,"mousedown",null,function(f){oa(d);d.setScale(d.options.hb.OB);h.g.o.Wa(d.jb,"blocklyCanvasTransitioning");h.g.o.Wa(d.Sf,"blocklyCanvasTransitioning");
if(d.Nc()){var g=d.Mc(),k=(g.Ef-g.rb)/2,l=(g.ge-g.Cb)/2;k=-k-g.sd;l=-l-g.Zc;d.scroll(k,l)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(d.eG.bind(d),500);h.Touch.ji();f.stopPropagation();f.preventDefault()})}
h.md.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);h.Xw=function(a){this.$m=a;this.Ea()};b=h.Xw.prototype;b.yb=null;b.Gf=null;b.$m=null;b.Vi=1;b.Jo=null;b.Ea=function(){this.yb||(this.yb=h.g.o.J("svg",{xmlns:h.g.o.Lp,"xmlns:html":h.g.o.Nk,"xmlns:xlink":h.g.o.zf,version:"1.1","class":"blocklyBlockDragSurface"},this.$m),this.Gf=h.g.o.J("g",{},this.yb))};function cc(a,c){if(a.Gf.childNodes.length)throw Error("Already dragging a block.");a.Gf.appendChild(c);a.yb.style.display="block";a.Jo=new h.g.S(0,0)}
b.yk=function(a,c){this.Jo=new h.g.S(a*this.Vi,c*this.Vi);a=this.Jo.x;c=this.Jo.y;a=a.toFixed(0);c=c.toFixed(0);this.yb.style.display="block";h.g.o.wo(this.yb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Eu=function(){var a=h.g.af(this.yb);return new h.g.S(a.x/this.Vi,a.y/this.Vi)};b.ac=function(){return this.Gf};
b.Yp=function(a){a?a.appendChild(this.Gf.firstChild):this.Gf.removeChild(this.Gf.firstChild);this.yb.style.display="none";if(this.Gf.childNodes.length)throw Error("Drag group was not cleared.");this.Jo=null};
h.D=function(){};h.D.st=null;h.D.Ge=null;h.D.wB=null;h.D.Zo=16;h.D.Ww=1;h.D.Uw=12;h.D.Yx=16;h.D.Tr=.25;h.D.et=null;h.D.kk=null;h.D.Pf="";h.D.Tf="";
h.D.Ea=function(){if(!h.D.Yf){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.lr||document.body).appendChild(a);h.D.Yf=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.D.zj=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.D.Pe=c;h.D.Yf.style.opacity=0;h.D.Yf.style.transition="transform "+h.D.Tr+"s, opacity "+h.D.Tr+"s";a.addEventListener("focusin",function(){h.g.o.Wa(a,"focused")});a.addEventListener("focusout",
function(){h.g.o.Bb(a,"focused")})}};h.D.sI=function(a){h.D.st=a};h.D.yG=function(){return h.D.zj};h.D.qF=function(){h.D.zj.textContent="";h.D.zj.style.width=""};h.D.fd=function(a,c){h.D.Yf.style.backgroundColor=a;h.D.Yf.style.borderColor=c};h.D.jM=function(a,c,d,e){return h.D.JB(h.D.eA(c),a,d,e)};h.D.yI=function(a,c){h.D.wB=!0;h.D.JB(h.D.fA(a),a,c,void 0)};h.D.eA=function(a){var c=a.Na(),d=c.getBBox(),e=a.w.scale;a=d.height*e;d=d.width*e;c=h.g.style.Lj(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.D.fA=function(a){a=sc(a);return new h.g.Rect(a.top,a.bottom,a.left,a.right)};h.D.JB=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.U();h.D.sI(u(e.w).parentNode);return h.D.show(c,e.H,f,g,f,a,d)};h.D.show=function(a,c,d,e,f,g,k){h.D.Ge=a;h.D.kk=k||null;a=h.D.Yf;a.style.direction=c?"rtl":"ltr";h.D.Pf=h.Ka().wb.If();h.D.Tf=h.Ka().qh().If();h.g.o.Wa(a,h.D.Pf);h.g.o.Wa(a,h.D.Tf);return h.D.ho(d,e,f,g)};
h.D.rG=function(){var a=h.g.style.Lj(h.D.st),c=h.g.style.ph(h.D.st);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.D.FG=function(a,c,d,e){var f=h.D.rG(),g=h.g.style.ph(h.D.Yf);return c+g.height<f.bottom?h.D.dA(a,c,f,g):e-g.height>f.top?h.D.cA(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.D.dA(a,c,f,g):e-g.height>document.documentElement.clientTop?h.D.cA(d,e,f,g):h.D.GG(a,f,g)};
h.D.dA=function(a,c,d,e){a=h.D.Du(a,d.left,d.right,e.width);return{Ru:a.xl,Su:c,ou:a.xl,pu:c+h.D.Yx,Rm:a.Rm,Qy:-(h.D.Zo/2+h.D.Ww),gt:!0,ht:!0}};h.D.cA=function(a,c,d,e){a=h.D.Du(a,d.left,d.right,e.width);return{Ru:a.xl,Su:c-e.height,ou:a.xl,pu:c-e.height-h.D.Yx,Rm:a.Rm,Qy:e.height-2*h.D.Ww-h.D.Zo/2,gt:!1,ht:!0}};h.D.GG=function(a,c,d){a=h.D.Du(a,c.left,c.right,d.width);return{Ru:a.xl,Su:0,ou:a.xl,pu:0,ht:!1}};
h.D.Du=function(a,c,d,e){var f=a;a=h.g.oc.Se(c,a-e/2,d-e);f-=h.D.Zo/2;c=h.g.oc.Se(h.D.Uw,f-a,e-h.D.Uw-h.D.Zo);return{Rm:c,xl:a}};h.D.isVisible=function(){return!!h.D.Ge};h.D.Fn=function(a,c){h.D.Ge===a&&(c?h.D.Fl():h.D.Ha())};h.D.Ha=function(){var a=h.D.Yf;a.style.transform="translate(0, 0)";a.style.opacity=0;h.D.et=setTimeout(function(){h.D.Fl()},1E3*h.D.Tr);h.D.kk&&(h.D.kk(),h.D.kk=null)};
h.D.Fl=function(){if(h.D.isVisible()){h.D.et&&clearTimeout(h.D.et);var a=h.D.Yf;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.D.kk&&(h.D.kk(),h.D.kk=null);h.D.qF();h.D.Ge=null;h.D.Pf&&(h.g.o.Bb(a,h.D.Pf),h.D.Pf="");h.D.Tf&&(h.g.o.Bb(a,h.D.Tf),h.D.Tf="");oa(h.Ka())}};
h.D.ho=function(a,c,d,e){a=h.D.FG(a,c,d,e);a.ht?(h.D.Pe.style.display="",h.D.Pe.style.transform="translate("+a.Rm+"px,"+a.Qy+"px) rotate(45deg)",h.D.Pe.setAttribute("class",a.gt?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.D.Pe.style.display="none";c=Math.floor(a.Ru);d=Math.floor(a.Su);e=Math.floor(a.ou);var f=Math.floor(a.pu),g=h.D.Yf;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return a.gt};h.D.dM=function(){if(h.D.Ge){var a=h.D.Ge,c=h.D.Ge.U();a=h.D.wB?h.D.fA(a):h.D.eA(c);c=a.left+(a.right-a.left)/2;h.D.ho(c,a.bottom,c,a.top)}else h.D.Ha()};h.Sj=function(a,c){h.jF();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.o.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.Vc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.X.Ib(d,h.g.X.State.FD,h.h.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.cn(d,c);var e=new h.Xw(d),f=new h.Jy(d),g=h.AF(a,c,e,f);h.Ma.Ia.vI(c.Ia);h.fH(g);h.Rn=g;h.dm(g);d.addEventListener("focusin",function(){h.Rn=
g});return g};h.cn=function(a,c){a.setAttribute("dir","LTR");h.Hc.uz=c.H;h.md.Sj(c.ZG,c.Bg);a=h.g.o.J("svg",{xmlns:h.g.o.Lp,"xmlns:html":h.g.o.Nk,"xmlns:xlink":h.g.o.zf,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.o.J("defs",{},a);c.Ju=h.mj.Ea(String(Math.random()).substring(2),c.oA,d);return a};
h.AF=function(a,c,d,e){c.qc=null;var f=new h.ob(c,d,e);c=f.options;f.scale=c.hb.OB;a.appendChild(f.Ea("blocklyMainBackground"));h.g.o.Wa(aa(f),f.wb.If());h.g.o.Wa(aa(f),f.qh().If());!c.rA&&c.yg&&(d=rd(f,"svg"),h.g.o.Tj(d,a));c.uA&&pd(f);c.hb&&c.hb.controls&&qd(f);f.hc.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.Nc()||D(f,function(g){if(!f.nc()&&!f.Nc()&&-1!=h.i.DC.indexOf(g.type)){var k=Object.create(null),l=f.Mc(),m=f.scale;k.H=f.H;k.jc=l.jc/m;k.wc=
l.wc/m;k.dC=(l.jc+l.rb)/m;k.cC=(l.wc+l.Cb)/m;td(f)?(l=wa(f),k.sd=l.left,k.Zc=l.top,k.jz=l.right,k.hz=l.bottom):(k.sd=l.sd/m,k.Zc=l.Zc/m,k.jz=(l.sd+l.Ef)/m,k.hz=(l.Zc+l.ge)/m);if(k.Zc<k.wc||k.hz>k.cC||k.sd<k.jc||k.jz>k.dC){l=null;g&&(l=h.i.ac(),h.i.aa(g.group));switch(g.type){case h.i.$o:case h.i.Vr:var n=f.Kd(g.yc);n&&(n=n.Ld());break;case h.i.ip:case h.i.jp:n=f.bq[g.ng]||null}if(n){m=cd(n);m.height=m.bottom-m.top;m.width=m.right-m.left;var q=k.wc,r=k.cC-m.height;r=Math.max(q,r);q=h.g.oc.Se(q,m.top,
r)-m.top;r=k.jc;var x=k.dC-m.width;k.H?r=Math.min(x,r):x=Math.max(r,x);n.moveBy(h.g.oc.Se(r,m.left,x)-m.left,q)}g&&(!g.group&&n&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&h.i.aa(l))}}});h.dm(f);h.Z.Ea();h.D.Ea();h.I.Ea();return f};
h.fH=function(a){var c=a.options,d=u(a);h.oa(d.parentNode,"contextmenu",null,function(f){h.g.Lq(f)||f.preventDefault()});d=h.oa(window,"resize",null,function(){h.Bc(!0);h.dm(a)});a.yr=d;h.Sj.ZE();if(c.yg){d=a.ta;var e=a.Lc(!0);d?d.P():e&&(e.P(a),e.show(c.yg.childNodes),e.Ec.set(0))}d=h.Pa.Dc;c.uA&&(d=a.hd.P(d));c.hb&&c.hb.controls&&a.Fk.P(d);c.Oc&&c.Oc.scrollbars?(a.fc=new h.$k(a),a.fc.resize()):a.Zl({x:.5,y:.5});c.aH&&h.Sj.rH(c.Bg,a)};
h.Sj.ZE=function(){h.XF||(h.oa(document,"scroll",null,function(){for(var a=h.Db.getAll(),c=0,d;d=a[c];c++)d.Ro&&d.Ro()}),h.oa(document,"keydown",null,h.$n),h.qd(document,"touchend",null,h.Ii),h.qd(document,"touchcancel",null,h.Ii),h.g.userAgent.Ok&&h.oa(window,"orientationchange",document,function(){h.dm(h.Ka())}));h.XF=!0};
h.Sj.rH=function(a,c){function d(){for(;f.length;)h.La(f.pop());e.preload()}var e=c.di;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.oa(document,"mousemove",null,d,!0));f.push(h.oa(document,"touchstart",null,d,!0))};h.$d=function(a,c){this.bC=c||"";this.CB=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.CB[a[c]]=!0;this.reset()};h.$d.gs="DEVELOPER_VARIABLE";h.$d.prototype.reset=function(){this.sg=Object.create(null);this.sz=Object.create(null);this.Oa=null};h.$d.prototype.mw=function(a){this.Oa=a};
function Dd(a,c){var d=h.m.Vd;if(c==h.bc){var e=a;d.Oa?e=(e=d.Oa.Lf(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==h.bc||c==h.$d.gs?d.bC:"";if(e in d.sg)return f+d.sg[e];a=Ed(d,a,c);d.sg[e]=a.substr(f.length);return a}
function Ed(a,c,d){c?(c=encodeURI(c.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(c[0])&&(c="my_"+c)):c=h.h.UNNAMED_KEY||"unnamed";for(var e="";a.sz[c+e]||c+e in a.CB;)e=e?e+1:2;c+=e;a.sz[c]=!0;return(d==h.bc||d==h.$d.gs?a.bC:"")+c}h.$d.Ye=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.ua={};h.ua.Fp=h.Fm;h.ua.ex="x";h.ua.WE=function(a){a=B(a);for(var c=[],d=[],e=0;e<a.length;e++)if(a[e].si){var f=a[e].si();f&&(f[2]?c.push(f):d.push(f))}d.sort(h.ua.yB);c.sort(h.ua.yB);return[d,c]};h.ua.yB=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};h.ua.iG=function(a,c){if(c.ec)return a;for(a=a||h.h.UNNAMED_KEY||"unnamed";!h.ua.kH(a,c.w,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};h.ua.kH=function(a,c,d){return!h.ua.mH(a,c,d)};
h.ua.mH=function(a,c,d){c=B(c);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].si){var f=c[e].si();if(h.$d.Ye(f[0],a))return!0}return!1};h.ua.rr=function(a){a=a.trim();var c=h.ua.iG(a,this.U()),d=this.getValue();if(d!=a&&d!=c){a=B(this.U().w);for(var e=0;e<a.length;e++)a[e].po&&a[e].po(d,c)}return c};
h.ua.Ij=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],q=h.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=h.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var x=h.g.xml.createElement("arg");x.setAttribute("name",n[m]);r.appendChild(x)}d.push(q)}}var d=[];if(h.M.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.h.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.M.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.h.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.M.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.ua.WE(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.ua.YB=function(a){var c=[];var d=a.Vf.procedures_mutatorarg?a.Vf.procedures_mutatorarg.slice(0):[];for(var e=0,f;f=d[e];e++)c.push(C(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.V.Vz(h.ua.ex,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.Vc.pB(d)){if(!a.options.yg)throw Error("Existing toolbox is null.  Can't create new toolbox.");
if(c.getElementsByTagName("category").length){if(!a.ta)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.yg=c;Bb(a.ta,c)}else{if(!a.$)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.yg=c;a.$.show(c.childNodes)}}else if(a.options.yg)throw Error("Can't nullify an existing toolbox.");};
h.ua.GH=function(a){if(a.type==h.i.Km&&"mutatorOpen"==a.element&&a.newValue){a=h.Db.wn(a.Tb).Kd(a.yc);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.dd.s,h.ua.YB(a),D(a,h.ua.FH)}};h.ua.FH=function(a){a.type!=h.i.$o&&a.type!=h.i.Ur&&a.type!=h.i.yC||h.ua.YB(h.Db.wn(a.Tb))};h.ua.sG=function(a,c){var d=[];c=B(c);for(var e=0;e<c.length;e++)if(c[e].Be){var f=c[e].Be();f&&h.$d.Ye(f,a)&&d.push(c[e])}return d};
h.ua.Zn=function(a){var c=h.i.Qc,d=a.si()[0],e=a.fb(!0);a=h.ua.sG(d,a.w);d=0;for(var f;f=a[d];d++){var g=f.fb();g=g&&h.R.ze(g);f.Fb(e);var k=f.fb();k=k&&h.R.ze(k);g!=k&&(h.i.Qc=!1,h.i.Fa(new h.i.Mg(f,"mutation",null,g,k)),h.i.Qc=c)}};h.ua.yn=function(a,c){c=c.lc(!1);for(var d=0;d<c.length;d++)if(c[d].si){var e=c[d].si();if(e&&h.$d.Ye(e[0],a))return c[d]}return null};h.Lm=function(a,c,d,e){this.w=a;this.name=c;this.type=d||"";this.Gl=e||h.g.mh();h.i.Fa(new h.i.Oe(this))};h.Lm.prototype.xa=function(){return this.Gl};h.Lm.cz=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};h.V={};h.V.Fp=h.bc;h.V.Py=function(a){var c=B(a);a=Object.create(null);for(var d=0;d<c.length;d++){var e=c[d].rh();if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.xa();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.V.EL=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};h.V.Qw={};
h.V.UE=function(a){a=B(a);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.PL;!f&&e.zG&&(f=e.zG,h.V.Qw[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.V.Qw[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.V.Ij=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");wd(a,function(e){h.V.mz(e.Qb)});c.push(d);a=h.V.lG(a);return c=c.concat(a)};
h.V.lG=function(a){a=a.Cn("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.M.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.M.math_change?8:24);e.appendChild(h.V.vn(d));c.push(e)}h.M.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.M.variables_get?20:8),e.appendChild(h.V.vn(d)),d=h.R.bj('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.M.variables_get){a.sort(h.Lm.cz);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.V.vn(f)),c.push(e)}}return c};h.V.Ay="ijkmnopqrstuvwxyzabcdefgh";h.V.nG=function(a){return h.V.Vz(h.V.Ay.charAt(0),a.uu())};
h.V.Vz=function(a,c){if(!c.length)return a;for(var d=h.V.Ay,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.V.mz=function(a,c,d){function e(g){h.V.zB(h.h.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.V.IH(k,a);if(l){if(l.type==f)var m=h.h.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.We(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.V.We=h.V.mz;
h.V.wr=function(a,c){function d(e){var f=h.h.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.V.zB(f,e,function(g){if(g){var k=h.V.JH(g,c.type,a);k?(k=h.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.Ui(c.xa(),g)}})}d("")};h.V.zB=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.h.RENAME_VARIABLE||e==h.h.NEW_VARIABLE)&&(e=null);d(e)})};
h.V.JH=function(a,c,d){d=d.Oa.Jj();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.V.IH=function(a,c){c=c.Oa.Jj();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.V.vn=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.xa());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.V.wq=function(a,c,d,e){var f=h.V.ad(a,c,d,e);f||(f=h.V.BF(a,c,d,e));return f};h.V.ad=function(a,c,d,e){var f=a.Ri,g=null;if(c&&(g=a.Lf(c),!g&&f&&(g=f.Lf(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.ad(d,e);!g&&f&&(g=f.ad(d,e))}return g};h.V.BF=function(a,c,d,e){var f=a.Ri;d||(d=h.V.nG(a.Of?a.aj:a));return f?f.We(d,e,c):a.We(d,e,c)};
h.V.Wz=function(a,c){a=a.Jj();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Rn=null;h.selected=null;h.yl=[];h.Vm=null;h.$p=null;h.Ct=null;h.HL=null;h.lr=null;h.SB=function(a){return{width:a.Uy,height:a.Ty}};h.eM=function(a){za(a)};h.dm=function(a){for(;a.options.qc;)a=a.options.qc;var c=u(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.Uy!=e&&(c.setAttribute("width",e+"px"),c.Uy=e);c.Ty!=d&&(c.setAttribute("height",d+"px"),c.Ty=d);a.resize()}};
h.$n=function(a){var c=h.Rn;if(c&&!(h.g.Lq(a)||c.na&&!c.isVisible()))if(c.options.readOnly)h.navigation.iB(a);else{var d=!1;if(a.keyCode==h.g.Ca.js)h.Bc(),h.navigation.Qd(h.navigation.Pr);else{if(h.navigation.iB(a))return;if(a.keyCode==h.g.Ca.wC||a.keyCode==h.g.Ca.nm){a.preventDefault();if(h.Mk.Qu())return;h.selected&&h.selected.De()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(h.Mk.Qu())return;h.selected&&h.selected.De()&&h.selected.Nc()&&(a.keyCode==h.g.Ca.FC?(h.Bc(),h.Ft(h.selected)):a.keyCode!=
h.g.Ca.Ky||h.selected.w.Of||(h.Ft(h.selected),d=!0));a.keyCode==h.g.Ca.GE?h.Vm&&(a=h.$p,a.Of&&(a=a.aj),h.Ct&&Ea(a,h.Ct)&&(h.i.aa(!0),sd(a),h.i.aa(!1))):a.keyCode==h.g.Ca.OE&&(h.Bc(),c.Cw(a.shiftKey))}}d&&!h.selected.w.Of&&(h.i.aa(!0),h.Bc(),h.selected.F(!0,!0),h.i.aa(!1))}};h.Ft=function(a){if(a.FA)var c=a.ww();else{c=h.R.gi(a,!0);h.R.OF(c);var d=a.Ua();c.setAttribute("x",a.H?-d.x:d.x);c.setAttribute("y",d.y)}h.Vm=c;h.$p=a.w;h.Ct=a.FA?null:h.g.vu(a,!0)};
h.duplicate=function(a){var c=h.Vm,d=h.$p;h.Ft(a);sd(a.w);h.Vm=c;h.$p=d};h.bM=function(a){h.g.Lq(a)||a.preventDefault()};h.Bc=function(a){h.I.Ha();h.Z.Ha();h.D.Fl();a||(a=h.Ka(),a.hd&&a.hd.Hj&&a.hd.Hj.Ha(),(a=a.ta)&&a.Lc()&&a.Lc().hl&&qb(a.jd,null))};h.Ka=function(){return h.Rn};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.pH=function(a){return function(){L(this,a)}};
h.wl=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.M[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.M[e]={P:h.pH(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
h.oa=function(a,c,d,e,f,g){function k(x){var z=!f;x=h.Touch.CI(x);for(var H=0,W;W=x[H];H++)if(!z||h.Touch.pw(W))h.Touch.tI(W),d?e.call(d,W):e(W),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.fg)for(var n=0,q;q=h.Touch.fg[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.fg){var r=function(x){k(x);var z=!g;l&&z&&x.preventDefault()};for(n=0;q=h.Touch.fg[c][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
h.qd=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.fg)for(var k=0,l;l=h.Touch.fg[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.fg){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.fg[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.La=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};h.Gi=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.cH=function(a){return h.g.qb.zA(a)};
h.jF=function(){h.rd("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.rd("LOGIC_HUE",["Constants","Logic","HUE"],210);h.rd("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.rd("LOOPS_HUE",["Constants","Loops","HUE"],120);h.rd("MATH_HUE",["Blocks","math","HUE"],void 0);h.rd("MATH_HUE",["Constants","Math","HUE"],230);h.rd("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.rd("TEXTS_HUE",["Constants","Text","HUE"],160);h.rd("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.rd("LISTS_HUE",["Constants","Lists","HUE"],
260);h.rd("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.rd("COLOUR_HUE",["Constants","Colour","HUE"],20);h.rd("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.rd("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.rd("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.rd("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.rd=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.iM=function(a){h.lr=a};h.g.B={};h.g.B.Qa=function(a,c){return" "+a+","+c+" "};h.g.B.curve=function(a,c){return" "+a+c.join("")};h.g.B.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.B.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.B.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.B.line=function(a){return" l"+a.join("")};h.g.B.ea=function(a,c){return" "+a+" "+c+" "};h.g.B.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.j.Qg=function(){this.ag=0;this.sE=3;this.Ne=5;this.Mx=8;this.Ed=10;this.uy=this.Ne;this.Jm=15;this.bl=5;this.Np=8;this.dE=15;this.Tx=4;this.aE=12;this.ZC=16;this.YC=this.kx=this.Jm;this.xb=8;this.yE=this.zm=15;this.xE=0;this.sy=20;this.xC=4;this.CE=this.Ne;this.DE=this.Ed;this.BC=this.Ne;this.AC=this.Ed;this.Yo=!1;this.vE=15;this.wE=100;this.uE=15;this.vm=24;this.aD=14.5;this.$C=this.Jm+11;this.cD=2;this.bD=this.vm;this.py=h.g.B.moveBy(0,0);this.BD=12;this.CD=6;this.Wh=11;this.Xh="normal";this.Vh=
"sans-serif";this.qx=this.tp=-1;this.sp=4;this.ox=16;this.Kk=5;this.nx="#fff";this.os=!h.g.userAgent.sf&&!h.g.userAgent.kj;this.px=this.ox;this.fD=this.eD=this.ns=!1;this.hD=this.Kk;this.om=12;this.gD="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.iD=!1;this.dD=this.Kk-3;this.lo=String(Math.random()).substring(2);this.mq="";this.ju=null;this.Dz="";this.hn=this.It=this.Tt=null;this.mp="#cc0a0a";this.Dp="#4286f4";this.op=100;this.Gy=5;this.np=10;this.OC=2;this.QC=4;this.tx=!1;this.ss="#000000";this.zp=.2;this.oy={mE:1,Sk:2}};b=h.j.Qg.prototype;
b.P=function(){this.Qk=this.hv();this.Sk=this.iv();this.Zk=this.kv();this.Is=this.jv();var a=this.xb,c=h.g.B.arc("a","0 0,0",a,h.g.B.Qa(-a,a)),d=h.g.B.arc("a","0 0,0",a,h.g.B.Qa(a,a));this.Ap={width:a,height:a,Pv:c,nr:d};a=this.xb;c=h.g.B.moveBy(0,a)+h.g.B.arc("a","0 0,1",a,h.g.B.Qa(a,-a));d=h.g.B.arc("a","0 0,1",a,h.g.B.Qa(a,a));var e=h.g.B.arc("a","0 0,1",a,h.g.B.Qa(-a,-a)),f=h.g.B.arc("a","0 0,1",a,h.g.B.Qa(-a,a));this.Em={zw:c,QI:d,dF:f,rt:e,oI:a}};
b.zo=function(a){this.ei={};var c=a.ei,d;for(d in c)this.ei[d]=Fd(c[d]);this.Vh=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Vh;this.Xh=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.Xh;this.Wh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.Wh;c=h.g.o.UA("Hg",this.Wh+"pt",this.Xh,this.Vh);this.tp=c.height;this.qx=c.Qe;this.mp=sa(a,"cursorColour")||this.mp;this.Dp=sa(a,"markerColour")||this.Dp;this.ss=sa(a,"insertionMarkerColour")||this.ss;this.zp=Number(sa(a,
"insertionMarkerOpacity"))||this.zp;this.Yo=null!=a.sw?a.sw:this.Yo};function ed(a,c){var d="auto_"+c;a.ei[d]||(a.ei[d]=Fd({colourPrimary:c}));return{style:a.ei[d],name:d}}function ad(a,c){return a.ei[c||""]||(c&&0==c.indexOf("auto_")?ed(a,c.substring(5)).style:Fd({colourPrimary:"#000000"}))}
function Fd(a){var c={};a&&h.g.object.ff(c,a);a=h.g.mr(c.colourPrimary||"#000");c.ki=a.En;c.colourSecondary?a=h.g.mr(c.colourSecondary).En:(a=c.ki,a=h.g.qb.nt("#fff",a,.6)||a);c.aq=a;c.colourTertiary?a=h.g.mr(c.colourTertiary).En:(a=c.ki,a=h.g.qb.nt("#fff",a,.3)||a);c.fh=a;c.wg=c.hat||"";return c}b.F=function(){this.ju&&h.g.o.removeNode(this.ju);this.Tt&&h.g.o.removeNode(this.Tt);this.It&&h.g.o.removeNode(this.It);this.hn=null};
b.hv=function(){var a=this.BD,c=this.CD,d=h.g.B.line([h.g.B.Qa(c,a/4),h.g.B.Qa(2*-c,a/2),h.g.B.Qa(c,a/4)]);return{height:a,width:c,path:d}};b.kv=function(){var a=this.vE,c=this.wE,d=h.g.B.curve("c",[h.g.B.Qa(30,-a),h.g.B.Qa(70,-a),h.g.B.Qa(c,0)]);return{height:a,width:c,path:d}};
b.jv=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.B.Qa(c,g*l);return h.g.B.curve("c",[h.g.B.Qa(0,g*(l+2.5)),h.g.B.Qa(-c,k*(l+.5)),h.g.B.Qa(-c,g*l)])+h.g.B.curve("s",[h.g.B.Qa(c,2.5*k),m])}var c=this.Np,d=this.Jm,e=a(!0),f=a(!1);return{type:this.oy.mE,width:c,height:d,jf:f,bo:e}};b.iv=function(){function a(k){return h.g.B.line([h.g.B.Qa(k*e,d),h.g.B.Qa(3*k,0),h.g.B.Qa(k*e,-d)])}var c=this.dE,d=this.Tx,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.oy.Sk,width:c,height:d,Qi:f,qB:g}};
function Rb(a,c){switch(c.type){case h.cb:case h.uf:return a.Is;case h.vf:case h.mb:return a.Sk;default:throw Error("Unknown connection type");}}
b.Ea=function(a,c,d){d=this.xu(d);c="blockly-renderer-style-"+c;this.hn=document.getElementById(c);var e=d.join("\n");this.hn?this.hn.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.hn=d);a=h.g.o.J("defs",{},a);c=h.g.o.J("filter",{id:"blocklyEmbossFilter"+this.lo},a);h.g.o.J("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.o.J("feSpecularLighting",
{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.o.J("fePointLight",{x:-5E3,y:-1E4,z:2E4},d);h.g.o.J("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.o.J("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.mq=c.id;this.ju=c;c=h.g.o.J("pattern",{id:"blocklyDisabledPattern"+this.lo,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.o.J("rect",
{width:10,height:10,fill:"#aaa"},c);h.g.o.J("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.Dz=c.id;this.Tt=c;h.j.lx&&(a=h.g.o.J("filter",{id:"blocklyDebugFilter"+this.lo,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=h.g.o.J("feComponentTransfer",{result:"outBlur"},a),h.g.o.J("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),h.g.o.J("feFlood",{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),h.g.o.J("feComposite",{"in":"outColor",in2:"outBlur",
operator:"in",result:"outGlow"},a),this.It=a)};
b.xu=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font-family: "+this.Vh+";","font-size: "+this.Wh+"pt;","font-weight: "+this.Xh+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.nx+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {",
"fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Vh+";","font-weight: "+this.Xh+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;",
"}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.zp+";","stroke: none","}"]};h.j.Tg=function(a,c,d){this.s=a;this.SA=d;this.ne=null;this.v=c;this.ul=null;a=Gd(this)?this.v.mp:this.v.Dp;this.Te=d.qb||a};h.j.Tg.PC="blocklyCursor";h.j.Tg.VD="blocklyMarker";h.j.Tg.qD=.75;b=h.j.Tg.prototype;b.Na=function(){return this.L};function Gd(a){return"cursor"==a.SA.type}
b.Ea=function(){this.L=h.g.o.J("g",{"class":Gd(this)?h.j.Tg.PC:h.j.Tg.VD},null);this.Ch=h.g.o.J("g",{width:this.v.op,height:this.v.Gy},this.L);this.Ji=h.g.o.J("rect",{width:this.v.op,height:this.v.Gy,style:"display: none"},this.Ch);this.dk=h.g.o.J("rect",{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Ch);this.ck=h.g.o.J("path",{transform:"",style:"display: none"},this.Ch);this.Bh=h.g.o.J("path",{transform:"",style:"display: none",fill:"none","stroke-width":this.v.QC},this.Ch);
if(Gd(this)){var a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Te+";transparent;transparent;",repeatCount:"indefinite"};h.g.o.J("animate",a,this.Ji);h.g.o.J("animate",a,this.ck);a.attributeName="stroke";h.g.o.J("animate",a,this.Bh)}Hd(this);return this.L};function Id(a,c){Gd(a)?(a.ne&&a.ne.Kh(null),c.Kh(a.Na())):(a.ne&&a.ne.Lh(null),c.Lh(a.Na()));a.ne=c}
function Jd(a,c){if(c){var d=c.width,e=c.height,f=e*h.j.Tg.qD,g=a.v.OC;if(c.Y){var k=Rb(a.v,c.Y);e=k;d=h.g.B.moveBy(-g,f)+h.g.B.ea("V",-g)+h.g.B.ea("H",a.v.zm)+e.Qi+h.g.B.ea("H",d+2*g)+h.g.B.ea("V",f);a.Bh.setAttribute("d",d)}else c.K?(f=k=Rb(a.v,c.K),d=h.g.B.moveBy(d,0)+h.g.B.ea("h",-(d-f.width))+h.g.B.ea("v",a.v.bl)+f.jf+h.g.B.ea("V",e)+h.g.B.ea("H",d),a.Bh.setAttribute("d",d)):(d=h.g.B.moveBy(-g,f)+h.g.B.ea("V",-g)+h.g.B.ea("H",d+2*g)+h.g.B.ea("V",f),a.Bh.setAttribute("d",d));a.s.H&&a.Bh.setAttribute("transform",
"scale(-1 1)");a.ul=a.Bh;Id(a,c);Kd(a)}}function Kd(a){a.Ha();a.ul.style.display=""}function Ld(a,c,d,e){a.Ji.setAttribute("x",c);a.Ji.setAttribute("y",d);a.Ji.setAttribute("width",e);a.ul=a.Ji}function Md(a,c,d,e,f){a.dk.setAttribute("x",c);a.dk.setAttribute("y",d);a.dk.setAttribute("width",e);a.dk.setAttribute("height",f);a.ul=a.dk}b.Ha=function(){this.Ji.style.display="none";this.dk.style.display="none";this.ck.style.display="none";this.Bh.style.display="none"};
b.draw=function(a,c){if(c){this.v=this.s.wb.ca();var d=Gd(this)?this.v.mp:this.v.Dp;this.Te=this.SA.qb||d;Hd(this);if(c.vb()==h.C.types.se)Jd(this,c.qa);else if(c.vb()==h.C.types.qj)d=c.qa.U(),Jd(this,d);else if(c.qa.type==h.cb){var e=c.qa;d=e.U();var f=e.jk.x,g=e.jk.y;e=h.g.B.moveTo(0,0)+Rb(this.v,e).jf;this.ck.setAttribute("d",e);this.ck.setAttribute("transform","translate("+f+","+g+")"+(this.s.H?" scale(-1 1)":""));this.ul=this.ck;Id(this,d);Kd(this)}else if(c.qa.type==h.mb)g=c.qa,d=g.U(),f=0,
g=g.jk.y,e=G(d).width,this.s.H&&(f=-e),Ld(this,f,g,e),Id(this,d),Kd(this);else if(c.vb()==h.C.types.ve)d=c.qa.U(),Jd(this,d);else if(c.vb()==h.C.types.Xd)d=c.qa,f=d.ph().width,g=d.ph().height,Md(this,0,0,f,g),Id(this,d),Kd(this);else if(c.vb()==h.C.types.jg)f=c.Jw,d=f.x,f=f.y,this.s.H&&(d-=this.v.op),Ld(this,d,f,this.v.op),Id(this,this.s),Kd(this);else if(c.vb()==h.C.types.dg){d=c.qa;g=G(d);f=g.width+this.v.np;g=g.height+this.v.np;var k=e=-this.v.np/2,l=-this.v.np/2;this.s.H&&(k=-(f+e));Md(this,k,
l,f,g);Id(this,d);Kd(this)}d=c.U();a=new h.i.kc(d,Gd(this)?"cursorMove":"markerMove",a,c);c.vb()==h.C.types.jg&&(a.Tb=c.qa.id);h.i.Fa(a);c=this.ul.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.Ha()};
function Hd(a){a.Ji.setAttribute("fill",a.Te);a.dk.setAttribute("stroke",a.Te);a.ck.setAttribute("fill",a.Te);a.Bh.setAttribute("stroke",a.Te);if(Gd(a)){var c=a.Te+";transparent;transparent;";a.Ji.firstChild.setAttribute("values",c);a.ck.firstChild.setAttribute("values",c);a.Bh.firstChild.setAttribute("values",c)}}b.F=function(){this.L&&h.g.o.removeNode(this.L)};h.j.u={NONE:0,Xd:1,vx:2,zx:4,Qs:8,Vw:16,Dx:32,mx:64,$f:128,Ax:256,qy:512,LC:1024,Hs:2048,As:4096,iE:8192,bs:16384,ws:32768,vs:65536,Ns:131072,Ms:262144,Hx:524288,Os:1048576,Xs:2097152,Wr:4194304,Bx:8388608};h.j.u.gK=h.j.u.ws|h.j.u.vs;h.j.u.lL=h.j.u.Ns|h.j.u.Ms;h.j.u.Av=16777216;h.j.u.vb=function(){h.j.u.hasOwnProperty(void 0)||(h.j.u[void 0]=h.j.u.Av,h.j.u.Av<<=1);return h.j.u[void 0]};h.j.u.yh=function(a){return a.type&h.j.u.Xd};h.j.u.Yj=function(a){return a.type&h.j.u.vx};
h.j.u.Kl=function(a){return a.type&h.j.u.zx};h.j.u.ef=function(a){return a.type&h.j.u.Qs};h.j.u.VL=function(a){return a.type&h.j.u.Dx};h.j.u.Ci=function(a){return a.type&h.j.u.$f};h.j.u.Ln=function(a){return a.type&h.j.u.mx};h.j.u.Bi=function(a){return a.type&h.j.u.Ax};h.j.u.$j=function(a){return a.type&h.j.u.qy};h.j.u.Nl=function(a){return a.type&h.j.u.Hs};h.j.u.Fi=function(a){return a.type&h.j.u.As};h.j.u.nH=function(a){return a.type&(h.j.u.Hs|h.j.u.As)};h.j.u.Ei=function(a){return a.type&h.j.u.vs};
h.j.u.IA=function(a){return a.type&h.j.u.Ms};h.j.u.Nn=function(a){return a.type&h.j.u.ws};h.j.u.WL=function(a){return a.type&h.j.u.Ns};h.j.u.UL=function(a){return a.type&h.j.u.bs};h.j.u.GA=function(a){return a.type&h.j.u.Hx};h.j.u.YL=function(a){return a.type&h.j.u.Os};h.j.u.TL=function(a){return a.type&h.j.u.Vw};h.j.u.Mq=function(a){return a.type&h.j.u.Xs};h.j.u.Fq=function(a){return a.type&h.j.u.Wr};h.j.u.oH=function(a){return a.type&(h.j.u.Xs|h.j.u.Wr)};h.j.u.jH=function(a){return a.type&h.j.u.Bx};h.j.$h=function(a){this.height=this.width=0;this.type=h.j.u.NONE;this.kl=this.Ra=0;this.v=a;this.hf=this.v.zm};h.j.va=function(a,c){h.j.va.A.constructor.call(this,a);this.Hd=c;this.shape=Rb(this.v,c);this.Xj=!!this.shape.isDynamic;this.type|=h.j.u.LC};h.g.object.W(h.j.va,h.j.$h);h.j.Fs=function(a,c){h.j.Fs.A.constructor.call(this,a,c);this.type|=h.j.u.iE;this.height=this.Xj?0:this.shape.height;this.mf=this.width=this.Xj?0:this.shape.width;this.ye=this.v.bl;this.Zm=0};h.g.object.W(h.j.Fs,h.j.va);
h.j.Js=function(a,c){h.j.Js.A.constructor.call(this,a,c);this.type|=h.j.u.Hs;this.height=this.shape.height;this.width=this.shape.width};h.g.object.W(h.j.Js,h.j.va);h.j.Bs=function(a,c){h.j.Bs.A.constructor.call(this,a,c);this.type|=h.j.u.As;this.height=this.shape.height;this.width=this.shape.width};h.g.object.W(h.j.Bs,h.j.va);h.j.sm=function(a,c){h.j.sm.A.constructor.call(this,a,c.connection);this.type|=h.j.u.$f;this.input=c;this.align=c.align;(this.li=c.connection&&c.connection.la()?c.connection.la():null)?(a=G(this.li),this.Ym=a.width,this.cq=a.height):this.cq=this.Ym=0;this.ye=this.Zm=0};h.g.object.W(h.j.sm,h.j.va);
h.j.Yh=function(a,c){h.j.Yh.A.constructor.call(this,a,c);this.type|=h.j.u.Ax;this.li?(this.width=this.Ym,this.height=this.cq):(this.height=this.v.$C,this.width=this.v.aD);this.ml=this.Xj?this.shape.height(this.height):this.shape.height;this.pg=this.Xj?this.shape.width(this.height):this.shape.width;this.li||(this.width+=this.pg*(this.Xj?2:1));this.ye=this.Xj?this.shape.ye(this.ml):this.v.bl;this.Zm=this.Xj?this.shape.Zm(this.pg):0};h.g.object.W(h.j.Yh,h.j.sm);
h.j.bi=function(a,c){h.j.bi.A.constructor.call(this,a,c);this.type|=h.j.u.qy;this.height=this.li?this.cq+this.v.xE:this.v.bD;this.width=this.v.yE+this.shape.width};h.g.object.W(h.j.bi,h.j.sm);h.j.rp=function(a,c){h.j.rp.A.constructor.call(this,a,c);this.type|=h.j.u.mx;this.height=this.li?this.cq-this.v.bl-this.v.Ne:this.shape.height;this.width=this.shape.width+this.v.cD;this.ye=this.v.bl;this.ml=this.shape.height;this.pg=this.shape.width};h.g.object.W(h.j.rp,h.j.sm);h.j.Zd=function(a,c){h.j.Zd.A.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.j.u.zx;a=new h.g.eg(h.Zd.prototype.Kp,h.Zd.prototype.Kp-2);this.height=a.height;this.width=a.width};h.g.object.W(h.j.Zd,h.j.$h);h.j.ts=function(a){h.j.ts.A.constructor.call(this,a);this.type|=h.j.u.Hx;this.height=this.v.Qk.height;this.width=this.v.Qk.width};h.g.object.W(h.j.ts,h.j.$h);
h.j.te=function(a,c){h.j.te.A.constructor.call(this,a);this.Nz=c;this.Nd=c.qp;this.kG=!1;this.type|=h.j.u.Xd;a=this.Nz.ph();this.height=a.height;this.width=a.width};h.g.object.W(h.j.te,h.j.$h);h.j.ps=function(a){h.j.ps.A.constructor.call(this,a);this.type|=h.j.u.vx;this.height=this.v.Zk.height;this.width=this.v.Zk.width;this.fl=this.height};h.g.object.W(h.j.ps,h.j.$h);
h.j.al=function(a,c){h.j.al.A.constructor.call(this,a);this.type=(c&&"left"!=c?h.j.u.Ns:h.j.u.ws)|h.j.u.bs;this.width=this.height=this.v.ag};h.g.object.W(h.j.al,h.j.$h);h.j.Jp=function(a,c){h.j.Jp.A.constructor.call(this,a);this.type=(c&&"left"!=c?h.j.u.Ms:h.j.u.vs)|h.j.u.bs;this.width=this.v.xb;this.height=this.v.xb/2};h.g.object.W(h.j.Jp,h.j.$h);h.j.Sg=function(a,c){h.j.Sg.A.constructor.call(this,a);this.type=this.type|h.j.u.Qs|h.j.u.Dx;this.width=c;this.height=this.v.uE};h.g.object.W(h.j.Sg,h.j.$h);h.j.rj=function(a){this.type=h.j.u.Os;this.elements=[];this.Ra=this.Gc=this.Wf=this.minWidth=this.minHeight=this.width=this.height=0;this.sA=this.El=this.Mu=this.mc=this.wi=!1;this.v=a;this.hf=this.v.zm;this.align=null};h.j.rj.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function Nd(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.j.u.Ci(d))return d;return null}h.j.rj.prototype.Er=function(){return!0};h.j.rj.prototype.pn=function(){return!0};
h.j.vj=function(a){h.j.vj.A.constructor.call(this,a);this.type|=h.j.u.Xs;this.fl=this.bh=0;this.$G=!1;this.connection=null};h.g.object.W(h.j.vj,h.j.rj);h.j.vj.prototype.Nu=function(a){var c=(a.wg?"cap"===a.wg:this.v.Yo)&&!a.K&&!a.Y,d=a.Y&&a.Y.la();return!!a.K||c||(d?t(d)==a:!1)};
h.j.vj.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.j.u.ef(f)||(h.j.u.Yj(f)?d=Math.max(d,f.fl):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.bh=this.fl=d;this.Wf=this.width};h.j.vj.prototype.Er=function(){return!1};h.j.vj.prototype.pn=function(){return!1};h.j.hj=function(a){h.j.hj.A.constructor.call(this,a);this.type|=h.j.u.Wr;this.tA=!1;this.connection=null;this.Qe=this.kn=0};
h.g.object.W(h.j.hj,h.j.rj);h.j.hj.prototype.Nu=function(a){return!!a.K||!!t(a)};h.j.hj.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.j.u.ef(f)||(h.j.u.Fi(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.kn=d;this.Wf=this.width};h.j.hj.prototype.Er=function(){return!1};h.j.hj.prototype.pn=function(){return!1};
h.j.Mp=function(a,c,d){h.j.Mp.A.constructor.call(this,a);this.type=this.type|h.j.u.Qs|h.j.u.Vw;this.width=d;this.height=c;this.Uz=!1;this.Wf=0;this.elements=[new h.j.Sg(this.v,d)]};h.g.object.W(h.j.Mp,h.j.rj);h.j.Mp.prototype.measure=function(){};h.j.Pk=function(a){h.j.Pk.A.constructor.call(this,a);this.type|=h.j.u.Bx;this.fz=0};h.g.object.W(h.j.Pk,h.j.rj);
h.j.Pk.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.j.u.Ci(d)&&(h.j.u.$j(d)?a+=d.Ym:h.j.u.Ln(d)&&0!=d.Ym&&(a+=d.Ym-d.pg)),h.j.u.ef(d)||(this.height=Math.max(this.height,d.height));this.fz=a;this.Wf=this.width+a};h.j.Pk.prototype.pn=function(){return!this.wi&&!this.mc};h.j.wf=function(a,c){this.N=c;this.wb=a;this.v=this.wb.ca();this.K=c.K?new h.j.Fs(this.v,c.K):null;this.Ll=Lb(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.Di=c.Di();this.H=c.H;this.Zi=this.width=this.im=this.height=0;this.rows=[];this.CA=[];this.xA=[];this.ic=new h.j.vj(this.v);this.Eb=new h.j.hj(this.v);this.Dr=this.mf=0};b=h.j.wf.prototype;
b.measure=function(){var a=!!this.N.Y,c=(this.N.wg?"cap"===this.N.wg:this.v.Yo)&&!this.K&&!a;this.ic.Nu(this.N)?this.ic.elements.push(new h.j.al(this.v)):this.ic.elements.push(new h.j.Jp(this.v));c?(a=new h.j.ps(this.v),this.ic.elements.push(a),this.ic.bh=a.fl):a&&(this.ic.$G=!0,this.ic.connection=new h.j.Js(this.v,this.N.Y),this.ic.elements.push(this.ic.connection));this.N.O.length&&this.N.O[0].type==h.mb&&!this.N.isCollapsed()?this.ic.minHeight=this.v.DE:this.ic.minHeight=this.v.CE;this.ic.elements.push(new h.j.al(this.v,
"right"));this.rows.push(this.ic);a=new h.j.Pk(this.v);this.CA.push(a);var d=Sb(this.N);if(d.length){c=0;for(var e;e=d[c];c++){var f=new h.j.Zd(this.v,e);this.isCollapsed&&e.bz?this.xA.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.N.O[c];c++)if(d.isVisible()){!e||d.type!=h.mb&&e.type!=h.mb&&(d.type!=h.cb&&d.type!=h.Rg||this.Ll)||(this.rows.push(a),a=new h.j.Pk(this.v),this.CA.push(a));for(e=0;f=d.Ta[e];e++)a.elements.push(new h.j.te(this.v,f,d));this.Oy(d,a);e=d}this.isCollapsed&&(a.sA=!0,a.elements.push(new h.j.ts(this.v)));
(a.elements.length||a.El)&&this.rows.push(a);this.Tv();this.rows.push(this.Eb);this.Ny();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!=a.length-1&&this.rows.push(Od(this,a[c],a[c+1]));for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.mc&&(a=Math.max(a,f.width-Nd(f).width)),d=Math.max(d,f.Wf);this.Zi=a;this.width=c;for(e=0;f=this.rows[e];e++)f.mc&&(f.Zi=this.Zi);this.im=Math.max(c,d);this.K&&(this.mf=this.K.width,this.width+=this.K.width,this.im+=this.K.width);
this.bt();this.Oz()};b.Tv=function(){this.Eb.tA=!!this.N.T;this.Eb.minHeight=this.N.O.length&&this.N.O[this.N.O.length-1].type==h.mb?this.v.AC:this.v.BC;this.Eb.Nu(this.N)?this.Eb.elements.push(new h.j.al(this.v)):this.Eb.elements.push(new h.j.Jp(this.v));this.Eb.tA&&(this.Eb.connection=new h.j.Bs(this.v,this.N.T),this.Eb.elements.push(this.Eb.connection));this.Eb.elements.push(new h.j.al(this.v,"right"))};
b.Oy=function(a,c){this.Ll&&a.type==h.cb?(c.elements.push(new h.j.Yh(this.v,a)),c.Mu=!0):a.type==h.mb?(c.elements.push(new h.j.bi(this.v,a)),c.mc=!0):a.type==h.cb?(c.elements.push(new h.j.rp(this.v,a)),c.wi=!0):a.type==h.Rg&&(c.minHeight=Math.max(c.minHeight,a.U()&&a.U().Va?this.v.YC:this.v.kx),c.El=!0);null==c.align&&(c.align=a.align)};
b.Ny=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.Er()&&c.elements.push(new h.j.Sg(this.v,this.Kj(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.j.Sg(this.v,this.Kj(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.pn()&&c.elements.push(new h.j.Sg(this.v,this.Kj(d[d.length-1],null)))}}};
b.Kj=function(a,c){if(!a&&c&&h.j.u.$j(c))return this.v.sy;if(a&&h.j.u.Ci(a)&&!c){if(h.j.u.Ln(a))return this.v.ag;if(h.j.u.Bi(a))return this.v.Ed;if(h.j.u.$j(a))return this.v.ag}return a&&h.j.u.Nn(a)&&c&&(h.j.u.Nl(c)||h.j.u.Fi(c))?c.hf:a&&h.j.u.Ei(a)&&c&&(h.j.u.Nl(c)||h.j.u.Fi(c))?c.hf-this.v.xb:this.v.Ne};b.bt=function(){for(var a=0,c;c=this.rows[a];a++)if(c.mc)Pd(this,c);else{var d=this.zn(c)-c.width;0<d&&Qd(c,d);h.j.u.oH(c)&&(c.Wf=c.width)}};b.zn=function(){return this.width-this.mf};
function Qd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.j.u.ef(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.j.u.ef(f)){e=f;break a}e=null}if(a.wi||a.mc)a.Wf+=c;a.align==h.Rr?e.width+=c:a.align==h.Qr?(d.width+=c/2,e.width+=c/2):a.align==h.Gk?d.width+=c:e.width+=c;a.width+=c}
function Pd(a,c){var d=Nd(c),e=c.width-d.width,f=a.Zi;e=f-e;0<e&&Qd(c,e);e=c.width;f=a.zn(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.Wf=Math.max(c.width,a.Zi+c.fz)}function Od(a,c,d){a=new h.j.Mp(a.v,a.iA(c,d),a.width-a.mf);c.mc&&(a.Uz=!0);d.mc&&(a.cM=!0);return a}b.iA=function(){return this.v.Ne};
b.$z=function(a,c){return h.j.u.ef(c)?a.Gc+c.height/2:h.j.u.Fq(a)?(a=a.Gc+a.height-a.kn,h.j.u.Fi(c)?a+c.height/2:a-c.height/2):h.j.u.Mq(a)?h.j.u.Yj(c)?a.bh-c.height/2:a.bh+c.height/2:a.Gc+a.height/2};function Rd(a,c){for(var d=c.Ra,e=0,f;f=c.elements[e];e++)h.j.u.ef(f)&&(f.height=c.height),f.Ra=d,f.kl=a.$z(c,f),d+=f.width}
b.Oz=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Gc=c,e.Ra=this.mf,c+=e.height,a=Math.max(a,e.Wf),Rd(this,e);this.K&&this.N.T&&this.N.T.isConnected()&&(a=Math.max(a,G(this.N.T.la()).width));this.im=a+this.mf;this.height=c;this.Dr=this.ic.bh;this.Eb.Qe=c-this.Eb.kn};h.j.Bd=function(a,c){this.N=a;this.sa=c;a.Ua();this.Eq=this.Xa="";this.v=c.wb.ca()};b=h.j.Bd.prototype;b.draw=function(){Sd(this);Td(this);Ud(this);this.N.Ab.iw(this.Xa+"\n"+this.Eq);this.sa.H&&this.N.Ab.qu();h.j.To&&this.N.Zv.aG(this.N,this.sa);Vd(this)};function Vd(a){a.N.height=a.sa.height;a.N.width=a.sa.im}function Sd(a){for(var c=0,d;d=a.sa.xA[c];c++)d.icon.me.setAttribute("display","none")}
function Td(a){a.gu();for(var c=1;c<a.sa.rows.length-1;c++){var d=a.sa.rows[c];d.sA?a.nn(d):d.mc?a.fu(d):d.wi?a.iu(d):a.Lz(d)}a.au();a.du()}
b.gu=function(){var a=this.sa.ic,c=a.elements,d=this.sa.ic;if(d.connection){var e=d.Ra+d.hf;Uc(d.connection.Hd,this.sa.H?-e:e,0)}this.Xa+=h.g.B.moveBy(a.Ra,this.sa.Dr);for(d=0;e=c[d];d++)h.j.u.Ei(e)?this.Xa+=this.v.Em.zw:h.j.u.IA(e)?this.Xa+=this.v.Em.QI:h.j.u.Nl(e)?this.Xa+=e.shape.Qi:h.j.u.Yj(e)?this.Xa+=this.v.Zk.path:h.j.u.ef(e)&&(this.Xa+=h.g.B.ea("h",e.width));this.Xa+=h.g.B.ea("v",a.height)};b.nn=function(a){this.Xa+=this.v.Qk.path+h.g.B.ea("v",a.height-this.v.Qk.height)};
b.iu=function(a){var c=Nd(a);this.sB(a);var d="function"==typeof c.shape.jf?c.shape.jf(c.height):c.shape.jf;this.Xa+=h.g.B.ea("H",c.Ra+c.width)+d+h.g.B.ea("v",a.height-c.ml)};b.fu=function(a){var c=Nd(a);this.Xa+=h.g.B.ea("H",c.Ra+c.hf+c.shape.width)+(c.shape.qB+h.g.B.ea("h",-(c.hf-this.v.Ap.width))+this.v.Ap.Pv)+h.g.B.ea("v",a.height-2*this.v.Ap.height)+this.v.Ap.nr+h.g.B.ea("H",a.Ra+a.width);this.vB(a)};b.Lz=function(a){this.Xa+=h.g.B.ea("V",a.Gc+a.height)};
b.au=function(){var a=this.sa.Eb,c=a.elements;this.uB();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.j.u.Fi(g)?e+=g.shape.qB:h.j.u.Nn(g)?e+=h.g.B.ea("H",a.Ra):h.j.u.Ei(g)?e+=this.v.Em.rt:h.j.u.IA(g)?(e+=this.v.Em.dF,d=this.v.Em.oI):h.j.u.ef(g)&&(e+=h.g.B.ea("h",-1*g.width));this.Xa+=h.g.B.ea("V",a.Qe-d);this.Xa+=e};
b.du=function(){var a=this.sa.K;if(this.sa.K){var c=this.sa.mf+this.sa.K.Zm;Uc(this.N.K,this.sa.H?-c:c,this.sa.K.ye)}a&&(c=a.ye+a.height,a="function"==typeof a.shape.bo?a.shape.bo(a.height):a.shape.bo,this.Xa+=h.g.B.ea("V",c)+a);this.Xa+="z"};
function Ud(a){for(var c=0,d;d=a.sa.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.j.u.Bi(f))a.cu(f);else if(h.j.u.Kl(f)||h.j.u.yh(f)){var g=a;if(h.j.u.yh(f))var k=f.Nz.Na();else h.j.u.Kl(f)&&(k=f.icon.me);var l=f.kl-f.height/2,m=f.Ra,n="";g.sa.H&&(m=-(m+f.width),f.kG&&(m+=f.width,n="scale(-1 1)"));h.j.u.Kl(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),Pa(f.icon)):k.setAttribute("transform","translate("+m+","+l+")"+n);g.sa.Di&&k.setAttribute("display",
"none")}}b.cu=function(a){var c=a.width,d=a.height,e=a.ye,f=a.ml+e;this.Eq+=h.g.B.moveTo(a.Ra+a.pg,a.kl-d/2)+h.g.B.ea("v",e)+a.shape.jf+h.g.B.ea("v",d-f)+h.g.B.ea("h",c-a.pg)+h.g.B.ea("v",-d)+"z";this.tB(a)};b.tB=function(a){var c=a.kl-a.height/2;if(a.Hd){var d=a.Ra+a.pg+a.Zm;this.sa.H&&(d*=-1);Uc(a.Hd,d,c+a.ye)}};b.vB=function(a){var c=Nd(a);if(c.Hd){var d=a.Ra+a.Zi+c.hf;this.sa.H&&(d*=-1);Uc(c.Hd,d,a.Gc)}};b.sB=function(a){var c=Nd(a);if(c.Hd){var d=a.Ra+a.width;this.sa.H&&(d*=-1);Uc(c.Hd,d,a.Gc)}};
b.uB=function(){var a=this.sa.Eb;if(a.connection){var c=a.connection,d=c.Ra;Uc(c.Hd,this.sa.H?-d:d,a.Qe)}};h.j.Vg=function(a,c,d){this.ql=d;this.Jg=a;this.Pb=h.g.o.J("path",{"class":"blocklyPath"},this.Jg);this.style=c;this.nv=this.jn=null};b=h.j.Vg.prototype;b.iw=function(a){this.Pb.setAttribute("d",a)};b.qu=function(){this.Pb.setAttribute("transform","scale(-1 1)")};b.Kh=function(a){a?(this.Jg.appendChild(a),this.jn=a):this.jn=null};b.Lh=function(a){a?(this.jn?this.Jg.insertBefore(a,this.jn):this.Jg.appendChild(a),this.nv=a):this.nv=null};
b.cc=function(a){this.Pb.setAttribute("stroke",this.style.fh);this.Pb.setAttribute("fill",this.style.ki);this.ZB(a.Va);this.Dw(!a.isEnabled()||Bc(a))};b.Nb=function(a){this.style=a};function Qb(a,c,d){d?h.g.o.Wa(a.Jg,c):h.g.o.Bb(a.Jg,c)}b.XB=function(a){a?this.Pb.setAttribute("filter","url(#"+this.ql.mq+")"):this.Pb.setAttribute("filter","none")};b.ZB=function(a){a&&(this.Pb.setAttribute("stroke","none"),this.Pb.setAttribute("fill",this.style.aq))};
b.Dw=function(a){Qb(this,"blocklyDisabled",a);a&&this.Pb.setAttribute("fill","url(#"+this.ql.Dz+")")};h.j.Wg=function(a){this.name=a;this.Mv=this.v=null};b=h.j.Wg.prototype;b.If=function(){return this.name+"-renderer"};b.P=function(a,c){this.v=this.gv();c&&(this.Mv=c,h.g.object.ff(this.v,c));this.v.zo(a);this.v.P()};b.Ea=function(a,c){this.v.Ea(a,this.name+"-"+c.name,"."+this.If()+"."+c.If())};b.Xv=function(a,c){var d=this.ca();d.F();this.v=this.gv();this.Mv&&h.g.object.ff(this.v,this.Mv);this.v.lo=d.lo;this.v.zo(c);this.v.P();this.Ea(a,c)};b.F=function(){this.v&&this.v.F()};b.gv=function(){return new h.j.Qg};
b.RA=function(a){return new h.j.wf(this,a)};b.PA=function(a,c){return new h.j.Bd(a,c)};b.QA=function(a,c){return new h.j.Vg(a,c,this.v)};b.ca=function(){return this.v};b.Ba=function(a){if(h.j.To&&!a.Zv){if(!h.j.lx)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.j.lx(this.ca());a.Zv=c}c=this.RA(a);c.measure();this.PA(a,c).draw()};h.ka={};h.ka.Qg=function(){h.ka.Qg.A.constructor.call(this);this.os=!1;this.Tc=1;this.WD=30};h.g.object.W(h.ka.Qg,h.j.Qg);h.ka.Qg.prototype.xu=function(a){return h.ka.Qg.A.xu.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.zp+";","stroke: none","}"])};h.ka.yx=function(a){this.sa=a;this.Hn=this.pa="";this.Wc=this.sa.H;a=a.wb;this.v=a.ca();this.Ce=a.Ce;this.le=this.Ce.Tk;this.Lv=this.Ce.jE;this.Il=this.Ce.yD;this.jo=this.Ce.Is;this.NH=this.Ce.Sk;this.FI=this.Ce.Zk;this.KA=this.Ce.Qk};h.ka.yx.prototype.nn=function(a){this.sa.H&&(this.pa+=this.KA.Qi+h.g.B.ea("v",a.height-this.KA.height-this.le))};
function Wd(a,c){var d=c.Ra+c.width-a.le;c.Uz&&(a.pa+=h.g.B.ea("H",d));a.Wc&&(a.pa+=h.g.B.ea("H",d),c.height>a.le&&(a.pa+=h.g.B.ea("V",c.Gc+c.height-a.le)))};h.ka.Yh=function(a,c){h.ka.Yh.A.constructor.call(this,a,c);this.li&&(this.width+=this.v.Tc,this.height+=this.v.Tc)};h.g.object.W(h.ka.Yh,h.j.Yh);h.ka.bi=function(a,c){h.ka.bi.A.constructor.call(this,a,c);this.li&&(this.height+=this.v.Tc)};h.g.object.W(h.ka.bi,h.j.bi);h.ka.wf=function(a,c){h.ka.wf.A.constructor.call(this,a,c)};h.g.object.W(h.ka.wf,h.j.wf);b=h.ka.wf.prototype;b.Tv=function(){h.ka.wf.A.Tv.call(this);this.N.O.length&&this.N.O[this.N.O.length-1].type==h.mb||(this.Eb.minHeight=this.v.Ne-this.v.Tc)};
b.Oy=function(a,c){this.Ll&&a.type==h.cb?(c.elements.push(new h.ka.Yh(this.v,a)),c.Mu=!0):a.type==h.mb?(c.elements.push(new h.ka.bi(this.v,a)),c.mc=!0):a.type==h.cb?(c.elements.push(new h.j.rp(this.v,a)),c.wi=!0):a.type==h.Rg&&(c.minHeight=Math.max(c.minHeight,this.v.kx),c.El=!0);this.Ll||null!=c.align||(c.align=a.align)};
b.Ny=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.wi&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.Er()&&d.elements.push(new h.j.Sg(this.v,this.Kj(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.Kj(e[f],e[f+1]);d.elements.push(new h.j.Sg(this.v,g))}d.elements.push(e[e.length-1]);d.pn()&&(g=this.Kj(e[e.length-1],null),a&&d.El&&(g+=this.v.Np),d.elements.push(new h.j.Sg(this.v,g)))}}};
b.Kj=function(a,c){if(!a)return c&&h.j.u.yh(c)&&c.Nd?this.v.Ne:c&&h.j.u.Bi(c)?this.v.Mx:c&&h.j.u.$j(c)?this.v.sy:this.v.Ed;if(!h.j.u.Ci(a)&&(!c||h.j.u.$j(c)))return h.j.u.yh(a)&&a.Nd?this.v.Ne:h.j.u.Kl(a)?2*this.v.Ed+1:h.j.u.Yj(a)?this.v.ag:h.j.u.nH(a)?this.v.Ed:h.j.u.Ei(a)?this.v.aE:h.j.u.GA(a)?this.v.ag:this.v.Ed;if(h.j.u.Ci(a)&&!c){if(h.j.u.Ln(a))return this.v.ag;if(h.j.u.Bi(a))return this.v.Ed;if(h.j.u.$j(a))return this.v.ag}if(!h.j.u.Ci(a)&&c&&h.j.u.Ci(c)){if(h.j.u.yh(a)&&a.Nd){if(h.j.u.Bi(c)||
h.j.u.Ln(c))return this.v.sE}else{if(h.j.u.Bi(c)||h.j.u.Ln(c))return this.v.Mx;if(h.j.u.$j(c))return this.v.Ed}return this.v.Ed-1}if(h.j.u.Kl(a)&&c&&!h.j.u.Ci(c))return this.v.Ed;if(h.j.u.Bi(a)&&c&&h.j.u.yh(c))return c.Nd?this.v.Ne:this.v.Ed;if(h.j.u.Nn(a)&&c){if(h.j.u.Yj(c))return this.v.ag;if(h.j.u.Nl(c))return c.hf;if(h.j.u.Fi(c))return a=(this.H?1:-1)*this.v.Tc/2,c.hf+a}if(h.j.u.Ei(a)&&c){if(h.j.u.Nl(c))return c.hf-this.v.xb;if(h.j.u.Fi(c))return a=(this.H?1:-1)*this.v.Tc/2,c.hf-this.v.xb+a}return h.j.u.yh(a)&&
c&&h.j.u.yh(c)&&a.Nd==c.Nd||c&&h.j.u.GA(c)?this.v.Ed:this.v.Ne};b.iA=function(a,c){return h.j.u.Mq(a)&&h.j.u.Fq(c)?this.v.ZC:h.j.u.Mq(a)||h.j.u.Fq(c)?this.v.ag:a.wi&&c.wi?this.v.Ed:!a.mc&&c.mc?this.v.xC:a.mc&&c.mc||!a.mc&&c.El||a.El?this.v.Ed:this.v.Ne};
b.$z=function(a,c){if(h.j.u.ef(c))return a.Gc+c.height/2;if(h.j.u.Fq(a))return a=a.Gc+a.height-a.kn,h.j.u.Fi(c)?a+c.height/2:a-c.height/2;if(h.j.u.Mq(a))return h.j.u.Yj(c)?a.bh-c.height/2:a.bh+c.height/2;var d=a.Gc;h.j.u.yh(c)||h.j.u.Kl(c)?(d+=c.height/2,(a.Mu||a.mc)&&c.height+this.v.uy<=a.height&&(d+=this.v.uy)):d=h.j.u.Bi(c)?d+c.height/2:d+a.height/2;return d};
b.bt=function(){if(this.Ll){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.yv=a,h.j.u.jH(e)&&(e.mc&&Pd(this,e),c&&c.mc&&e.width<c.width?e.yv=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.mc?a=this.zn(e):h.j.u.ef(e)?e.width=Math.max(a,e.yv):(a=Math.max(a,e.yv)-e.width,0<a&&Qd(e,a),a=e.width)}else h.ka.wf.A.bt.call(this)};b.zn=function(a){return this.Ll&&a.mc?this.Zi+this.v.WD+this.mf:h.ka.wf.A.zn.call(this,a)};
b.Oz=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Gc=c;e.Ra=this.mf;c+=e.height;a=Math.max(a,e.Wf);var f=c-this.ic.fl;e==this.Eb&&f<this.v.vm&&(f=this.v.vm-f,this.Eb.height+=f,c+=f);Rd(this,e)}this.K&&this.N.T&&this.N.T.isConnected()&&(a=Math.max(a,G(this.N.T.la()).width-this.v.Tc));this.Eb.Qe=c-this.Eb.kn;this.im=a+this.mf+this.v.Tc;this.width+=this.v.Tc;this.height=c+this.v.Tc;this.Dr=this.ic.bh};h.ka.Bd=function(a,c){h.ka.Bd.A.constructor.call(this,a,c);this.xg=new h.ka.yx(c)};h.g.object.W(h.ka.Bd,h.j.Bd);b=h.ka.Bd.prototype;b.draw=function(){Sd(this);Td(this);Ud(this);var a=this.N.Ab;a.iw(this.Xa+"\n"+this.Eq);var c=this.xg;a.wk.setAttribute("d",c.pa+"\n"+c.Hn);this.sa.H&&a.qu();h.j.To&&this.N.Zv.aG(this.N,this.sa);Vd(this)};
b.gu=function(){var a=this.xg,c=this.sa.ic;a.pa+=h.g.B.moveBy(c.Ra,a.sa.Dr);for(var d=0,e;e=c.elements[d];d++)h.j.u.Nn(e)?a.pa+=a.Ce.py:h.j.u.Ei(e)?a.pa+=a.Lv.zw(a.Wc):h.j.u.Nl(e)?a.pa+=a.NH.Qi:h.j.u.Yj(e)?a.pa+=a.FI.path(a.Wc):h.j.u.ef(e)&&0!=e.width&&(a.pa+=h.g.B.ea("H",e.Ra+e.width-a.le));a.pa+=h.g.B.ea("H",c.Ra+c.width-a.le);Wd(this.xg,this.sa.ic);h.ka.Bd.A.gu.call(this)};b.nn=function(a){this.xg.nn(a);h.ka.Bd.A.nn.call(this,a)};
b.iu=function(a){var c=this.xg,d=Nd(a);if(c.Wc){var e=a.height-d.ml;c.pa+=h.g.B.moveTo(d.Ra+d.width-c.le,a.Gc)+c.jo.jf(c.Wc)+h.g.B.ea("v",e)}else c.pa+=h.g.B.moveTo(d.Ra+d.width,a.Gc)+c.jo.jf(c.Wc);h.ka.Bd.A.iu.call(this,a)};
b.fu=function(a){var c=this.xg,d=Nd(a);if(c.Wc){var e=a.height-2*c.Il.height;c.pa+=h.g.B.moveTo(d.Ra,a.Gc)+c.Il.Pv(c.Wc)+h.g.B.ea("v",e)+c.Il.nr(c.Wc)+h.g.B.lineTo(a.width-d.Ra-c.Il.width,0)}else c.pa+=h.g.B.moveTo(d.Ra,a.Gc+a.height)+c.Il.nr(c.Wc)+h.g.B.lineTo(a.width-d.Ra-c.Il.width,0);h.ka.Bd.A.fu.call(this,a)};b.Lz=function(a){Wd(this.xg,a);this.Xa+=h.g.B.ea("H",a.Ra+a.width)+h.g.B.ea("V",a.Gc+a.height)};
b.au=function(){var a=this.xg,c=this.sa.Eb;if(a.Wc)a.pa+=h.g.B.ea("V",c.Qe-a.le);else{var d=a.sa.Eb.elements[0];h.j.u.Nn(d)?a.pa+=h.g.B.moveTo(c.Ra+a.le,c.Qe-a.le):h.j.u.Ei(d)&&(a.pa+=h.g.B.moveTo(c.Ra,c.Qe),a.pa+=a.Lv.rt())}h.ka.Bd.A.au.call(this)};
b.du=function(){var a=this.xg,c=a.sa.K;c&&(c=c.ye+c.height,a.Wc?a.pa+=h.g.B.moveTo(a.sa.mf,c):(a.pa+=h.g.B.moveTo(a.sa.mf+a.le,a.sa.Eb.Qe-a.le),a.pa+=h.g.B.ea("V",c)),a.pa+=a.jo.bo(a.Wc));a.Wc||(c=a.sa.ic,a.pa=h.j.u.Ei(c.elements[0])?a.pa+h.g.B.ea("V",a.Lv.height):a.pa+h.g.B.ea("V",c.bh+a.le));h.ka.Bd.A.du.call(this)};
b.cu=function(a){var c=this.xg,d=c.le,e=a.Ra+a.pg,f=a.kl-a.height/2,g=a.width-a.pg,k=f+d;if(c.Wc){f=a.ye-d;var l=a.height-(a.ye+a.ml)+d;c.Hn+=h.g.B.moveTo(e-d,k)+h.g.B.ea("v",f)+c.jo.jf(c.Wc)+h.g.B.ea("v",l)+h.g.B.ea("h",g)}else c.Hn+=h.g.B.moveTo(a.Ra+a.width+d,k)+h.g.B.ea("v",a.height)+h.g.B.ea("h",-g)+h.g.B.moveTo(e,f+a.ye)+c.jo.jf(c.Wc);h.ka.Bd.A.cu.call(this,a)};b.tB=function(a){var c=a.kl-a.height/2;if(a.Hd){var d=a.Ra+a.pg+this.v.Tc;this.sa.H&&(d*=-1);Uc(a.Hd,d,c+a.ye+this.v.Tc)}};
b.vB=function(a){var c=Nd(a);if(c.Hd){var d=a.Ra+a.Zi+c.hf;d=this.sa.H?-1*d:d+this.v.Tc;Uc(c.Hd,d,a.Gc+this.v.Tc)}};b.sB=function(a){var c=Nd(a);if(c.Hd){var d=a.Ra+a.width+this.v.Tc;this.sa.H&&(d*=-1);Uc(c.Hd,d,a.Gc)}};b.uB=function(){var a=this.sa.Eb;if(a.connection){var c=a.connection,d=c.Ra;Uc(c.Hd,(this.sa.H?-d:d)+this.v.Tc/2,a.Qe+this.v.Tc)}};h.ka.xx=function(a){this.ol=a;this.Tk=.5;this.py=h.g.B.moveBy(this.Tk,this.Tk)};b=h.ka.xx.prototype;b.P=function(){this.yD=Xd(this);this.jE=Yd(this);this.Is=this.jv();this.Sk=this.iv();this.Qk=this.hv();this.Zk=this.kv()};
function Xd(a){var c=a.ol.xb;a=a.Tk;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.B.moveBy(d,d)+h.g.B.arc("a","0 0,0",c,h.g.B.Qa(-d-a,c-d)),f=h.g.B.arc("a","0 0,0",c+a,h.g.B.Qa(c+a,c+a)),g=h.g.B.moveBy(d,-d)+h.g.B.arc("a","0 0,0",c+a,h.g.B.Qa(c-d,d+a));return{width:c+a,height:c,Pv:function(k){return k?e:""},nr:function(k){return k?f:g}}}
function Yd(a){var c=a.ol.xb;a=a.Tk;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.B.moveBy(d,d)+h.g.B.arc("a","0 0,1",c-a,h.g.B.Qa(c-d,-d+a)),f=h.g.B.moveBy(a,c)+h.g.B.arc("a","0 0,1",c-a,h.g.B.Qa(c,-c+a)),g=-d,k=h.g.B.moveBy(d,g)+h.g.B.arc("a","0 0,1",c-a,h.g.B.Qa(-d+a,-g-c));return{height:c,zw:function(l){return l?e:f},rt:function(){return k}}}
b.jv=function(){var a=this.ol.Np,c=this.ol.Jm,d=h.g.B.moveBy(-2,-c+3.4)+h.g.B.lineTo(-.45*a,-2.1),e=h.g.B.ea("v",2.5)+h.g.B.moveBy(.97*-a,2.5)+h.g.B.curve("q",[h.g.B.Qa(.05*-a,10),h.g.B.Qa(.3*a,9.5)])+h.g.B.moveBy(.67*a,-1.9)+h.g.B.ea("v",2.5),f=h.g.B.ea("v",-1.5)+h.g.B.moveBy(-.92*a,-.5)+h.g.B.curve("q",[h.g.B.Qa(-.19*a,-5.5),h.g.B.Qa(0,-11)])+h.g.B.moveBy(.92*a,1),g=h.g.B.moveBy(-5,c-.7)+h.g.B.lineTo(.46*a,-2.1);return{width:a,height:c,bo:function(k){return k?d:f},jf:function(k){return k?e:g}}};
b.iv=function(){return{Qi:h.g.B.ea("h",this.Tk)+this.ol.Sk.Qi}};b.hv=function(){return{Qi:h.g.B.lineTo(5.1,2.6)+h.g.B.moveBy(-10.2,6.8)+h.g.B.lineTo(5.1,2.6),height:12,width:10.2}};b.kv=function(){var a=this.ol.Zk.height,c=h.g.B.moveBy(25,-8.7)+h.g.B.curve("c",[h.g.B.Qa(29.7,-6.2),h.g.B.Qa(57.2,-.5),h.g.B.Qa(75,8.7)]),d=h.g.B.curve("c",[h.g.B.Qa(17.8,-9.2),h.g.B.Qa(45.3,-14.9),h.g.B.Qa(75,-8.7)])+h.g.B.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.ka.Vg=function(a,c,d){this.ql=d;this.Jg=a;this.Lo=h.g.o.J("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Jg);this.Pb=h.g.o.J("path",{"class":"blocklyPath"},this.Jg);this.wk=h.g.o.J("path",{"class":"blocklyPathLight"},this.Jg);this.Dt="#000000";this.style=c};h.g.object.W(h.ka.Vg,h.j.Vg);b=h.ka.Vg.prototype;b.iw=function(a){this.Pb.setAttribute("d",a);this.Lo.setAttribute("d",a)};
b.qu=function(){this.Pb.setAttribute("transform","scale(-1 1)");this.wk.setAttribute("transform","scale(-1 1)");this.Lo.setAttribute("transform","translate(1,1) scale(-1 1)")};b.cc=function(a){this.wk.style.display="";this.Lo.style.display="";this.wk.setAttribute("stroke",this.style.fh);this.Lo.setAttribute("fill",this.Dt);h.ka.Vg.A.cc.call(this,a);this.Pb.setAttribute("stroke","none")};b.Nb=function(a){this.style=a;this.Dt=h.g.qb.nt("#000",this.style.ki,.2)||this.Dt};
b.XB=function(a){a?(this.Pb.setAttribute("filter","url(#"+this.ql.mq+")"),this.wk.style.display="none"):(this.Pb.setAttribute("filter","none"),this.wk.style.display="inline")};b.ZB=function(a){a&&(this.wk.style.display="none",this.Lo.setAttribute("fill",this.style.aq),this.Pb.setAttribute("stroke","none"),this.Pb.setAttribute("fill",this.style.aq))};b.Dw=function(a){h.ka.Vg.A.Dw.call(this,a);a&&this.Pb.setAttribute("stroke","none")};h.ka.Wg=function(a){h.ka.Wg.A.constructor.call(this,a);this.Ce=null};h.g.object.W(h.ka.Wg,h.j.Wg);b=h.ka.Wg.prototype;b.P=function(a,c){h.ka.Wg.A.P.call(this,a,c);this.Ce=new h.ka.xx(this.ca());this.Ce.P()};b.Xv=function(a,c){h.ka.Wg.A.Xv.call(this,a,c);this.Ce.P()};b.gv=function(){return new h.ka.Qg};b.RA=function(a){return new h.ka.wf(this,a)};b.PA=function(a,c){return new h.ka.Bd(a,c)};b.QA=function(a,c){return new h.ka.Vg(a,c,this.ca())};h.j.register("geras",h.ka.Wg);var Zd={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},$d="ace ar fa he mzn ps ur".split(" "),ae=window.BlocklyGamesLang,be=window.BlocklyGamesLanguages,ce=/\.html$/.test(window.location.pathname),M,de=Number,ee,fe=window.location.search.match(/[?&]level=([^&]+)/);ee=fe?decodeURIComponent(fe[1].replace(/\+/g,"%20")):"NaN";var ge=de(ee);M=isNaN(ge)?1:h.g.oc.Se(1,ge,10);
function he(){document.title=document.getElementById("title").textContent;document.dir=-1!=$d.indexOf(ae)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",ae);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<be.length;d++){var e=be[d];c.push([Zd[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==ae&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;10>=d;d++)a=document.getElementById("level"+d),c=!!ie(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(je,1)}function ie(a){try{var c=window.localStorage["genetics"+a]}catch(d){}return c}function N(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function ke(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function je(){if(!ce){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.h.ADD_COMMENT="Add Comment";h.h.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.h.CHANGE_VALUE_TITLE="Change value:";h.h.CLEAN_UP="Clean up Blocks";h.h.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";h.h.COLLAPSE_ALL="Collapse Blocks";h.h.COLLAPSE_BLOCK="Collapse Block";h.h.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";
h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";h.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";h.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";h.h.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";h.h.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";
h.h.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";h.h.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";h.h.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";h.h.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";h.h.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";
h.h.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";h.h.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";h.h.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";h.h.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";h.h.CONTROLS_IF_MSG_ELSE="else";h.h.CONTROLS_IF_MSG_ELSEIF="else if";h.h.CONTROLS_IF_MSG_IF="if";h.h.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";
h.h.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";h.h.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";h.h.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
h.h.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";h.h.CONTROLS_REPEAT_INPUT_DO="do";h.h.CONTROLS_REPEAT_TITLE="repeat %1 times";h.h.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";h.h.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";h.h.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";h.h.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";h.h.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";
h.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";h.h.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.h.DELETE_BLOCK="Delete Block";h.h.DELETE_VARIABLE="Delete the '%1' variable";h.h.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.h.DELETE_X_BLOCKS="Delete %1 Blocks";h.h.DISABLE_BLOCK="Disable Block";h.h.DUPLICATE_BLOCK="Duplicate";h.h.DUPLICATE_COMMENT="Duplicate Comment";h.h.ENABLE_BLOCK="Enable Block";h.h.EXPAND_ALL="Expand Blocks";
h.h.EXPAND_BLOCK="Expand Block";h.h.EXTERNAL_INPUTS="External Inputs";h.h.HELP="Help";h.h.INLINE_INPUTS="Inline Inputs";h.h.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";h.h.LISTS_CREATE_EMPTY_TITLE="create empty list";h.h.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";h.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";h.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";
h.h.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";h.h.LISTS_CREATE_WITH_INPUT_WITH="create list with";h.h.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";h.h.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";h.h.LISTS_GET_INDEX_FIRST="first";h.h.LISTS_GET_INDEX_FROM_END="# from end";h.h.LISTS_GET_INDEX_FROM_START="#";h.h.LISTS_GET_INDEX_GET="get";h.h.LISTS_GET_INDEX_GET_REMOVE="get and remove";h.h.LISTS_GET_INDEX_LAST="last";
h.h.LISTS_GET_INDEX_RANDOM="random";h.h.LISTS_GET_INDEX_REMOVE="remove";h.h.LISTS_GET_INDEX_TAIL="";h.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";
h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";
h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";h.h.LISTS_GET_SUBLIST_END_FROM_END="to # from end";h.h.LISTS_GET_SUBLIST_END_FROM_START="to #";h.h.LISTS_GET_SUBLIST_END_LAST="to last";h.h.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";h.h.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";h.h.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";
h.h.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";h.h.LISTS_GET_SUBLIST_TAIL="";h.h.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";h.h.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";h.h.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";h.h.LISTS_INDEX_OF_FIRST="find first occurrence of item";h.h.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";h.h.LISTS_INDEX_OF_LAST="find last occurrence of item";
h.h.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";h.h.LISTS_INLIST="in list";h.h.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";h.h.LISTS_ISEMPTY_TITLE="%1 is empty";h.h.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";h.h.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";h.h.LISTS_LENGTH_TITLE="length of %1";h.h.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";
h.h.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";h.h.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";h.h.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";h.h.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";h.h.LISTS_REVERSE_MESSAGE0="reverse %1";h.h.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";h.h.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";
h.h.LISTS_SET_INDEX_INPUT_TO="as";h.h.LISTS_SET_INDEX_INSERT="insert at";h.h.LISTS_SET_INDEX_SET="set";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";
h.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";h.h.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";h.h.LISTS_SORT_ORDER_ASCENDING="ascending";h.h.LISTS_SORT_ORDER_DESCENDING="descending";h.h.LISTS_SORT_TITLE="sort %1 %2 %3";h.h.LISTS_SORT_TOOLTIP="Sort a copy of a list.";
h.h.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";h.h.LISTS_SORT_TYPE_NUMERIC="numeric";h.h.LISTS_SORT_TYPE_TEXT="alphabetic";h.h.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";h.h.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";h.h.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";h.h.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";h.h.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";
h.h.LISTS_SPLIT_WITH_DELIMITER="with delimiter";h.h.LOGIC_BOOLEAN_FALSE="false";h.h.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";h.h.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";h.h.LOGIC_BOOLEAN_TRUE="true";h.h.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";h.h.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";h.h.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";
h.h.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";h.h.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";h.h.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";h.h.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";h.h.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";
h.h.LOGIC_NEGATE_TITLE="not %1";h.h.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";h.h.LOGIC_NULL="null";h.h.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";h.h.LOGIC_NULL_TOOLTIP="Returns null.";h.h.LOGIC_OPERATION_AND="and";h.h.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";h.h.LOGIC_OPERATION_OR="or";h.h.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";
h.h.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";h.h.LOGIC_TERNARY_CONDITION="test";h.h.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";h.h.LOGIC_TERNARY_IF_FALSE="if false";h.h.LOGIC_TERNARY_IF_TRUE="if true";h.h.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";h.h.MATH_ADDITION_SYMBOL="+";h.h.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";
h.h.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";h.h.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";h.h.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";
h.h.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";h.h.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";h.h.MATH_CHANGE_TITLE="change %1 by %2";h.h.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";h.h.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";h.h.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
h.h.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";h.h.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";h.h.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";h.h.MATH_DIVISION_SYMBOL="\u00f7";h.h.MATH_IS_DIVISIBLE_BY="is divisible by";h.h.MATH_IS_EVEN="is even";h.h.MATH_IS_NEGATIVE="is negative";h.h.MATH_IS_ODD="is odd";h.h.MATH_IS_POSITIVE="is positive";h.h.MATH_IS_PRIME="is prime";h.h.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";
h.h.MATH_IS_WHOLE="is whole";h.h.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";h.h.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";h.h.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";h.h.MATH_MULTIPLICATION_SYMBOL="\u00d7";h.h.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";h.h.MATH_NUMBER_TOOLTIP="A number.";h.h.MATH_ONLIST_HELPURL="";h.h.MATH_ONLIST_OPERATOR_AVERAGE="average of list";h.h.MATH_ONLIST_OPERATOR_MAX="max of list";
h.h.MATH_ONLIST_OPERATOR_MEDIAN="median of list";h.h.MATH_ONLIST_OPERATOR_MIN="min of list";h.h.MATH_ONLIST_OPERATOR_MODE="modes of list";h.h.MATH_ONLIST_OPERATOR_RANDOM="random item of list";h.h.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";h.h.MATH_ONLIST_OPERATOR_SUM="sum of list";h.h.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";h.h.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";
h.h.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";h.h.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";h.h.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";h.h.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";h.h.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";h.h.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";h.h.MATH_POWER_SYMBOL="^";
h.h.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";h.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";h.h.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";h.h.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";h.h.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";h.h.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";
h.h.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";h.h.MATH_ROUND_OPERATOR_ROUND="round";h.h.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";h.h.MATH_ROUND_OPERATOR_ROUNDUP="round up";h.h.MATH_ROUND_TOOLTIP="Round a number up or down.";h.h.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";h.h.MATH_SINGLE_OP_ABSOLUTE="absolute";h.h.MATH_SINGLE_OP_ROOT="square root";h.h.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";h.h.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";
h.h.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";h.h.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";h.h.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";h.h.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";h.h.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";h.h.MATH_SUBTRACTION_SYMBOL="-";h.h.MATH_TRIG_ACOS="acos";h.h.MATH_TRIG_ASIN="asin";h.h.MATH_TRIG_ATAN="atan";h.h.MATH_TRIG_COS="cos";h.h.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
h.h.MATH_TRIG_SIN="sin";h.h.MATH_TRIG_TAN="tan";h.h.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";h.h.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";h.h.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";h.h.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";h.h.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";h.h.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";h.h.NEW_VARIABLE="Create variable...";
h.h.NEW_VARIABLE_TITLE="New variable name:";h.h.ORDINAL_NUMBER_SUFFIX="";h.h.PROCEDURES_ALLOW_STATEMENTS="allow statements";h.h.PROCEDURES_BEFORE_PARAMS="with:";h.h.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";h.h.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";h.h.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";h.h.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";
h.h.PROCEDURES_CALL_BEFORE_PARAMS="with:";h.h.PROCEDURES_CREATE_DO="Create '%1'";h.h.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";h.h.PROCEDURES_DEFNORETURN_DO="";h.h.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";h.h.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.h.PROCEDURES_DEFNORETURN_TITLE="to";h.h.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";h.h.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";
h.h.PROCEDURES_DEFRETURN_RETURN="return";h.h.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";h.h.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";h.h.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";h.h.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";h.h.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";h.h.PROCEDURES_MUTATORARG_TITLE="input name:";
h.h.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";h.h.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";h.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";h.h.REDO="Redo";h.h.REMOVE_COMMENT="Remove Comment";h.h.RENAME_VARIABLE="Rename variable...";h.h.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.h.UNDO="Undo";h.h.UNNAMED_KEY="unnamed";h.h.VARIABLES_DEFAULT_NAME="item";h.h.VARIABLES_GET_CREATE_SET="Create 'set %1'";
h.h.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";h.h.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";h.h.VARIABLES_SET="set %1 to %2";h.h.VARIABLES_SET_CREATE_GET="Create 'get %1'";h.h.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";h.h.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";h.h.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";
h.h.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.h.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.h.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=h.h.CONTROLS_IF_MSG_ELSEIF;h.h.CONTROLS_IF_ELSE_TITLE_ELSE=h.h.CONTROLS_IF_MSG_ELSE;h.h.CONTROLS_IF_IF_TITLE_IF=h.h.CONTROLS_IF_MSG_IF;h.h.CONTROLS_IF_MSG_THEN=h.h.CONTROLS_REPEAT_INPUT_DO;h.h.LISTS_CREATE_WITH_ITEM_TITLE=h.h.VARIABLES_DEFAULT_NAME;h.h.LISTS_GET_INDEX_HELPURL=h.h.LISTS_INDEX_OF_HELPURL;h.h.LISTS_GET_INDEX_INPUT_IN_LIST=h.h.LISTS_INLIST;
h.h.LISTS_GET_SUBLIST_INPUT_IN_LIST=h.h.LISTS_INLIST;h.h.LISTS_INDEX_OF_INPUT_IN_LIST=h.h.LISTS_INLIST;h.h.LISTS_SET_INDEX_INPUT_IN_LIST=h.h.LISTS_INLIST;h.h.MATH_CHANGE_TITLE_ITEM=h.h.VARIABLES_DEFAULT_NAME;h.h.PROCEDURES_DEFRETURN_COMMENT=h.h.PROCEDURES_DEFNORETURN_COMMENT;h.h.PROCEDURES_DEFRETURN_PROCEDURE=h.h.PROCEDURES_DEFNORETURN_PROCEDURE;h.h.PROCEDURES_DEFRETURN_TITLE=h.h.PROCEDURES_DEFNORETURN_TITLE;h.h.MATH_HUE="230";h.h.LOOPS_HUE="120";h.h.LISTS_HUE="260";h.h.LOGIC_HUE="210";
h.h.VARIABLES_HUE="330";h.h.PROCEDURES_HUE="290";var BlocklyStorage={},le=null,me=null,ne=null;function oe(){var a=le();pe("xml="+encodeURIComponent(a),qe)}var re={};
function pe(a,c){re["/storage"]&&re["/storage"].abort();re["/storage"]=new XMLHttpRequest;re["/storage"].onload=function(){200===this.status?c&&c.call(this):se(N("Games_httpRequestError")+"\nXHR status: "+this.status);re["/storage"]=null};re["/storage"].open("POST","/storage");re["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");re["/storage"].send(a)}
function qe(){window.location.hash=this.responseText.trim();se(N("Games_linkAlert").replace("%1",window.location.href));ne=le()}function te(){var a=this.responseText.trim();a.length?me(a):se(N("Games_hashError").replace("%1",window.location.hash));ne=le()}function se(a){if("object"===typeof O){var c=document.getElementById("linkButton");O.GI(c,a)}else alert(a)};var A=null,ue=null,ve=!1;function we(){he();var a=document.getElementById("linkButton");a&&(ce?a.style.display="none":(le=xe,me=ye,ke(a,oe)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",ze,!0)}function Ae(a){if(!ce&&1<window.location.hash.length)pe("key="+encodeURIComponent(window.location.hash.substring(1)),te);else{var c=null;try{c=window.sessionStorage.OA}catch(e){}c&&delete window.sessionStorage.OA;var d=ie(M);(a=c||d||a)&&ye(a)}}
function ye(a){ue?ue.setValue(a,-1):(a=h.R.bj(a),A.clear(),h.R.oi(a,A),Ga())}function xe(){if(ue)var a=ue.getValue();else{a=h.R.bJ();if(1==A.lc(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}a=h.R.ze(a)}return a}function Be(){return ve?ue.getValue():Ce()}function De(){"object"==typeof BlocklyStorage&&null!==ne&&ne!=xe()&&(window.location.hash="",ne=null)}
function Ee(){var a={rtl:!1,trashcan:!0,zoom:{controls:!0,wheel:!0}},c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;A=h.Sj("blockly",a);D(A,De)}function Fe(){window.location=(ce?"index.html":"./")+"?lang="+ae}
function ze(){window.sessionStorage&&(window.sessionStorage.OA=xe());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Ge(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+ae+"&level="+(M+1):Fe()}function He(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Ie(a){if("click"==a.type&&"touchend"==Je&&Ke+2E3>Date.now()||Je==a.type&&Ke+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Je=a.type;Ke=Date.now();return!1}var Je=null,Ke=0;
function Le(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)};function Me(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/babel.min.js";document.head.appendChild(a)},1)}
function Ne(){var a=window.ace;a.require("ace/ext/language_tools");ue=a=a.edit("editor");a.setTheme("ace/theme/chrome");a.setShowPrintMargin(!1);a.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0});a=a.getSession();a.setMode("ace/mode/javascript");a.setTabSize(2);a.setUseSoftTabs(!0);a.on("change",De);Oe();return a}
function Oe(){var a=ue.getSession().getMode().$highlightRules.$keywordList;a?a.splice(0,Infinity,"arguments","this","NaN","Math","JSON","parseInt","parseFloat","isNaN","isFinite","eval","String","RegExp","Object","Number","Function","Date","Boolean","Array","while","var","let","typeof","try","throw","switch","return","new","instanceof","of","in","if","function","for","finally","else","do","delete","continue","catch","case","break","const","undefined","Infinity","null","false","true"):setTimeout(Oe,
Oe.vz*=2)}Oe.vz=1;var O={Vj:!1,zz:null,hq:null,Br:function(a,c,d,e,f,g){function k(){O.Vj&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);O.Vj&&O.uh(!1);h.Ka()&&h.Bc(!0);O.Vj=!0;O.zz=c;O.hq=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),O.Ot=h.qd(e,"mousedown",null,O.PF));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(O.Qq(c,!1,.2),O.Qq(l,!0,.8),setTimeout(k,175)):k()},Az:0,Bz:0,PF:function(a){O.Rt();if(!h.g.Zj(a)){var c=document.getElementById("dialog");O.Az=c.offsetLeft-a.clientX;O.Bz=c.offsetTop-a.clientY;O.Qt=h.qd(document,"mouseup",null,O.Rt);O.Pt=h.qd(document,"mousemove",null,O.QF);a.stopPropagation()}},QF:function(a){var c=document.getElementById("dialog"),
d=O.Az+a.clientX;a=O.Bz+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Rt:function(){O.Qt&&(h.La(O.Qt),O.Qt=null);O.Pt&&(h.La(O.Pt),O.Pt=null)},uh:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(O.Vj){O.Rt();O.Ot&&(h.La(O.Ot),O.Ot=null);O.Vj=!1;O.hq&&O.hq();O.hq=null;var d=!1===a?
null:O.zz;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(O.Qq(a,!1,.8),O.Qq(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Qq:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=O.pG(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},pG:function(a){var c=h.g.style.Lj(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},GI:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");O.Br(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},O.QB);O.LB()},RE:function(){if(!ie(M))if(O.Vj||A.nc())setTimeout(O.RE,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",O.uh,!0);c.addEventListener("touchend",O.uh,!0);c=document.getElementById("abortOk");c.addEventListener("click",Fe,!0);c.addEventListener("touchend",Fe,
!0);O.Br(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",O.Ly,!0)});document.body.addEventListener("keydown",O.Ly,!0)}},vF:function(){var a=document.getElementById("dialogDone");if(A){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Be();d=He(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?N("Games_linesOfCode1"):N("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>M?N("Games_nextLevel").replace("%1",String(M+1)):N("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",O.uh,!0);c.addEventListener("touchend",O.uh,!0);c=document.getElementById("doneOk");c.addEventListener("click",Ge,!0);c.addEventListener("touchend",
Ge,!0);O.Br(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",O.ez,!0)});document.body.addEventListener("keydown",O.ez,!0);document.getElementById("dialogDoneText").textContent=d},yz:function(a){!O.Vj||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(O.uh(!0),a.stopPropagation(),a.preventDefault())},LB:function(){document.body.addEventListener("keydown",O.yz,!0)},QB:function(){document.body.removeEventListener("keydown",O.yz,!0)},ez:function(a){if(13==
a.keyCode||27==a.keyCode||32==a.keyCode)O.uh(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Ge()},Ly:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)O.uh(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Fe()}};window.BlocklyDialogs=O;O.hideDialog=O.uh;h.Generator=function(a){this.KH=a;this.kD=new RegExp(this.Le,"g")};h.Generator.Fp="generated_function";b=h.Generator.prototype;b.yp=null;b.ae=null;b.Xc=null;b.Dd="  ";b.JC=60;b.Hp=[];
function Ce(){var a=h.m,c=A;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.Ka());var d=[];a.P(c);c=c.lc(!0);for(var e=0,f;f=c[e];e++){var g=Pe(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.K&&(g=a.GB(g),a.ae&&!f.$i&&(g=P(a.ae,f)+g),a.Xc&&!f.$i&&(g+=P(a.Xc,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Qe(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function Pe(a,c){if(!c)return"";if(!c.isEnabled())return Pe(a,t(c));var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.KH+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.K)throw TypeError("Expecting string from statement block: "+c.type);return[a.to(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.ae&&!c.$i&&(d=P(a.ae,c)+d),a.Xc&&!c.$i&&(d+=P(a.Xc,c)),a.to(c,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function Q(a,c,d){var e=h.m;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Ec(a,c);if(!f)return"";c=Pe(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(c);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.Hp.length;g++)if(e.Hp[g][0]==d&&e.Hp[g][1]==c){f=!1;break}f&&(a="("+
a+")");return a}function Re(a,c){var d=h.m;a=Ec(a,c);c=Pe(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=Qe(c,d.Dd));return c}function Se(a,c){var d=h.m;d.yp&&(a=Qe(P(d.yp,c),d.Dd)+a);d.Xc&&!c.$i&&(a=Qe(P(d.Xc,c),d.Dd)+a);d.ae&&!c.$i&&(a+=Qe(P(d.ae,c),d.Dd));return a}function P(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Ks="";function Te(a,c){a.Ks+=c+","}b.Le="{leCUI8hutHZI4480Dc}";
function Ue(a,c){var d=h.m;if(!d.mi[a]){var e=Ed(d.Vd,a,h.Fm);d.tu[a]=e;c=c.join("\n").replace(d.kD,e);for(var f;f!=c;)f=c,c=c.replace(/^(( {2})*) {2}/gm,"$1\x00");c=c.replace(/\0/g,d.Dd);d.mi[a]=c}return d.tu[a]}b.P=function(){};b.to=function(a,c){return c};b.finish=function(a){return a};b.GB=function(a){return a};h.m=new h.Generator("JavaScript");Te(h.m,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.m.pj=0;h.m.WK=1.1;h.m.Kb=1.2;h.m.tb=2;h.m.UK=3;h.m.QK=3;h.m.MK=4.1;h.m.YK=4.2;h.m.Dm=4.3;h.m.Bm=4.4;
h.m.XK=4.5;h.m.ZK=4.6;h.m.RK=4.7;h.m.KK=4.8;h.m.SK=5;h.m.Es=5.1;h.m.Am=5.2;h.m.Cm=5.3;h.m.Vk=6.1;h.m.ai=6.2;h.m.OK=7;h.m.gE=8;h.m.TK=8;h.m.VK=8;h.m.Xx=9;h.m.LK=10;h.m.PK=11;h.m.NK=12;h.m.Cs=13;h.m.Ds=14;h.m.Gp=15;h.m.Ug=16;h.m.$K=17;h.m.Uc=18;h.m.od=99;h.m.Hp=[[h.m.tb,h.m.Kb],[h.m.tb,h.m.tb],[h.m.Kb,h.m.Kb],[h.m.Kb,h.m.tb],[h.m.Bm,h.m.Bm],[h.m.Es,h.m.Es],[h.m.ai,h.m.ai],[h.m.Cs,h.m.Cs],[h.m.Ds,h.m.Ds]];
h.m.P=function(a){h.m.mi=Object.create(null);h.m.tu=Object.create(null);h.m.Vd?h.m.Vd.reset():h.m.Vd=new h.$d(h.m.Ks);h.m.Vd.mw(a.Oa);for(var c=[],d=h.V.UE(a),e=0;e<d.length;e++)c.push(Dd(d[e],h.$d.gs));a=h.V.Py(a);for(e=0;e<a.length;e++)c.push(Dd(a[e].xa(),h.bc));c.length&&(h.m.mi.variables="var "+c.join(", ")+";")};h.m.finish=function(a){var c=[],d;for(d in h.m.mi)c.push(h.m.mi[d]);delete h.m.mi;delete h.m.tu;h.m.Vd.reset();return c.join("\n\n")+"\n\n\n"+a};h.m.GB=function(a){return a+";\n"};
h.m.jI=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.m.$L=function(a){return a.split(/\n/g).map(h.m.jI).join(" + '\\n' +\n")};
h.m.to=function(a,c,d){var e="";if(!a.K||!a.K.ga){var f=a.Ue.text;f&&(f=h.g.gb.eC(f,h.m.JC-3),e+=Qe(f+"\n","// "));for(var g=0;g<a.O.length;g++)if(a.O[g].type==h.cb){var k=a.O[g].connection.la();if(k){f=[];k=p(k,!0);for(var l=0;l<k.length;l++){var m=k[l].Ue.text;m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Qe(f,"// "))}}}a=a.T&&a.T.la();d=d?"":Pe(h.m,a);return e+c+d};
h.m.ug=function(a,c,d,e,f){d=d||0;f=f||h.m.od;a.w.options.Eh&&d--;var g=a.w.options.Eh?"1":"0";a=0<d?Q(a,c,h.m.ai)||g:0>d?Q(a,c,h.m.Vk)||g:e?Q(a,c,h.m.Dm)||g:Q(a,c,f)||g;if(h.Gi(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=h.m.ai}else 0>d&&(a=a+" - "+-d,k=h.m.Vk);e&&(a=d?"-("+a+")":"-"+a,k=h.m.Dm);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.Sa=function(a,c,d){"function"!=typeof a&&h.Sa.aC(a);this.fk=a;this.tw=this.Uv=this.rq=null;a=this.fk;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.oe(g):(null!=g.alt&&(a[f][0].alt=h.g.oe(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.gb.nw(e);g=h.g.gb.sF(e,f);var k=h.g.gb.tF(e,f);!g&&!k||f<=g+k||(g&&(this.Uv=e[0].substring(0,g-1)),k&&(this.tw=e[0].substr(1-k)),this.fk=h.Sa.XE(a,g,k))}}this.pk=this.getOptions(!1)[0];
h.Sa.A.constructor.call(this,this.pk[1],c,d);this.cm=this.Pe=this.wh=this.Fe=this.nk=null};h.g.object.W(h.Sa,h.te);h.Sa.za=function(a){return new h.Sa(a.options,void 0,a)};h.Sa.prototype.Xk=!0;h.Sa.kJ=25;h.Sa.nK=.45;h.Sa.vD=5;h.Sa.wD=2*h.Sa.vD;h.Sa.Tw=h.g.userAgent.lm?"\u25bc":"\u25be";b=h.Sa.prototype;b.ds="default";
b.Hl=function(){this.ow()?mc(this):this.Bt=this.G.Na();nc(this);this.wh=h.g.o.J("image",{},this.Ae);this.ca().fD?(this.cm=h.g.o.J("image",{height:this.ca().om+"px",width:this.ca().om+"px"},this.Ae),this.cm.setAttributeNS(h.g.o.zf,"xlink:href",this.ca().gD)):(this.Pe=h.g.o.J("tspan",{},this.uc),this.Pe.appendChild(document.createTextNode(this.G.H?h.Sa.Tw+" ":" "+h.Sa.Tw)),this.G.H?this.uc.insertBefore(this.Pe,this.Nh):this.uc.appendChild(this.Pe));this.Yb&&h.g.o.Wa(this.Yb,"blocklyDropdownRect")};
b.ow=function(){return!this.ca().ns||this.ca().ns&&!this.G.Va};
b.Mh=function(a){var c=new h.nj;hb(c,this.G.H);c.Fg(h.g.X.cg.JD);var d=this.getOptions(!1);this.nk=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Ep(f);f.Fg(h.g.X.cg.fE);hb(f,this.G.H);f.setValue(g);f.Um=!0;c.Pm(f,c.kb.length,!0);Oc(f,g==this.vc);g==this.vc&&(this.nk=f);Pc(f,this.SG,this)}h.g.X.Ib(c.wa(),h.g.X.State.Pw,this.nk?this.nk.xa():"");this.Fe=c;this.Fe.Jv=a&&"number"===typeof a.clientX?
new h.g.S(a.clientX,a.clientY):null;this.Fe.Ba(h.D.yG());h.g.o.Wa(this.Fe.wa(),"blocklyDropdownMenu");this.ca().eD&&(a=this.G.Va?this.G.getParent().yu():this.G.yu(),c=this.G.Va?this.G.getParent().style.fh:this.G.style.fh,h.D.fd(a,c));h.D.yI(this,this.cG.bind(this));this.Fe.focus();this.nk&&h.g.style.ew(this.nk.wa(),this.Fe.wa());this.cc()};b.cG=function(){this.Fe&&this.Fe.F();this.nk=this.Fe=null;this.cc()};b.SG=function(a){h.D.Fn(this,!0);this.hB(a)};b.hB=function(a){this.setValue(a.getValue())};
h.Sa.XE=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};b=h.Sa.prototype;b.getOptions=function(a){return"function"==typeof this.fk?(this.rq&&a||(this.rq=this.fk.call(this),h.Sa.aC(this.rq)),this.rq):this.fk};
b.Ej=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.G&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.G.type+", Field name: "+this.name+", Value: "+a),null)};b.ni=function(a){h.Sa.A.ni.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.vc&&(this.pk=d)};
b.cc=function(){this.Yb&&(this.Yb.setAttribute("stroke",this.G.style.fh),this.Fe?this.Yb.setAttribute("fill",this.G.style.fh):this.Yb.setAttribute("fill","transparent"));this.G&&this.Pe&&(this.Pe.style.fill=this.G.Va?this.G.style.aq:this.G.style.ki)};
b.Gh=function(){this.Nh.nodeValue="";this.wh.style.display="none";var a=this.pk&&this.pk[0];if(a&&"object"==typeof a){this.wh.style.display="";this.wh.setAttributeNS(h.g.o.zf,"xlink:href",a.src);this.wh.setAttribute("height",a.height);this.wh.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Yb,e=Math.max(d?this.ca().px:0,c+h.Sa.wD);d=d?this.ca().Kk:0;var f=this.cm?Ve(this,a+d,e/2-this.ca().om/2):h.g.o.zu(this.Pe,this.ca().Wh,this.ca().Xh,this.ca().Vh);this.Ud.width=
a+f+2*d;this.Ud.height=e;var g=0;this.G.H?this.wh.setAttribute("x",d+f):(g=a+f,this.uc.setAttribute("text-anchor","end"),this.wh.setAttribute("x",d));this.wh.setAttribute("y",e/2-c/2);qc(this,g+d,a+f)}else this.Nh.nodeValue=this.uq(),h.g.o.Wa(this.uc,"blocklyDropdownText"),this.uc.setAttribute("text-anchor","start"),e=!!this.Yb,c=Math.max(e?this.ca().px:0,this.ca().tp),a=h.g.o.zu(this.uc,this.ca().Wh,this.ca().Xh,this.ca().Vh),e=e?this.ca().Kk:0,d=0,this.cm&&(d=Ve(this,a+e,c/2-this.ca().om/2)),this.Ud.width=
a+d+2*e,this.Ud.height=c,qc(this,e,a);rc(this)};function Ve(a,c,d){if(!a.cm)return 0;var e=a.Yb?a.ca().Kk:0,f=a.ca().hD,g=a.ca().om;a.cm.setAttribute("transform","translate("+(a.G.H?e:c+f)+","+d+")");return g+f}b.Fu=function(){if(!this.pk)return null;var a=this.pk[0];return"object"==typeof a?a.alt:a};
h.Sa.aC=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Sa.prototype.Qd=function(a){if(this.Fe){if(a===h.navigation.Xo)return Kc(this.Fe),!0;if(a===h.navigation.Wo)return Ic(this.Fe),!0}return h.Sa.A.Qd.call(this,a)};h.ud.register("field_dropdown",h.Sa);h.Vb=function(a){h.Vb.A.constructor.call(this,null);this.AB=a};h.g.object.W(h.Vb,h.Zd);b=h.Vb.prototype;b.jm=0;b.Vo=0;
b.bu=function(a){h.g.o.J("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);h.g.o.J("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
h.g.o.J("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};b.Pu=function(a){this.N.Nd()&&h.Zd.prototype.Pu.call(this,a)};
b.Gt=function(){this.Ko=h.g.o.J("svg",{x:h.ra.ld,y:h.ra.ld},null);if(this.AB.length)for(var a=h.g.xml.createElement("xml"),c=0,d;d=this.AB[c];c++){var e=h.g.xml.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;c=new h.Vc({disable:!1,parentWorkspace:this.N.w,media:this.N.w.options.Bg,rtl:this.N.H,horizontalLayout:!1,renderer:this.N.w.options.qo,rendererOverrides:this.N.w.options.so});c.Ja=this.N.H?h.Xg:h.ce;c.yg=a;c.Mc=this.BG.bind(this);this.s=new h.ob(c);this.s.On=!0;
D(this.s,h.i.Cz);a=rd(this.s,"g");c=this.s.Ea("blocklyMutatorBackground");c.insertBefore(a,this.s.jb);this.Ko.appendChild(c);return this.Ko};b.Rh=function(){h.Vb.A.Rh.call(this);this.N.ec||(this.N.Nd()?this.me&&h.g.o.Bb(this.me,"blocklyIconGroupReadonly"):(this.Jb(!1),this.me&&h.g.o.Wa(this.me,"blocklyIconGroupReadonly")))};
function We(a){var c=2*h.ra.ld,d=a.s.jb.getBBox();var e=a.N.H?-d.x:d.width+d.x;d=d.height+3*c;var f=a.s.Lc();f&&(f=f.Bn(),d=Math.max(d,f.ge+20));e+=3*c;if(Math.abs(a.jm-e)>c||Math.abs(a.Vo-d)>c)a.jm=e,a.Vo=d,a.Rb.vo(e+c,d+c),a.Ko.setAttribute("width",a.jm),a.Ko.setAttribute("height",a.Vo);a.N.H&&a.s.jb.setAttribute("transform","translate("+a.jm+",0)");a.s.resize()}b.QH=function(){this.s&&od(this.s)};
b.Jb=function(a){if(a!=this.isVisible())if(h.i.Fa(new h.i.kc(this.N,"mutatorOpen",!a,a)),a){this.Rb=new h.ra(this.N.w,this.Gt(),this.N.Ab.Pb,this.Qj,null,null);Ka(this.Rb,this.N.id);Ma(this.Rb,this.QH.bind(this));var c=this.s.options.yg;a=this.s.Lc();c&&(a.P(this.s),a.show(c.childNodes));this.Ih=this.N.jh(this.s);c=p(this.Ih,!1);for(var d=0,e;e=c[d];d++)e.Ba();this.Ih.Ar(!1);this.Ih.Lt=!1;a?(c=2*a.xb,a=a.sh()+c):a=c=16;this.N.H&&(a=-a);this.Ih.moveBy(a,c);if(this.N.zr){var f=this,g=this.N;g.zr(this.Ih);
this.Cr=function(){g.zr(f.Ih)};D(this.N.w,this.Cr)}We(this);D(this.s,this.$I.bind(this));this.cc()}else this.Ko=null,this.s.F(),this.Ih=this.s=null,this.Rb.F(),this.Rb=null,this.Vo=this.jm=0,this.Cr&&(Ha(this.N.w,this.Cr),this.Cr=null)};
b.$I=function(a){if(a.type!=h.i.Km&&(a.type!=h.i.ij||"disabled"!=a.element)){if(!this.s.nc()){a=this.s.lc(!1);for(var c=0,d;d=a[c];c++){var e=d.Ua(),f=G(d);20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.Ih.w==this.s){h.i.aa(!0);d=this.N;a=(a=d.fb())&&h.R.ze(a);d.gh(this.Ih);d.df();d.Ba();h.Ka().Cc&&h.navigation.EH(d);c=(c=d.fb())&&h.R.ze(c);if(a!=c){h.i.Fa(new h.i.Mg(d,"mutation",null,a,c));var g=h.i.ac();setTimeout(function(){h.i.aa(g);d.Lb();h.i.aa(!1)},h.bp)}this.s.nc()||We(this);h.i.aa(!1)}}};
b.BG=function(){return{Cb:this.Vo,rb:this.jm-this.s.Lc().sh(),Jc:0,xc:this.s.H?0:this.s.Lc().sh()}};b.F=function(){this.N.dd=null;h.Zd.prototype.F.call(this)};h.Vb.Wl=function(a,c,d){if(!a||!a.U().w)return!1;d=y(c,d).connection;var e=a.la();return e&&e!=c||d.ga==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)};h.Vb.Pz=function(a){var c=null;if(a&&a.options){var d=a.options.qc;a.Of?d&&d.options&&(c=d.options.qc):d&&(c=d)}return c};h.M.ev={};h.ma={};h.ma.RD={};h.ma.RD.wp=260;
h.wl([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
h.M.lists_create_with={P:function(){this.Hb=h.h.LISTS_CREATE_WITH_HELPURL;this.Nb("list_blocks");this.Od=3;this.Sc();this.Td(!0,"Array");this.Xi(new h.Vb(["lists_create_with_item"]));this.Ya(h.h.LISTS_CREATE_WITH_TOOLTIP)},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("items",this.Od);return a},Fb:function(a){this.Od=parseInt(a.getAttribute("items"),10);this.Sc()},jh:function(a){var c=a.Li("lists_create_with_container");c.df();for(var d=y(c,"STACK").connection,e=0;e<this.Od;e++){var f=
a.Li("lists_create_with_item");f.df();d.connect(f.Y);d=f.T}return c},gh:function(a){var c=Ec(a,"STACK");for(a=[];c;)a.push(c.Gw),c=c.T&&c.T.la();for(c=0;c<this.Od;c++){var d=y(this,"ADD"+c).connection.ga;d&&-1==a.indexOf(d)&&d.disconnect()}this.Od=a.length;this.Sc();for(c=0;c<this.Od;c++)h.Vb.Wl(a[c],this,"ADD"+c)},zr:function(a){a=Ec(a,"STACK");for(var c=0;a;){var d=y(this,"ADD"+c);a.Gw=d&&d.connection.ga;c++;a=a.T&&a.T.la()}},Sc:function(){this.Od&&y(this,"EMPTY")?this.ib("EMPTY"):this.Od||y(this,
"EMPTY")||I(K(this,"EMPTY"),h.h.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.Od;a++)if(!y(this,"ADD"+a)){var c=yc(J(this,"ADD"+a),h.Gk);0==a&&I(c,h.h.LISTS_CREATE_WITH_INPUT_WITH)}for(;y(this,"ADD"+a);)this.ib("ADD"+a),a++}};h.M.lists_create_with_container={P:function(){this.Nb("list_blocks");I(K(this),h.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);Cc(this,"STACK");this.Ya(h.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
h.M.lists_create_with_item={P:function(){this.Nb("list_blocks");I(K(this),h.h.LISTS_CREATE_WITH_ITEM_TITLE);this.Ie(!0);this.He(!0);this.Ya(h.h.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
h.M.lists_indexOf={P:function(){var a=[[h.h.LISTS_INDEX_OF_FIRST,"FIRST"],[h.h.LISTS_INDEX_OF_LAST,"LAST"]];this.Hb=h.h.LISTS_INDEX_OF_HELPURL;this.Nb("list_blocks");this.Td(!0,"Number");I(J(this,"VALUE").lb("Array"),h.h.LISTS_INDEX_OF_INPUT_IN_LIST);I(J(this,"FIND"),new h.Sa(a),"END");this.Fc(!0);var c=this;this.Ya(function(){return h.h.LISTS_INDEX_OF_TOOLTIP.replace("%1",c.w.options.Eh?"0":"-1")})}};
h.M.lists_getIndex={P:function(){var a=[[h.h.LISTS_GET_INDEX_GET,"GET"],[h.h.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[h.h.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.$s=[[h.h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[h.h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[h.h.LISTS_GET_INDEX_FIRST,"FIRST"],[h.h.LISTS_GET_INDEX_LAST,"LAST"],[h.h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Hb=h.h.LISTS_GET_INDEX_HELPURL;this.Nb("list_blocks");a=new h.Sa(a,function(d){d="REMOVE"==d;this.U().$B(d)});I(J(this,"VALUE").lb("Array"),
h.h.LISTS_GET_INDEX_INPUT_IN_LIST);I(I(K(this),a,"MODE"),"","SPACE");K(this,"AT");h.h.LISTS_GET_INDEX_TAIL&&I(K(this,"TAIL"),h.h.LISTS_GET_INDEX_TAIL);this.Fc(!0);this.Td(!0);this.Ke(!0);var c=this;this.Ya(function(){var d=C(c,"MODE"),e=C(c,"WHERE"),f="";switch(d+" "+e){case "GET FROM_START":case "GET FROM_END":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":f=
h.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":f=h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":f=
h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":f=h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":f=h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+("FROM_START"==e?h.h.LISTS_INDEX_FROM_START_TOOLTIP:h.h.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",c.w.options.Eh?"#1":"#0");return f})},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("statement",!this.K);a.setAttribute("at",y(this,"AT").type==h.cb);return a},
Fb:function(a){var c="true"==a.getAttribute("statement");this.$B(c);a="false"!=a.getAttribute("at");this.Ke(a)},$B:function(a){a!=!this.K&&(w(this,!0),a?(this.Td(!1),this.Ie(!0),this.He(!0)):(this.Ie(!1),this.He(!1),this.Td(!0)))},Ke:function(a){this.ib("AT");this.ib("ORDINAL",!0);a?(J(this,"AT").lb("Number"),h.h.ORDINAL_NUMBER_SUFFIX&&I(K(this,"ORDINAL"),h.h.ORDINAL_NUMBER_SUFFIX)):K(this,"AT");var c=new h.Sa(this.$s,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.U();f.Ke(e);
Ac(f,d,"WHERE");return null}});I(y(this,"AT"),c,"WHERE");h.h.LISTS_GET_INDEX_TAIL&&Dc(this,"TAIL",null)}};
h.M.lists_setIndex={P:function(){var a=[[h.h.LISTS_SET_INDEX_SET,"SET"],[h.h.LISTS_SET_INDEX_INSERT,"INSERT"]];this.$s=[[h.h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[h.h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[h.h.LISTS_GET_INDEX_FIRST,"FIRST"],[h.h.LISTS_GET_INDEX_LAST,"LAST"],[h.h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Hb=h.h.LISTS_SET_INDEX_HELPURL;this.Nb("list_blocks");I(J(this,"LIST").lb("Array"),h.h.LISTS_SET_INDEX_INPUT_IN_LIST);I(I(K(this),new h.Sa(a),"MODE"),"","SPACE");K(this,"AT");I(J(this,
"TO"),h.h.LISTS_SET_INDEX_INPUT_TO);this.Fc(!0);this.Ie(!0);this.He(!0);this.Ya(h.h.LISTS_SET_INDEX_TOOLTIP);this.Ke(!0);var c=this;this.Ya(function(){var d=C(c,"MODE"),e=C(c,"WHERE"),f="";switch(d+" "+e){case "SET FROM_START":case "SET FROM_END":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":f=
h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":f=h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":f=h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":f=h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+h.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",c.w.options.Eh?"#1":"#0");return f})},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("at",y(this,"AT").type==h.cb);return a},Fb:function(a){a=
"false"!=a.getAttribute("at");this.Ke(a)},Ke:function(a){this.ib("AT");this.ib("ORDINAL",!0);a?(J(this,"AT").lb("Number"),h.h.ORDINAL_NUMBER_SUFFIX&&I(K(this,"ORDINAL"),h.h.ORDINAL_NUMBER_SUFFIX)):K(this,"AT");var c=new h.Sa(this.$s,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.U();f.Ke(e);Ac(f,d,"WHERE");return null}});Dc(this,"AT","TO");y(this,"ORDINAL")&&Dc(this,"ORDINAL","TO");I(y(this,"AT"),c,"WHERE")}};
h.M.lists_getSublist={P:function(){this.WHERE_OPTIONS_1=[[h.h.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[h.h.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[h.h.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[h.h.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[h.h.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[h.h.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.Hb=h.h.LISTS_GET_SUBLIST_HELPURL;this.Nb("list_blocks");I(J(this,"LIST").lb("Array"),h.h.LISTS_GET_SUBLIST_INPUT_IN_LIST);K(this,
"AT1");K(this,"AT2");h.h.LISTS_GET_SUBLIST_TAIL&&I(K(this,"TAIL"),h.h.LISTS_GET_SUBLIST_TAIL);this.Fc(!0);this.Td(!0,"Array");this.Ke(1,!0);this.Ke(2,!0);this.Ya(h.h.LISTS_GET_SUBLIST_TOOLTIP)},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("at1",y(this,"AT1").type==h.cb);a.setAttribute("at2",y(this,"AT2").type==h.cb);return a},Fb:function(a){var c="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Ke(1,c);this.Ke(2,a)},Ke:function(a,c){this.ib("AT"+a);this.ib("ORDINAL"+
a,!0);c?(J(this,"AT"+a).lb("Number"),h.h.ORDINAL_NUMBER_SUFFIX&&I(K(this,"ORDINAL"+a),h.h.ORDINAL_NUMBER_SUFFIX)):K(this,"AT"+a);var d=new h.Sa(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=c){var g=this.U();g.Ke(a,f);Ac(g,e,"WHERE"+a);return null}});I(y(this,"AT"+a),d,"WHERE"+a);1==a&&(Dc(this,"AT1","AT2"),y(this,"ORDINAL1")&&Dc(this,"ORDINAL1","AT2"));h.h.LISTS_GET_SUBLIST_TAIL&&Dc(this,"TAIL",null)}};
h.M.lists_sort={P:function(){L(this,{message0:h.h.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[h.h.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[h.h.LISTS_SORT_TYPE_TEXT,"TEXT"],[h.h.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[h.h.LISTS_SORT_ORDER_ASCENDING,"1"],[h.h.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:h.h.LISTS_SORT_TOOLTIP,helpUrl:h.h.LISTS_SORT_HELPURL})}};
h.M.lists_split={P:function(){var a=this,c=new h.Sa([[h.h.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[h.h.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(d){a.cj(d)});this.Hb=h.h.LISTS_SPLIT_HELPURL;this.Nb("list_blocks");I(J(this,"INPUT").lb("String"),c,"MODE");I(J(this,"DELIM").lb("String"),h.h.LISTS_SPLIT_WITH_DELIMITER);this.Fc(!0);this.Td(!0,"Array");this.Ya(function(){var d=C(a,"MODE");if("SPLIT"==d)return h.h.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==d)return h.h.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+
d);})},cj:function(a){if(C(this,"MODE")!=a){var c=y(this,"INPUT").connection;c.Qf=null;var d=c.la();d&&(c.disconnect(),d.Va?d.F():this.Lb())}"SPLIT"==a?(this.K.lb("Array"),y(this,"INPUT").lb("String")):(this.K.lb("String"),y(this,"INPUT").lb("Array"))},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("mode",C(this,"MODE"));return a},Fb:function(a){this.cj(a.getAttribute("mode"))}};h.M.sH={};h.ma.nd={};h.ma.nd.wp=210;
h.wl([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
h.wl([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);h.ma.nd.Ws={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};h.ba.register("logic_op_tooltip",h.ba.Tp("OP",h.ma.nd.Ws));
h.ma.nd.$r={je:0,Xe:0,$i:!0,fb:function(){if(!this.je&&!this.Xe)return null;var a=h.g.xml.createElement("mutation");this.je&&a.setAttribute("elseif",this.je);this.Xe&&a.setAttribute("else",1);return a},Fb:function(a){this.je=parseInt(a.getAttribute("elseif"),10)||0;this.Xe=parseInt(a.getAttribute("else"),10)||0;this.kI()},jh:function(a){var c=a.Li("controls_if_if");c.df();for(var d=c.T,e=1;e<=this.je;e++){var f=a.Li("controls_if_elseif");f.df();d.connect(f.Y);d=f.T}this.Xe&&(a=a.Li("controls_if_else"),
a.df(),d.connect(a.Y));return c},gh:function(a){a=a.T.la();this.Xe=this.je=0;for(var c=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.je++;c.push(a.Gw);d.push(a.Rf);break;case "controls_if_else":this.Xe++;e=a.Rf;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.T&&a.T.la()}this.Sc();this.BB(c,d,e)},zr:function(a){a=a.T.la();for(var c=1;a;){switch(a.type){case "controls_if_elseif":var d=y(this,"IF"+c),e=y(this,"DO"+c);a.Gw=d&&d.connection.ga;a.Rf=e&&e.connection.ga;
c++;break;case "controls_if_else":e=y(this,"ELSE");a.Rf=e&&e.connection.ga;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.T&&a.T.la()}},kI:function(){var a=[null],c=[null],d=null;y(this,"ELSE")&&(d=y(this,"ELSE").connection.ga);for(var e=1;y(this,"IF"+e);){var f=y(this,"DO"+e);a.push(y(this,"IF"+e).connection.ga);c.push(f.connection.ga);e++}this.Sc();this.BB(a,c,d)},Sc:function(){y(this,"ELSE")&&this.ib("ELSE");for(var a=1;y(this,"IF"+a);)this.ib("IF"+a),this.ib("DO"+a),a++;for(a=
1;a<=this.je;a++)I(J(this,"IF"+a).lb("Boolean"),h.h.CONTROLS_IF_MSG_ELSEIF),I(Cc(this,"DO"+a),h.h.CONTROLS_IF_MSG_THEN);this.Xe&&I(Cc(this,"ELSE"),h.h.CONTROLS_IF_MSG_ELSE)},BB:function(a,c,d){for(var e=1;e<=this.je;e++)h.Vb.Wl(a[e],this,"IF"+e),h.Vb.Wl(c[e],this,"DO"+e);h.Vb.Wl(d,this,"ELSE")}};h.ba.Yv("controls_if_mutator",h.ma.nd.$r,null,["controls_if_elseif","controls_if_else"]);
h.ma.nd.$w=function(){this.Ya(function(){if(this.je||this.Xe){if(!this.je&&this.Xe)return h.h.CONTROLS_IF_TOOLTIP_2;if(this.je&&!this.Xe)return h.h.CONTROLS_IF_TOOLTIP_3;if(this.je&&this.Xe)return h.h.CONTROLS_IF_TOOLTIP_4}else return h.h.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};h.ba.register("controls_if_tooltip",h.ma.nd.$w);
h.ma.nd.ND={onchange:function(a){this.Ul||(this.Ul=[null,null]);var c=Ec(this,"A"),d=Ec(this,"B");c&&d&&!Kb(c.K,d.K)&&(h.i.aa(a.group),a=this.Ul[0],a!==c&&(w(c),!a||a.tg||a.Va||y(this,"A").connection.connect(a.K)),c=this.Ul[1],c!==d&&(w(d),!c||c.tg||c.Va||y(this,"B").connection.connect(c.K)),this.Lb(),h.i.aa(!1));this.Ul[0]=Ec(this,"A");this.Ul[1]=Ec(this,"B")}};h.ma.nd.MD=function(){this.ff(h.ma.nd.ND)};h.ba.register("logic_compare",h.ma.nd.MD);
h.ma.nd.OD={xB:null,onchange:function(a){var c=Ec(this,"THEN"),d=Ec(this,"ELSE"),e=this.K.ga;if((c||d)&&e)for(var f=0;2>f;f++){var g=1==f?c:d;g&&!Kb(g.K,e)&&(h.i.aa(a.group),e===this.xB?(w(this),e.U().Lb()):(w(g),g.Lb()),h.i.aa(!1))}this.xB=e}};h.ba.qr("logic_ternary",h.ma.nd.OD);h.Ub=function(a,c,d){this.Do=!0;null==a&&(a="");h.Ub.A.constructor.call(this,a,c,d);this.gr=this.Dh=this.Md=null;this.qq=!1};h.g.object.W(h.Ub,h.te);h.Ub.za=function(a){var c=h.g.oe(a.text);return new h.Ub(c,void 0,a)};h.Ub.prototype.Xk=!0;h.Ub.zC=4;b=h.Ub.prototype;b.ds="text";b.Ve=function(a){h.Ub.A.Ve.call(this,a);"boolean"==typeof a.spellcheck&&(this.Do=a.spellcheck)};
b.Hl=function(){if(this.ca().tx){for(var a=0,c=0,d=0,e;e=this.G.O[d];d++){for(var f=0;e.Ta[f];f++)a++;e.connection&&c++}this.qq=1>=a&&this.G.K&&!c}else this.qq=!1;this.qq?this.Bt=this.G.Na():mc(this);nc(this)};b.Ej=function(a){return null===a||void 0===a?null:String(a)};b.Jz=function(){if(this.In){this.Xu=!1;var a=this.vc;this.vc=this.Md.UI;this.G&&h.i.isEnabled()&&h.i.Fa(new h.i.Mg(this.G,"field",this.name||null,a,this.vc))}};b.ni=function(a){this.Xu=!0;this.vc=a;this.In||(this.Ai=!0)};
b.cc=function(){this.G&&this.ca().tx&&(this.Yb?this.Yb.setAttribute("stroke",this.G.style.fh):this.G.Ab.Pb.setAttribute("fill",this.ca().nx))};b.Gh=function(){h.Ub.A.Gh.call(this);if(this.In){Xe(this);var a=this.Md;this.Xu?(h.g.o.Bb(a,"blocklyInvalidInput"),h.g.X.Ib(a,h.g.X.State.Cx,!1)):(h.g.o.Wa(a,"blocklyInvalidInput"),h.g.X.Ib(a,h.g.X.State.Cx,!0))}};function Ye(a){0!=a.Do&&(a.Do=!1,a.Md&&a.Md.setAttribute("spellcheck",a.Do))}
b.Mh=function(a,c){this.s=this.G.w;a=c||!1;!a&&(h.g.userAgent.bE||h.g.userAgent.lm||h.g.userAgent.Ok)?Ze(this):(h.Z.show(this,this.G.H,this.ZI.bind(this)),this.Md=this.Hw(),this.In=!0,a||(this.Md.focus({preventScroll:!0}),this.Md.select()))};function Ze(a){h.prompt(h.h.CHANGE_VALUE_TITLE,a.$c(),function(c){a.setValue(c)})}
b.Hw=function(){var a=h.Z.bb;h.g.o.Wa(lc(this),"editing");var c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.Do);var d=vd(this.s),e=this.ca().Wh*d+"pt";a.style.fontSize=e;c.style.fontSize=e;e=h.Ub.zC*d+"px";if(this.qq){e=sc(this);e=(e.bottom-e.top)/2+"px";var f=this.G.getParent()?this.G.getParent().style.fh:this.G.style.fh;c.style.border=1*d+"px solid "+f;a.style.borderRadius=e;a.style.transition="box-shadow 0.25s ease 0s";this.ca().iD&&(a.style.boxShadow=
"rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*d+"px")}c.style.borderRadius=e;a.appendChild(c);c.value=c.defaultValue=String(this.vc);c.UI=this.vc;c.cB=null;Xe(this);this.Dh=h.oa(c,"keydown",this,this.UH);this.gr=h.oa(c,"input",this,this.TH);return c};
b.ZI=function(){this.In=!1;this.Xu=!0;tc(this);this.Fv&&this.Fv(this.vc);this.Dh&&(h.La(this.Dh),this.Dh=null);this.gr&&(h.La(this.gr),this.gr=null);var a=h.Z.bb.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Md=null;h.g.o.Bb(lc(this),"editing")};
b.UH=function(a){if(a.keyCode==h.g.Ca.hs)h.Z.Ha(),h.D.Fl();else if(a.keyCode==h.g.Ca.js)this.Md.value=this.Md.defaultValue,h.Z.Ha(),h.D.Fl();else if(a.keyCode==h.g.Ca.AE){h.Z.Ha();h.D.Fl();var c=this.G,d=!a.shiftKey,e=new h.Op;E(e,h.C.rl(this));var f=e.$a;e.Qd(d?h.navigation.Wo:h.navigation.Xo);(d=e.$a)&&d!==f&&(f=d.qa,Za(f)&&f.Mh(void 0),c.w.Cc&&E(c.w.Gb(),d));a.preventDefault()}};b.TH=function(){var a=this.Md.value;a!==this.Md.cB&&(this.Md.cB=a,h.i.aa(!0),this.setValue(a),tc(this),Xe(this),h.i.aa(!1))};
function Xe(a){var c=h.Z.bb,d=sc(a);c.style.width=d.right-d.left+"px";c.style.height=d.bottom-d.top+"px";a=new h.g.S(a.G.H?d.right-c.offsetWidth:d.left,d.top);c.style.left=a.x+"px";c.style.top=a.y+"px"}h.Ub.OH=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};
h.Ub.aM=function(a){(a=h.Ub.OH(a))&&(a=String(Math.max(0,Math.floor(a))));return a};h.Ub.prototype.JA=function(){return!0};h.Ub.prototype.Fu=function(){return this.In&&this.Md?this.Md.value:null};h.ud.register("field_input",h.Ub);h.rf=function(a,c,d,e,f,g){this.Xn=-Infinity;this.Vn=Infinity;this.Tl=0;this.Jt=null;h.rf.A.constructor.call(this,a||0,f,g);g||($e(this,c),af(this,d),bf(this,e),this.setValue(this.getValue()))};h.g.object.W(h.rf,h.Ub);h.rf.za=function(a){return new h.rf(a.value,void 0,void 0,void 0,void 0,a)};h.rf.prototype.Xk=!0;h.rf.prototype.Ve=function(a){h.rf.A.Ve.call(this,a);$e(this,a.min);af(this,a.max);bf(this,a.precision)};function $e(a,c){null==c?a.Xn=-Infinity:(c=Number(c),isNaN(c)||(a.Xn=c))}
function af(a,c){null==c?a.Vn=Infinity:(c=Number(c),isNaN(c)||(a.Vn=c))}function bf(a,c){null==c?a.Tl=0:(c=Number(c),isNaN(c)||(a.Tl=c));var d=a.Tl.toString(),e=d.indexOf(".");a.Jt=-1==e?c?0:null:d.length-e-1}
h.rf.prototype.Ej=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.Xn),this.Vn);this.Tl&&isFinite(a)&&(a=Math.round(a/this.Tl)*this.Tl);null!=this.Jt&&(a=Number(a.toFixed(this.Jt)));return a};h.rf.prototype.Hw=function(){var a=h.rf.A.Hw.call(this);-Infinity<this.Xn&&h.g.X.Ib(a,h.g.X.State.IE,this.Xn);Infinity>this.Vn&&h.g.X.Ib(a,h.g.X.State.HE,this.Vn);return a};
h.ud.register("field_number",h.rf);h.Cd=function(a,c,d,e,f){this.fk=h.Cd.bG;this.LF=a||"";this.Ud=new h.g.eg(0,0);f&&this.Ve(f);c&&(this.Ak=c);f||cf(this,d,e)};h.g.object.W(h.Cd,h.Sa);h.Cd.za=function(a){var c=h.g.oe(a.variable);return new h.Cd(c,void 0,void 0,void 0,a)};b=h.Cd.prototype;b.s=null;b.Xk=!0;b.Ve=function(a){h.Cd.A.Ve.call(this,a);cf(this,a.variableTypes,a.defaultType)};b.Rj=function(){if(!this.qe){var a=h.V.wq(this.G.w,null,this.LF,this.KF);this.ni(a.xa())}};
b.ow=function(){return h.Cd.A.ow.call(this)&&(!this.ca().ns||"variables_get"!=this.G.type)};b.un=function(a){var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";c=h.V.wq(this.G.w,c,d,e);if(null!=e&&e!==c.type)throw Error("Serialized variable type with id '"+c.xa()+"' had type "+c.type+", and does not match variable field that references it: "+h.R.ze(a)+".");this.setValue(c.xa())};
b.TB=function(a){this.Rj();a.id=this.qe.xa();a.textContent=this.qe.name;this.qe.type&&a.setAttribute("variabletype",this.qe.type);return a};b.lw=function(a){if(a.Va)throw Error("Variable fields are not allowed to exist on shadow blocks.");h.Cd.A.lw.call(this,a)};b.getValue=function(){return this.qe?this.qe.xa():null};b.$c=function(){return this.qe?this.qe.name:""};b.ad=function(){return this.qe};b.mA=function(){return this.qe?this.Ak:null};
b.Ej=function(a){if(null===a)return null;var c=h.V.ad(this.G.w,a);if(!c)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;c=c.type;var d;a:if(d=df(this)){for(var e=0;e<d.length;e++)if(c==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+c),null)};b.ni=function(a){this.qe=h.V.ad(this.G.w,a);h.Cd.A.ni.call(this,a)};
function df(a){var c=a.VI;if(null===c&&a.G&&a.G.w)return a.G.w.Hu();c=c||[""];if(0==c.length)throw a=a.$c(),Error("'variableTypes' of field variable "+a+" was an empty list");return c}
function cf(a,c,d){d=d||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){for(var e=!1,f=0;f<c.length;f++)c[f]==d&&(e=!0);if(!e)throw Error("Invalid default type '"+d+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.KF=d;a.VI=c}
h.Cd.bG=function(){if(!this.qe)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.$c(),c=[];if(this.G&&this.G.w)for(var d=df(this),e=0;e<d.length;e++)c=c.concat(this.G.w.Cn(d[e]));c.sort(h.Lm.cz);d=[];for(e=0;e<c.length;e++)d[e]=[c[e].name,c[e].xa()];d.push([h.h.RENAME_VARIABLE,h.jy]);h.h.DELETE_VARIABLE&&d.push([h.h.DELETE_VARIABLE.replace("%1",a),h.ix]);return d};
h.Cd.prototype.hB=function(a){a=a.getValue();if(this.G&&this.G.w){if(a==h.jy){h.V.wr(this.G.w,this.qe);return}if(a==h.ix){this.G.w.kh(this.qe.xa());return}}this.setValue(a)};h.Cd.prototype.no=function(){return!0};h.ud.register("field_variable",h.Cd);h.M.uH={};h.ma.Me={};h.ma.Me.wp=120;
h.wl([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);h.ma.Me.KE={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};h.ba.register("controls_whileUntil_tooltip",h.ba.Tp("MODE",h.ma.Me.KE));h.ma.Me.CC={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};h.ba.register("controls_flow_tooltip",h.ba.Tp("FLOW",h.ma.Me.CC));
h.ma.Me.RC={rg:function(a){if(!this.ec){var c=v(this,"VAR").ad(),d=c.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=h.h.VARIABLES_SET_CREATE_GET.replace("%1",d);c=h.V.vn(c);d=h.g.xml.createElement("block");d.setAttribute("type","variables_get");d.appendChild(c);e.zb=h.Aa.Tm(this,d);a.push(e)}}}};h.ba.qr("contextMenu_newGetVariableBlock",h.ma.Me.RC);h.ba.register("controls_for_tooltip",h.ba.tt("%{BKY_CONTROLS_FOR_TOOLTIP}"));h.ba.register("controls_forEach_tooltip",h.ba.tt("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
h.ma.Me.kp={QD:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],$i:!0,lA:function(a){do{if(-1!=h.ma.Me.kp.QD.indexOf(a.type))return a;a=zc(a)}while(a);return null},onchange:function(a){if(this.w.nc&&!this.w.nc()&&a.type==h.i.Vr&&a.yc==this.id){var c=h.ma.Me.kp.lA(this);this.Yi(c?null:h.h.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.ec){var d=h.i.ac();h.i.aa(a.group);this.Sd(c);h.i.aa(d)}}}};h.ba.qr("controls_flow_in_loop_check",h.ma.Me.kp);h.M.oc={};h.ma.Math={};h.ma.Math.wp=230;
h.wl([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
h.ma.Math.Ws={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
h.ba.register("math_op_tooltip",h.ba.Tp("OP",h.ma.Math.Ws));h.ma.Math.zD={fb:function(){var a=h.g.xml.createElement("mutation"),c="DIVISIBLE_BY"==C(this,"PROPERTY");a.setAttribute("divisor_input",c);return a},Fb:function(a){a="true"==a.getAttribute("divisor_input");this.Sc(a)},Sc:function(a){var c=y(this,"DIVISOR");a?c||J(this,"DIVISOR").lb("Number"):c&&this.ib("DIVISOR")}};h.ma.Math.AD=function(){oc(v(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.U().Sc(a)})};
h.ba.Yv("math_is_divisibleby_mutator",h.ma.Math.zD,h.ma.Math.AD);h.ba.register("math_change_tooltip",h.ba.tt("%{BKY_MATH_CHANGE_TOOLTIP}"));h.ma.Math.LD={cj:function(a){"MODE"==a?this.K.lb("Array"):this.K.lb("Number")},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("op",C(this,"OP"));return a},Fb:function(a){this.cj(a.getAttribute("op"))}};h.ma.Math.KD=function(){oc(v(this,"OP"),function(a){this.cj(a)}.bind(this))};h.ba.Yv("math_modes_of_list_mutator",h.ma.Math.LD,h.ma.Math.KD);h.qf=function(a,c,d){this.Xy=null;null==a&&(a="FALSE");h.qf.A.constructor.call(this,a,c,d)};h.g.object.W(h.qf,h.te);h.qf.za=function(a){return new h.qf(a.checked,void 0,a)};h.qf.GC="\u2713";b=h.qf.prototype;b.Xk=!0;b.ds="default";b.Ve=function(a){h.qf.A.Ve.call(this,a);a.checkCharacter&&(this.Xy=a.checkCharacter)};b.Hl=function(){h.qf.A.Hl.call(this);h.g.o.Wa(this.uc,"blocklyCheckbox");this.uc.style.display=this.vc?"block":"none"};b.Gh=function(){this.Nh&&(this.Nh.nodeValue=this.uq());pc(this,this.ca().dD)};
b.uq=function(){return this.Xy||h.qf.GC};b.Mh=function(){this.setValue(!this.vc)};b.Ej=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};b.ni=function(a){this.vc=ef(a);this.uc&&(this.uc.style.display=this.vc?"block":"none")};b.getValue=function(){return this.vc?"TRUE":"FALSE"};b.$c=function(){return String(ef(this.vc))};function ef(a){return"string"==typeof a?"TRUE"==a:!!a}h.ud.register("field_checkbox",h.qf);h.M.iI={};
h.M.procedures_defnoreturn={P:function(){var a=new h.Ub("",h.ua.rr);Ye(a);I(I(I(K(this),h.h.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.Xi(new h.Vb(["procedures_mutatorarg"]));(this.w.options.Xm||this.w.options.qc&&this.w.options.qc.options.Xm)&&h.h.PROCEDURES_DEFNORETURN_COMMENT&&this.Eg(h.h.PROCEDURES_DEFNORETURN_COMMENT);this.Nb("procedure_blocks");this.Ya(h.h.PROCEDURES_DEFNORETURN_TOOLTIP);this.Hb=h.h.PROCEDURES_DEFNORETURN_HELPURL;this.ya=[];this.dc=[];this.Gg(!0);this.Rf=null},
Gg:function(a){this.Cq!==a&&(a?(I(Cc(this,"STACK"),h.h.PROCEDURES_DEFNORETURN_DO),y(this,"RETURN")&&Dc(this,"STACK","RETURN")):this.ib("STACK",!0),this.Cq=a)},So:function(){var a="";this.ya.length&&(a=h.h.PROCEDURES_BEFORE_PARAMS+" "+this.ya.join(", "));h.i.disable();try{Ac(this,a,"PARAMS")}finally{h.i.enable()}},fb:function(a){var c=h.g.xml.createElement("mutation");a&&c.setAttribute("name",C(this,"NAME"));for(var d=0;d<this.dc.length;d++){var e=h.g.xml.createElement("arg"),f=this.dc[d];e.setAttribute("name",
f.name);e.setAttribute("varid",f.xa());a&&this.Nv&&e.setAttribute("paramId",this.Nv[d]);c.appendChild(e)}this.Cq||c.setAttribute("statements","false");return c},Fb:function(a){this.ya=[];this.dc=[];for(var c=0,d;d=a.childNodes[c];c++)if("arg"==d.nodeName.toLowerCase()){var e=d.getAttribute("name");d=d.getAttribute("varid")||d.getAttribute("varId");this.ya.push(e);d=h.V.wq(this.w,d,e,"");null!=d?this.dc.push(d):console.log("Failed to create a variable with name "+e+", ignoring.")}this.So();h.ua.Zn(this);
this.Gg("false"!==a.getAttribute("statements"))},jh:function(a){var c=h.g.xml.createElement("block");c.setAttribute("type","procedures_mutatorcontainer");var d=h.g.xml.createElement("statement");d.setAttribute("name","STACK");c.appendChild(d);for(var e=0;e<this.ya.length;e++){var f=h.g.xml.createElement("block");f.setAttribute("type","procedures_mutatorarg");var g=h.g.xml.createElement("field");g.setAttribute("name","NAME");var k=h.g.xml.createTextNode(this.ya[e]);g.appendChild(k);f.appendChild(g);
g=h.g.xml.createElement("next");f.appendChild(g);d.appendChild(f);d=g}a=h.R.Fj(c,a);"procedures_defreturn"==this.type?Ac(a,this.Cq,"STATEMENTS"):a.ib("STATEMENT_INPUT");h.ua.Zn(this);return a},gh:function(a){this.ya=[];this.Nv=[];this.dc=[];for(var c=Ec(a,"STACK");c;){var d=C(c,"NAME");this.ya.push(d);d=this.w.ad(d,"");this.dc.push(d);this.Nv.push(c.id);c=c.T&&c.T.la()}this.So();h.ua.Zn(this);a=C(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.Cq!=a))if(a)this.Gg(!0),h.Vb.Wl(this.Rf,this,"STACK"),
this.Rf=null;else{a=y(this,"STACK").connection;if(this.Rf=a.ga)a=a.la(),w(a),a.Lb();this.Gg(!1)}},si:function(){return[C(this,"NAME"),this.ya,!1]},zq:function(){return this.ya},rh:function(){return this.dc},vr:function(a,c){var d=this.w.Lf(a);if(""==d.type){d=d.name;c=this.w.Lf(c);for(var e=!1,f=0;f<this.dc.length;f++)this.dc[f].xa()==a&&(this.ya[f]=c.name,this.dc[f]=c,e=!0);e&&(this.jq(d,c.name),h.ua.Zn(this))}},Kr:function(a){for(var c=a.name,d=!1,e=0;e<this.dc.length;e++)if(this.dc[e].xa()==a.xa()){var f=
this.ya[e];this.ya[e]=c;d=!0}d&&(this.jq(f,c),h.ua.Zn(this))},jq:function(a,c){this.So();if(this.dd&&this.dd.isVisible())for(var d=B(this.dd.s),e=0,f;f=d[e];e++)"procedures_mutatorarg"==f.type&&h.$d.Ye(a,C(f,"NAME"))&&Ac(f,c,"NAME")},rg:function(a){if(!this.ec){var c={enabled:!0},d=C(this,"NAME");c.text=h.h.PROCEDURES_CREATE_DO.replace("%1",d);var e=h.g.xml.createElement("mutation");e.setAttribute("name",d);for(d=0;d<this.ya.length;d++){var f=h.g.xml.createElement("arg");f.setAttribute("name",this.ya[d]);
e.appendChild(f)}d=h.g.xml.createElement("block");d.setAttribute("type",this.Vy);d.appendChild(e);c.zb=h.Aa.Tm(this,d);a.push(c);if(!this.isCollapsed())for(d=0;d<this.dc.length;d++)c={enabled:!0},e=this.dc[d],c.text=h.h.VARIABLES_SET_CREATE_GET.replace("%1",e.name),e=h.V.vn(e),f=h.g.xml.createElement("block"),f.setAttribute("type","variables_get"),f.appendChild(e),c.zb=h.Aa.Tm(this,f),a.push(c)}},Vy:"procedures_callnoreturn"};
h.M.procedures_defreturn={P:function(){var a=new h.Ub("",h.ua.rr);Ye(a);I(I(I(K(this),h.h.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");I(yc(J(this,"RETURN"),h.Gk),h.h.PROCEDURES_DEFRETURN_RETURN);this.Xi(new h.Vb(["procedures_mutatorarg"]));(this.w.options.Xm||this.w.options.qc&&this.w.options.qc.options.Xm)&&h.h.PROCEDURES_DEFRETURN_COMMENT&&this.Eg(h.h.PROCEDURES_DEFRETURN_COMMENT);this.Nb("procedure_blocks");this.Ya(h.h.PROCEDURES_DEFRETURN_TOOLTIP);this.Hb=h.h.PROCEDURES_DEFRETURN_HELPURL;
this.ya=[];this.dc=[];this.Gg(!0);this.Rf=null},Gg:h.M.procedures_defnoreturn.Gg,So:h.M.procedures_defnoreturn.So,fb:h.M.procedures_defnoreturn.fb,Fb:h.M.procedures_defnoreturn.Fb,jh:h.M.procedures_defnoreturn.jh,gh:h.M.procedures_defnoreturn.gh,si:function(){return[C(this,"NAME"),this.ya,!0]},zq:h.M.procedures_defnoreturn.zq,rh:h.M.procedures_defnoreturn.rh,vr:h.M.procedures_defnoreturn.vr,Kr:h.M.procedures_defnoreturn.Kr,jq:h.M.procedures_defnoreturn.jq,rg:h.M.procedures_defnoreturn.rg,Vy:"procedures_callreturn"};
h.M.procedures_mutatorcontainer={P:function(){I(K(this),h.h.PROCEDURES_MUTATORCONTAINER_TITLE);Cc(this,"STACK");I(I(K(this,"STATEMENT_INPUT"),h.h.PROCEDURES_ALLOW_STATEMENTS),new h.qf("TRUE"),"STATEMENTS");this.Nb("procedure_blocks");this.Ya(h.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
h.M.procedures_mutatorarg={P:function(){var a=new h.Ub(h.ua.ex,this.Ak);a.PH=a.Mh;a.Mh=function(){this.gn=[];this.PH()};I(I(K(this),h.h.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Ie(!0);this.He(!0);this.Nb("procedure_blocks");this.Ya(h.h.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.Fv=this.NF;a.gn=[];a.Fv("x")},Ak:function(a){var c=this.U(),d=h.Vb.Pz(c.w);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var e=B(c.w.aj||c.w),f=a.toLowerCase(),g=0;g<e.length;g++)if(e[g].id!=
this.U().id){var k=C(e[g],"NAME");if(k&&k.toLowerCase()==f)return null}if(c.ec)return a;(c=d.ad(a,""))&&c.name!=a&&d.Ui(c.xa(),a);c||(c=d.We(a,""))&&this.gn&&this.gn.push(c);return a},NF:function(a){var c=h.Vb.Pz(this.U().w);if(c)for(var d=0;d<this.gn.length;d++){var e=this.gn[d];e.name!=a&&c.kh(e.xa())}}};
h.M.procedures_callnoreturn={P:function(){I(K(this,"TOPROW"),this.id,"NAME");this.Ie(!0);this.He(!0);this.Nb("procedure_blocks");this.Hb=h.h.PROCEDURES_CALLNORETURN_HELPURL;this.ya=[];this.dc=[];this.Fh={};this.Cg=null;this.Vv=!0},Be:function(){return C(this,"NAME")},po:function(a,c){h.$d.Ye(a,this.Be())&&(Ac(this,c,"NAME"),this.Ya((this.K?h.h.PROCEDURES_CALLRETURN_TOOLTIP:h.h.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",c)))},jw:function(a,c){var d=h.ua.yn(this.Be(),this.w),e=d&&d.dd&&d.dd.isVisible();
e||(this.Fh={},this.Cg=null);if(c)if(a.join("\n")==this.ya.join("\n"))this.Cg=c;else{if(c.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Jh(!1);this.Cg||(this.Fh={},this.Cg=[]);d=this.na;this.na=!1;for(var f=0;f<this.ya.length;f++){var g=y(this,"ARG"+f);g&&(g=g.connection.ga,this.Fh[this.Cg[f]]=g,e&&g&&-1==c.indexOf(this.Cg[f])&&(g.disconnect(),g.U().Lb()))}this.ya=[].concat(a);this.dc=[];for(f=0;f<this.ya.length;f++)a=h.V.wq(this.w,null,this.ya[f],""),
this.dc.push(a);this.Sc();if(this.Cg=c)for(f=0;f<this.ya.length;f++)c=this.Cg[f],c in this.Fh&&(g=this.Fh[c],h.Vb.Wl(g,this,"ARG"+f)||delete this.Fh[c]);(this.na=d)&&this.Ba()}},Sc:function(){for(var a=0;a<this.ya.length;a++){var c=v(this,"ARGNAME"+a);if(c){h.i.disable();try{c.setValue(this.ya[a])}finally{h.i.enable()}}else c=new h.Yd(this.ya[a]),I(yc(J(this,"ARG"+a),h.Gk),c,"ARGNAME"+a).P()}for(;y(this,"ARG"+a);)this.ib("ARG"+a),a++;if(a=y(this,"TOPROW"))if(this.ya.length)v(this,"WITH")||(I(a,h.h.PROCEDURES_CALL_BEFORE_PARAMS,
"WITH"),a.P());else if(v(this,"WITH"))a:{c=0;for(var d;d=a.Ta[c];c++)if("WITH"===d.name){d.F();a.Ta.splice(c,1);a.G.na&&(a.G.Ba(),a.G.Lb());break a}throw Error('Field "%s" not found.',"WITH");}},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("name",this.Be());for(var c=0;c<this.ya.length;c++){var d=h.g.xml.createElement("arg");d.setAttribute("name",this.ya[c]);a.appendChild(d)}return a},Fb:function(a){var c=a.getAttribute("name");this.po(this.Be(),c);c=[];for(var d=[],e=0,f;f=
a.childNodes[e];e++)"arg"==f.nodeName.toLowerCase()&&(c.push(f.getAttribute("name")),d.push(f.getAttribute("paramId")));this.jw(c,d)},rh:function(){return this.dc},onchange:function(a){if(this.w&&!this.w.Of&&a.Qc)if(a.type==h.i.$o&&-1!=a.yi.indexOf(this.id)){var c=this.Be();c=h.ua.yn(c,this.w);!c||c.type==this.Kt&&JSON.stringify(c.ya)==JSON.stringify(this.ya)||(c=null);if(!c){h.i.aa(a.group);a=h.g.xml.createElement("xml");c=h.g.xml.createElement("block");c.setAttribute("type",this.Kt);var d=this.Ua(),
e=d.y+2*h.Fd;c.setAttribute("x",d.x+h.Fd*(this.H?-1:1));c.setAttribute("y",e);d=this.fb();c.appendChild(d);d=h.g.xml.createElement("field");d.setAttribute("name","NAME");d.appendChild(h.g.xml.createTextNode(this.Be()));c.appendChild(d);a.appendChild(c);h.R.oi(a,this.w);h.i.aa(!1)}}else a.type==h.i.Ur?(c=this.Be(),c=h.ua.yn(c,this.w),c||(h.i.aa(a.group),this.F(!0),h.i.aa(!1))):a.type==h.i.ij&&"disabled"==a.element&&(c=this.Be(),(c=h.ua.yn(c,this.w))&&c.id==a.yc&&((c=h.i.ac())&&console.log("Saw an existing group while responding to a definition change"),
h.i.aa(a.group),a.newValue?(this.Vv=this.isEnabled(),this.Sd(!1)):this.Sd(this.Vv),h.i.aa(c)))},rg:function(a){if(this.w.Nc()){var c={enabled:!0};c.text=h.h.PROCEDURES_HIGHLIGHT_DEF;var d=this.Be(),e=this.w;c.zb=function(){var f=h.ua.yn(d,e);if(f){var g=f.id;if(e.Nc()){if(g=g?e.Kd(g):null){var k=g.Ua(),l=G(g),m=e.scale;g=(k.x+(e.H?-1:1)*l.width/2)*m;k=(k.y+l.height/2)*m;l=e.Mc();e.scroll(-(g-l.rb/2),-(k-l.Cb/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");
f.select()}};a.push(c)}},Kt:"procedures_defnoreturn"};
h.M.procedures_callreturn={P:function(){I(K(this,"TOPROW"),"","NAME");this.Td(!0);this.Nb("procedure_blocks");this.Hb=h.h.PROCEDURES_CALLRETURN_HELPURL;this.ya=[];this.Fh={};this.Cg=null;this.Vv=!0},Be:h.M.procedures_callnoreturn.Be,po:h.M.procedures_callnoreturn.po,jw:h.M.procedures_callnoreturn.jw,Sc:h.M.procedures_callnoreturn.Sc,fb:h.M.procedures_callnoreturn.fb,Fb:h.M.procedures_callnoreturn.Fb,rh:h.M.procedures_callnoreturn.rh,onchange:h.M.procedures_callnoreturn.onchange,rg:h.M.procedures_callnoreturn.rg,
Kt:"procedures_defreturn"};
h.M.procedures_ifreturn={P:function(){I(J(this,"CONDITION").lb("Boolean"),h.h.CONTROLS_IF_MSG_IF);I(J(this,"VALUE"),h.h.PROCEDURES_DEFRETURN_RETURN);this.Fc(!0);this.Ie(!0);this.He(!0);this.Nb("procedure_blocks");this.Ya(h.h.PROCEDURES_IFRETURN_TOOLTIP);this.Hb=h.h.PROCEDURES_IFRETURN_HELPURL;this.xi=!0},fb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("value",Number(this.xi));return a},Fb:function(a){this.xi=1==a.getAttribute("value");this.xi||(this.ib("VALUE"),I(K(this,"VALUE"),
h.h.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.w.nc&&!this.w.nc()){var a=!1,c=this;do{if(-1!=this.lD.indexOf(c.type)){a=!0;break}c=zc(c)}while(c);a?("procedures_defnoreturn"==c.type&&this.xi?(this.ib("VALUE"),I(K(this,"VALUE"),h.h.PROCEDURES_DEFRETURN_RETURN),this.xi=!1):"procedures_defreturn"!=c.type||this.xi||(this.ib("VALUE"),I(J(this,"VALUE"),h.h.PROCEDURES_DEFRETURN_RETURN),this.xi=!0),this.Yi(null),this.ec||this.Sd(!0)):(this.Yi(h.h.PROCEDURES_IFRETURN_WARNING),this.ec||Bc(this)||
this.Sd(!1))}},lD:["procedures_defnoreturn","procedures_defreturn"]};h.M.WI={};h.ma.V={};h.ma.V.wp=330;
h.wl([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
h.ma.V.SC={rg:function(a){if(!this.ec){if("variables_get"==this.type)var c="variables_set",d=h.h.VARIABLES_GET_CREATE_SET;else c="variables_get",d=h.h.VARIABLES_SET_CREATE_GET;var e={enabled:0<Da(this.w)},f=v(this,"VAR").$c();e.text=d.replace("%1",f);d=h.g.xml.createElement("field");d.setAttribute("name","VAR");d.appendChild(h.g.xml.createTextNode(f));f=h.g.xml.createElement("block");f.setAttribute("type",c);f.appendChild(d);e.zb=h.Aa.Tm(this,f);a.push(e)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)c={text:h.h.kL,enabled:!0,zb:h.ma.V.pE(this)},f=v(this,"VAR").$c(),e={text:h.h.tJ.replace("%1",f),enabled:!0,zb:h.ma.V.VC(this)},a.unshift(c),a.unshift(e)}};h.ma.V.pE=function(a){return function(){var c=a.w,d=v(a,"VAR").ad();h.V.wr(c,d)}};h.ma.V.VC=function(a){return function(){var c=a.w,d=v(a,"VAR").ad();c.kh(d.xa());nd(c)}};h.ba.qr("contextMenu_variableSetterGetter",h.ma.V.SC);h.m.ev={};h.m.lists_create_empty=function(){return["[]",h.m.pj]};h.m.lists_create_with=function(a){for(var c=Array(a.Od),d=0;d<a.Od;d++)c[d]=Q(a,"ADD"+d,h.m.Uc)||"null";return["["+c.join(", ")+"]",h.m.pj]};h.m.lists_repeat=function(a){var c=Ue("listsRepeat",["function "+h.m.Le+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),d=Q(a,"ITEM",h.m.Uc)||"null";a=Q(a,"NUM",h.m.Uc)||"0";return[c+"("+d+", "+a+")",h.m.tb]};
h.m.lists_length=function(a){return[(Q(a,"VALUE",h.m.Kb)||"[]")+".length",h.m.Kb]};h.m.lists_isEmpty=function(a){return["!"+(Q(a,"VALUE",h.m.Kb)||"[]")+".length",h.m.Bm]};h.m.lists_indexOf=function(a){var c="FIRST"==C(a,"END")?"indexOf":"lastIndexOf",d=Q(a,"FIND",h.m.od)||"''";c=(Q(a,"VALUE",h.m.Kb)||"[]")+"."+c+"("+d+")";return a.w.options.Eh?[c+" + 1",h.m.ai]:[c,h.m.tb]};
h.m.lists_getIndex=function(a){var c=C(a,"MODE")||"GET",d=C(a,"WHERE")||"FROM_START",e=Q(a,"VALUE","RANDOM"==d?h.m.Uc:h.m.Kb)||"[]";switch(d){case "FIRST":if("GET"==c)return[e+"[0]",h.m.Kb];if("GET_REMOVE"==c)return[e+".shift()",h.m.Kb];if("REMOVE"==c)return e+".shift();\n";break;case "LAST":if("GET"==c)return[e+".slice(-1)[0]",h.m.Kb];if("GET_REMOVE"==c)return[e+".pop()",h.m.Kb];if("REMOVE"==c)return e+".pop();\n";break;case "FROM_START":a=h.m.ug(a,"AT");if("GET"==c)return[e+"["+a+"]",h.m.Kb];if("GET_REMOVE"==
c)return[e+".splice("+a+", 1)[0]",h.m.tb];if("REMOVE"==c)return e+".splice("+a+", 1);\n";break;case "FROM_END":a=h.m.ug(a,"AT",1,!0);if("GET"==c)return[e+".slice("+a+")[0]",h.m.tb];if("GET_REMOVE"==c)return[e+".splice("+a+", 1)[0]",h.m.tb];if("REMOVE"==c)return e+".splice("+a+", 1);";break;case "RANDOM":e=Ue("listsGetRandomItem",["function "+h.m.Le+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];",
"  }","}"])+"("+e+", "+("GET"!=c)+")";if("GET"==c||"GET_REMOVE"==c)return[e,h.m.tb];if("REMOVE"==c)return e+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
h.m.lists_setIndex=function(a){function c(){if(d.match(/^\w+$/))return"";var k=Ed(h.m.Vd,"tmpList",h.bc),l="var "+k+" = "+d+";\n";d=k;return l}var d=Q(a,"LIST",h.m.Kb)||"[]",e=C(a,"MODE")||"GET",f=C(a,"WHERE")||"FROM_START",g=Q(a,"TO",h.m.Ug)||"null";switch(f){case "FIRST":if("SET"==e)return d+"[0] = "+g+";\n";if("INSERT"==e)return d+".unshift("+g+");\n";break;case "LAST":if("SET"==e)return a=c(),a+(d+"["+d+".length - 1] = "+g+";\n");if("INSERT"==e)return d+".push("+g+");\n";break;case "FROM_START":f=
h.m.ug(a,"AT");if("SET"==e)return d+"["+f+"] = "+g+";\n";if("INSERT"==e)return d+".splice("+f+", 0, "+g+");\n";break;case "FROM_END":f=h.m.ug(a,"AT",1,!1,h.m.Vk);a=c();if("SET"==e)return a+(d+"["+d+".length - "+f+"] = "+g+";\n");if("INSERT"==e)return a+(d+".splice("+d+".length - "+f+", 0, "+g+");\n");break;case "RANDOM":a=c();f=Ed(h.m.Vd,"tmpX",h.bc);a+="var "+f+" = Math.floor(Math.random() * "+d+".length);\n";if("SET"==e)return a+(d+"["+f+"] = "+g+";\n");if("INSERT"==e)return a+(d+".splice("+f+", 0, "+
g+");\n")}throw Error("Unhandled combination (lists_setIndex).");};h.m.ev.CG=function(a,c,d){return"FIRST"==c?"0":"FROM_END"==c?a+".length - 1 - "+d:"LAST"==c?a+".length - 1":d};
h.m.lists_getSublist=function(a){var c=Q(a,"LIST",h.m.Kb)||"[]",d=C(a,"WHERE1"),e=C(a,"WHERE2");if("FIRST"==d&&"LAST"==e)c+=".slice(0)";else if(c.match(/^\w+$/)||"FROM_END"!=d&&"FROM_START"==e){switch(d){case "FROM_START":var f=h.m.ug(a,"AT1");break;case "FROM_END":f=h.m.ug(a,"AT1",1,!1,h.m.Vk);f=c+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(e){case "FROM_START":a=h.m.ug(a,"AT2",1);break;case "FROM_END":a=h.m.ug(a,"AT2",0,!1,h.m.Vk);
a=c+".length - "+a;break;case "LAST":a=c+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}c=c+".slice("+f+", "+a+")"}else{f=h.m.ug(a,"AT1");a=h.m.ug(a,"AT2");var g=h.m.ev.CG,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};c=Ue("subsequence"+k[d]+k[e],["function "+h.m.Le+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+g("sequence",d,"at1")+";","  var end = "+g("sequence",e,
"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+c+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[c,h.m.tb]};
h.m.lists_sort=function(a){var c=Q(a,"LIST",h.m.tb)||"[]",d="1"===C(a,"DIRECTION")?1:-1;a=C(a,"TYPE");var e=Ue("listsGetSortCompare",["function "+h.m.Le+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[c+".slice().sort("+e+'("'+a+'", '+d+"))",h.m.tb]};h.m.lists_split=function(a){var c=Q(a,"INPUT",h.m.Kb),d=Q(a,"DELIM",h.m.od)||"''";a=C(a,"MODE");if("SPLIT"==a)c||(c="''"),a="split";else if("JOIN"==a)c||(c="[]"),a="join";else throw Error("Unknown mode: "+a);return[c+"."+a+"("+d+")",h.m.tb]};h.m.lists_reverse=function(a){return[(Q(a,"LIST",h.m.tb)||"[]")+".slice().reverse()",h.m.tb]};h.m.sH={};h.m.controls_if=function(a){var c=0,d="";h.m.ae&&(d+=P(h.m.ae,a));do{var e=Q(a,"IF"+c,h.m.od)||"false";var f=Re(a,"DO"+c);h.m.Xc&&(f=Qe(P(h.m.Xc,a),h.m.Dd)+f);d+=(0<c?" else ":"")+"if ("+e+") {\n"+f+"}";++c}while(y(a,"IF"+c));if(y(a,"ELSE")||h.m.Xc)f=Re(a,"ELSE"),h.m.Xc&&(f=Qe(P(h.m.Xc,a),h.m.Dd)+f),d+=" else {\n"+f+"}";return d+"\n"};h.m.controls_ifelse=h.m.controls_if;
h.m.logic_compare=function(a){var c={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[C(a,"OP")],d="=="==c||"!="==c?h.m.Xx:h.m.gE,e=Q(a,"A",d)||"0";a=Q(a,"B",d)||"0";return[e+" "+c+" "+a,d]};h.m.logic_operation=function(a){var c="AND"==C(a,"OP")?"&&":"||",d="&&"==c?h.m.Cs:h.m.Ds,e=Q(a,"A",d);a=Q(a,"B",d);if(e||a){var f="&&"==c?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+c+" "+a,d]};h.m.logic_negate=function(a){var c=h.m.Bm;return["!"+(Q(a,"BOOL",c)||"true"),c]};
h.m.logic_boolean=function(a){return["TRUE"==C(a,"BOOL")?"true":"false",h.m.pj]};h.m.logic_null=function(){return["null",h.m.pj]};h.m.logic_ternary=function(a){var c=Q(a,"IF",h.m.Gp)||"false",d=Q(a,"THEN",h.m.Gp)||"null";a=Q(a,"ELSE",h.m.Gp)||"null";return[c+" ? "+d+" : "+a,h.m.Gp]};h.m.uH={};h.m.controls_repeat_ext=function(a){var c=v(a,"TIMES")?String(Number(C(a,"TIMES"))):Q(a,"TIMES",h.m.Ug)||"0",d=Re(a,"DO");d=Se(d,a);a="";var e=Ed(h.m.Vd,"count",h.bc),f=c;c.match(/^\w+$/)||h.Gi(c)||(f=Ed(h.m.Vd,"repeat_end",h.bc),a+="var "+f+" = "+c+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};h.m.controls_repeat=h.m.controls_repeat_ext;
h.m.controls_whileUntil=function(a){var c="UNTIL"==C(a,"MODE"),d=Q(a,"BOOL",c?h.m.Bm:h.m.od)||"false",e=Re(a,"DO");e=Se(e,a);c&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
h.m.controls_for=function(a){var c=Dd(C(a,"VAR"),h.bc),d=Q(a,"FROM",h.m.Ug)||"0",e=Q(a,"TO",h.m.Ug)||"0",f=Q(a,"BY",h.m.Ug)||"1",g=Re(a,"DO");g=Se(g,a);if(h.Gi(d)&&h.Gi(e)&&h.Gi(f)){var k=Number(d)<=Number(e);a="for ("+c+" = "+d+"; "+c+(k?" <= ":" >= ")+e+"; "+c;c=Math.abs(Number(f));a=(1==c?a+(k?"++":"--"):a+((k?" += ":" -= ")+c))+(") {\n"+g+"}\n")}else a="",k=d,d.match(/^\w+$/)||h.Gi(d)||(k=Ed(h.m.Vd,c+"_start",h.bc),a+="var "+k+" = "+d+";\n"),d=e,e.match(/^\w+$/)||h.Gi(e)||(d=Ed(h.m.Vd,c+"_end",
h.bc),a+="var "+d+" = "+e+";\n"),e=Ed(h.m.Vd,c+"_inc",h.bc),a+="var "+e+" = ",a=h.Gi(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(h.m.Dd+e+" = -"+e+";\n"),a+="}\n",a+="for ("+c+" = "+k+"; "+e+" >= 0 ? "+c+" <= "+d+" : "+c+" >= "+d+"; "+c+" += "+e+") {\n"+g+"}\n";return a};
h.m.controls_forEach=function(a){var c=Dd(C(a,"VAR"),h.bc),d=Q(a,"LIST",h.m.Ug)||"[]",e=Re(a,"DO");e=Se(e,a);a="";var f=d;d.match(/^\w+$/)||(f=Ed(h.m.Vd,c+"_list",h.bc),a+="var "+f+" = "+d+";\n");d=Ed(h.m.Vd,c+"_index",h.bc);e=h.m.Dd+c+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};
h.m.controls_flow_statements=function(a){var c="";h.m.ae&&(c+=P(h.m.ae,a));h.m.Xc&&(c+=P(h.m.Xc,a));if(h.m.ae){var d=h.ma.Me.kp.lA(a);d&&!d.$i&&(c+=P(h.m.ae,d))}switch(C(a,"FLOW")){case "BREAK":return c+"break;\n";case "CONTINUE":return c+"continue;\n"}throw Error("Unknown flow statement.");};h.m.oc={};h.m.math_number=function(a){a=Number(C(a,"NUM"));return[a,0<=a?h.m.pj:h.m.Dm]};h.m.math_arithmetic=function(a){var c={ADD:[" + ",h.m.ai],MINUS:[" - ",h.m.Vk],MULTIPLY:[" * ",h.m.Es],DIVIDE:[" / ",h.m.Am],POWER:[null,h.m.Uc]}[C(a,"OP")],d=c[0];c=c[1];var e=Q(a,"A",c)||"0";a=Q(a,"B",c)||"0";return d?[e+d+a,c]:["Math.pow("+e+", "+a+")",h.m.tb]};
h.m.math_single=function(a){var c=C(a,"OP");if("NEG"==c)return a=Q(a,"NUM",h.m.Dm)||"0","-"==a[0]&&(a=" "+a),["-"+a,h.m.Dm];a="SIN"==c||"COS"==c||"TAN"==c?Q(a,"NUM",h.m.Am)||"0":Q(a,"NUM",h.m.od)||"0";switch(c){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,h.m.tb];switch(c){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+c);}return[d,h.m.Am]};
h.m.math_constant=function(a){return{PI:["Math.PI",h.m.Kb],E:["Math.E",h.m.Kb],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",h.m.Am],SQRT2:["Math.SQRT2",h.m.Kb],SQRT1_2:["Math.SQRT1_2",h.m.Kb],INFINITY:["Infinity",h.m.pj]}[C(a,"CONSTANT")]};
h.m.math_number_property=function(a){var c=Q(a,"NUMBER_TO_CHECK",h.m.Cm)||"0",d=C(a,"PROPERTY");if("PRIME"==d){var e=Ue("mathIsPrime",["function "+h.m.Le+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+c+")";return[e,h.m.tb]}switch(d){case "EVEN":e=c+" % 2 == 0";break;case "ODD":e=c+" % 2 == 1";break;case "WHOLE":e=c+" % 1 == 0";break;case "POSITIVE":e=c+" > 0";break;case "NEGATIVE":e=c+" < 0";break;case "DIVISIBLE_BY":a=Q(a,"DIVISOR",h.m.Cm)||"0",e=c+" % "+a+" == 0"}return[e,h.m.Xx]};
h.m.math_change=function(a){var c=Q(a,"DELTA",h.m.ai)||"0";a=Dd(C(a,"VAR"),h.bc);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+c+";\n"};h.m.math_round=h.m.math_single;h.m.math_trig=h.m.math_single;
h.m.math_on_list=function(a){var c=C(a,"OP");switch(c){case "SUM":a=Q(a,"LIST",h.m.Kb)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Q(a,"LIST",h.m.Uc)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Q(a,"LIST",h.m.Uc)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":c=Ue("mathMean",["function "+h.m.Le+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Q(a,"LIST",h.m.od)||"[]";a=c+"("+a+")";break;case "MEDIAN":c=
Ue("mathMedian",["function "+h.m.Le+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Q(a,"LIST",h.m.od)||"[]";a=c+"("+a+")";break;case "MODE":c=Ue("mathModes",
["function "+h.m.Le+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Q(a,"LIST",h.m.od)||"[]";a=c+"("+a+")";break;case "STD_DEV":c=Ue("mathStandardDeviation",["function "+h.m.Le+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Q(a,"LIST",h.m.od)||"[]";a=c+"("+a+")";break;case "RANDOM":c=Ue("mathRandomList",["function "+h.m.Le+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Q(a,"LIST",h.m.od)||"[]";a=c+"("+a+")";break;default:throw Error("Unknown operator: "+c);}return[a,h.m.tb]};h.m.math_modulo=function(a){var c=Q(a,"DIVIDEND",h.m.Cm)||"0";a=Q(a,"DIVISOR",h.m.Cm)||"0";return[c+" % "+a,h.m.Cm]};
h.m.math_constrain=function(a){var c=Q(a,"VALUE",h.m.Uc)||"0",d=Q(a,"LOW",h.m.Uc)||"0";a=Q(a,"HIGH",h.m.Uc)||"Infinity";return["Math.min(Math.max("+c+", "+d+"), "+a+")",h.m.tb]};
h.m.math_random_int=function(a){var c=Q(a,"FROM",h.m.Uc)||"0";a=Q(a,"TO",h.m.Uc)||"0";return[Ue("mathRandomInt",["function "+h.m.Le+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+c+", "+a+")",h.m.tb]};h.m.math_random_float=function(){return["Math.random()",h.m.tb]};
h.m.math_atan2=function(a){var c=Q(a,"X",h.m.Uc)||"0";return["Math.atan2("+(Q(a,"Y",h.m.Uc)||"0")+", "+c+") / Math.PI * 180",h.m.Am]};h.m.iI={};h.m.procedures_defreturn=function(a){var c=Dd(C(a,"NAME"),h.Fm),d="";h.m.ae&&(d+=P(h.m.ae,a));h.m.Xc&&(d+=P(h.m.Xc,a));d&&(d=Qe(d,h.m.Dd));var e="";h.m.yp&&(e=Qe(P(h.m.yp,a),h.m.Dd));var f=Re(a,"STACK"),g=Q(a,"RETURN",h.m.od)||"",k="";f&&g&&(k=d);g&&(g=h.m.Dd+"return "+g+";\n");for(var l=[],m=0;m<a.ya.length;m++)l[m]=Dd(a.ya[m],h.bc);d="function "+c+"("+l.join(", ")+") {\n"+d+e+f+k+g+"}";d=h.m.to(a,d);h.m.mi["%"+c]=d;return null};h.m.procedures_defnoreturn=h.m.procedures_defreturn;
h.m.procedures_callreturn=function(a){for(var c=Dd(C(a,"NAME"),h.Fm),d=[],e=0;e<a.ya.length;e++)d[e]=Q(a,"ARG"+e,h.m.Uc)||"null";return[c+"("+d.join(", ")+")",h.m.tb]};h.m.procedures_callnoreturn=function(a){return h.m.procedures_callreturn(a)[0]+";\n"};h.m.procedures_ifreturn=function(a){var c="if ("+(Q(a,"CONDITION",h.m.od)||"false")+") {\n";h.m.Xc&&(c+=Qe(P(h.m.Xc,a),h.m.Dd));a.xi?(a=Q(a,"VALUE",h.m.od)||"null",c+=h.m.Dd+"return "+a+";\n"):c+=h.m.Dd+"return;\n";return c+"}\n"};h.m.WI={};h.m.variables_get=function(a){return[Dd(C(a,"VAR"),h.bc),h.m.pj]};h.m.variables_set=function(a){var c=Q(a,"VALUE",h.m.Ug)||"0";return Dd(C(a,"VAR"),h.bc)+" = "+c+";\n"};for(var ff in h.ma.nd.$r)h.M.controls_if[ff]=h.ma.nd.$r[ff];h.M.controls_if.P=function(){this.Hb=h.h.CONTROLS_IF_HELPURL;this.fd(h.h.LOGIC_HUE);I(J(this,"IF0").lb("Boolean"),"if (");I(K(this),") {");Cc(this,"DO0");I(K(this,"TAIL"),"}");this.Fc(!0);this.Ie(!0);this.He(!0);this.Xi(new h.Vb(["controls_if_elseif","controls_if_else"]));h.ma.nd.$w.apply(this)};
h.M.controls_if.Sc=function(){y(this,"ELSE")&&(this.ib("ELSEMSG"),this.ib("ELSE"));for(var a=1;y(this,"IF"+a);)this.ib("IF"+a),this.ib("TAIL"+a),this.ib("DO"+a),a++;for(a=1;a<=this.je;a++)I(J(this,"IF"+a).lb("Boolean"),"} else if ("),I(K(this,"TAIL"+a),") {"),Cc(this,"DO"+a);this.Xe&&(I(K(this,"ELSEMSG"),"} else {"),Cc(this,"ELSE"));Dc(this,"TAIL",null)};
h.M.logic_compare.P=function(){this.Hb=h.h.LOGIC_COMPARE_HELPURL;this.fd(h.h.LOGIC_HUE);this.Td(!0,"Boolean");J(this,"A");I(J(this,"B"),new h.Sa([["==","EQ"],["!=","NEQ"],["<","LT"],["<=","LTE"],[">","GT"],[">=","GTE"]]),"OP");this.Fc(!0);var a=this;this.Ya(function(){var c=C(a,"OP");return{EQ:h.h.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:h.h.LOGIC_COMPARE_TOOLTIP_NEQ,LT:h.h.LOGIC_COMPARE_TOOLTIP_LT,LTE:h.h.LOGIC_COMPARE_TOOLTIP_LTE,GT:h.h.LOGIC_COMPARE_TOOLTIP_GT,GTE:h.h.LOGIC_COMPARE_TOOLTIP_GTE}[c]});this.Ul=
[null,null]};h.h.LOGIC_OPERATION_AND="&&";h.h.LOGIC_OPERATION_OR="||";h.h.LOGIC_NEGATE_TITLE="! %1";h.h.LOGIC_BOOLEAN_TRUE="true";h.h.LOGIC_BOOLEAN_FALSE="false";h.M.controls_whileUntil.P=function(){L(this,{message0:"while ( %1 ) { %2 %3 }",args0:[{type:"input_value",name:"BOOL",check:"Boolean"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.LOOPS_HUE,tooltip:h.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,helpUrl:h.h.CONTROLS_WHILEUNTIL_HELPURL})};
h.M.controls_for.P=function(){L(this,{message0:"for (var %1 = %2;  %3 < %4;  %5 += 1) { %6 %7 }",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR1",text:"?"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR2",text:"?"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.LOOPS_HUE,helpUrl:h.h.CONTROLS_FOR_HELPURL});
var a=this;this.Ya(function(){return h.h.CONTROLS_FOR_TOOLTIP.replace("%1",C(a,"VAR"))})};h.M.controls_for.onchange=function(){var a=v(this,"VAR").$c();Ac(this,a,"VAR1");Ac(this,a,"VAR2")};h.m.controls_for=function(a){var c=Dd(C(a,"VAR"),h.V.Fp),d=Q(a,"FROM",h.m.Ug)||"0",e=Q(a,"TO",h.m.Ug)||"0",f=Re(a,"DO");f=Se(f,a.id);return"for (var "+c+" = "+d+"; "+c+" < "+e+"; "+c+" += 1) {\n"+f+"}\n"};h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break ;";h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue ;";
h.M.math_arithmetic.P=function(){L(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:h.h.MATH_HUE,helpUrl:h.h.MATH_ARITHMETIC_HELPURL});var a=this;this.Ya(function(){var c=C(a,"OP");return{ADD:h.h.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:h.h.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:h.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,
DIVIDE:h.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE}[c]})};h.M.math_change.P=function(){L(this,{message0:"%1 += %2;",args0:[{type:"field_variable",name:"VAR",variable:"name"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.VARIABLES_HUE,helpUrl:h.h.MATH_CHANGE_HELPURL});var a=this;this.Ya(function(){return h.h.MATH_CHANGE_TOOLTIP.replace("%1",v(a,"VAR").ad().name)})};
h.m.math_change=function(a){var c=Q(a,"DELTA",h.m.ai)||"0";return Dd(C(a,"VAR"),h.V.Fp)+" += "+c+";\n"};h.M.math_random_int.P=function(){L(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:h.h.MATH_HUE,tooltip:h.h.MATH_RANDOM_INT_TOOLTIP,helpUrl:h.h.MATH_RANDOM_INT_HELPURL})};h.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="Math.random  (  )";h.h.LISTS_CREATE_EMPTY_TITLE="[ ]";
h.h.LISTS_CREATE_WITH_INPUT_WITH="[";h.M.lists_create_with.Sc=function(){y(this,"TAIL")&&this.ib("TAIL");this.Od&&y(this,"EMPTY")?this.ib("EMPTY"):this.Od||y(this,"EMPTY")||I(K(this,"EMPTY"),h.h.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.Od;a++)if(!y(this,"ADD"+a)){var c=J(this,"ADD"+a);0==a?I(c,h.h.LISTS_CREATE_WITH_INPUT_WITH):I(c,",")}for(;y(this,"ADD"+a);)this.ib("ADD"+a),a++;this.Od&&I(K(this,"TAIL"),"]")};
h.M.lists_getIndex={P:function(){L(this,{message0:"%1[%2]",args0:[{type:"input_value",name:"VALUE",check:"Array"},{type:"input_value",name:"AT",check:"Number"}],inputsInline:!0,output:null,colour:h.h.LISTS_HUE,tooltip:h.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM+h.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:h.h.LISTS_GET_INDEX_HELPURL})}};
h.M.lists_setIndex={P:function(){L(this,{message0:"%1[%2] = %3;",args0:[{type:"input_value",name:"LIST",check:"Array"},{type:"input_value",name:"AT",check:"Number"},{type:"input_value",name:"TO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.LISTS_HUE,tooltip:h.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM+h.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:h.h.LISTS_SET_INDEX_HELPURL})}};h.h.LISTS_LENGTH_TITLE="%1 . length";
h.M.variables_get.P=function(){this.Hb=h.h.VARIABLES_GET_HELPURL;this.fd(h.h.VARIABLES_HUE);I(K(this),new h.Cd("name"),"VAR");this.Td(!0);this.Ya(h.h.VARIABLES_GET_TOOLTIP)};h.M.variables_set.P=function(){this.Hb=h.h.VARIABLES_SET_HELPURL;this.fd(h.h.VARIABLES_HUE);I(I(I(J(this,"VALUE"),"var"),new h.Cd("name"),"VAR"),"=");I(K(this),";");this.Fc(!0);this.Ie(!0);this.He(!0);this.Ya(h.h.VARIABLES_SET_TOOLTIP)};
h.M.procedures_defnoreturn.P=function(){var a=new h.Ub("",h.ua.rr);I(I(I(I(I(K(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");this.Gg(!0);I(K(this),"}");this.Xi(new h.Vb(["procedures_mutatorarg"]));h.h.PROCEDURES_DEFNORETURN_COMMENT&&this.Eg(h.h.PROCEDURES_DEFNORETURN_COMMENT);this.fd(h.h.PROCEDURES_HUE);this.Ya(h.h.PROCEDURES_DEFNORETURN_TOOLTIP);this.Hb=h.h.PROCEDURES_DEFNORETURN_HELPURL;this.ya=[];this.dc=[];this.Gg(!0);this.Rf=null};
h.M.procedures_defreturn.P=function(){var a=new h.Ub("",h.ua.rr);I(I(I(I(I(K(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");I(yc(J(this,"RETURN"),h.Gk),"return");I(K(this),"}");this.Xi(new h.Vb(["procedures_mutatorarg"]));h.h.PROCEDURES_DEFRETURN_COMMENT&&this.Eg(h.h.PROCEDURES_DEFRETURN_COMMENT);this.fd(h.h.PROCEDURES_HUE);this.Ya(h.h.PROCEDURES_DEFRETURN_TOOLTIP);this.Hb=h.h.PROCEDURES_DEFRETURN_HELPURL;this.ya=[];this.dc=[];this.Gg(!0);this.Rf=null};h.h.PROCEDURES_BEFORE_PARAMS="";
h.M.procedures_callnoreturn.P=function(){this.Hb=h.h.PROCEDURES_CALLNORETURN_HELPURL;this.fd(h.h.PROCEDURES_HUE);I(I(K(this),"","NAME"),"(");I(K(this,"TAIL"),");");this.Fc(!0);this.Ie(!0);this.He(!0);this.Ya(h.h.PROCEDURES_CALLNORETURN_TOOLTIP);this.ya=[];this.Fh={}};h.M.procedures_callnoreturn.Sc=function(){for(var a=0;a<this.ya.length;a++)if(!y(this,"ARG"+a)){new h.Yd(this.ya[a]);var c=J(this,"ARG"+a);0<a&&I(c,",");c.P()}for(;y(this,"ARG"+a);)this.ib("ARG"+a),a++;Dc(this,"TAIL",null)};
h.M.procedures_callreturn.P=function(){this.Hb=h.h.PROCEDURES_CALLRETURN_HELPURL;this.fd(h.h.PROCEDURES_HUE);I(I(K(this),"","NAME"),"(");I(K(this,"TAIL"),")");this.Fc(!0);this.Td(!0);this.Ya(h.h.PROCEDURES_CALLRETURN_TOOLTIP);this.ya=[];this.Fh={}};h.M.procedures_callreturn.Sc=h.M.procedures_callnoreturn.Sc;delete h.M.procedures_ifreturn;function gf(a,c){return function(d){var e=Re(d,"STACK"),f=Q(d,"RETURN",h.m.od)||"";e="function "+a+"("+c+") {\n"+e+("  return "+f+";\n}");e=h.m.to(d,e);h.m.mi[a]=e;return null}}function hf(a,c,d){return function(){L(this,{message0:"function %1(%2) { %3 %4 return %5 }",args0:[a,c,{type:"input_dummy"},{type:"input_statement",name:"STACK"},{type:"input_value",check:d,align:"right",name:"RETURN"}],inputsInline:!0,colour:360,tooltip:N("Genetics_"+a+"Tooltip")})}}
h.M.genetics_pickFight={P:hf("pickFight","","Mouse")};h.m.genetics_pickFight=gf("pickFight","");h.M.genetics_proposeMate={P:hf("proposeMate","","Mouse")};h.m.genetics_proposeMate=gf("proposeMate","");
h.M.genetics_acceptMate={P:hf("acceptMate","suitor","Boolean"),zq:function(){return["suitor"]},rg:function(a){if(!this.isCollapsed()){var c={enabled:!0};c.text=h.h.VARIABLES_SET_CREATE_GET.replace("%1","suitor");var d=h.g.xml.createElement("block");d.setAttribute("type","variables_get");var e=h.g.xml.createElement("field");e.setAttribute("name","VAR");var f=h.g.xml.createTextNode("suitor");e.appendChild(f);d.appendChild(e);c.zb=h.Aa.Tm(this,d);a.push(c)}}};
h.m.genetics_acceptMate=gf("acceptMate","suitor");h.M.genetics_getSelf={P:function(){L(this,{message0:"%1(%2)",args0:["getSelf",""],output:"Mouse",colour:20,tooltip:N("Genetics_getSelfTooltip")})}};h.m.genetics_getSelf=function(){return["getSelf()",h.m.tb]};h.M.genetics_getMice={P:function(){L(this,{message0:"%1(%2)",args0:["getMice",""],output:"Array",colour:20,tooltip:N("Genetics_getMiceTooltip")})}};h.m.genetics_getMice=function(){return["getMice()",h.m.tb]};
h.M.genetics_getProperties={P:function(){var a=this;this.fd(20);J(this,"MOUSE").lb("Mouse");var c=new h.Sa([["size","SIZE"],["aggressiveness","AGGRESSIVENESS"],["startAggressiveness","START_AGGRESSIVENESS"],["fertility","FERTILITY"],["startFertility","START_FERTILITY"],["sex","SEX"],["age","AGE"],["id","ID"],["pickFightOwner","PICK_FIGHT"],["proposeMateOwner","PROPOSE_MATE"],["acceptMateOwner","ACCEPT_MATE"]],function(d){a.cj(d)});I(K(this),c,"PROPERTY");this.Fc(!0);this.Td(!0,"Number");this.Ya(function(){var d=
C(a,"PROPERTY");return{SIZE:N("Genetics_sizeTooltip"),AGGRESSIVENESS:N("Genetics_aggressivenessTooltip"),FERTILITY:N("Genetics_fertilityTooltip"),START_FERTILITY:N("Genetics_startFertilityTooltip"),SEX:N("Genetics_sexTooltip"),AGE:N("Genetics_ageTooltip"),ID:N("Genetics_idTooltip"),PICK_FIGHT:N("Genetics_pickFightOwnerTooltip"),PROPOSE_MATE:N("Genetics_proposeMateOwnerTooltip"),ACCEPT_MATE:N("Genetics_acceptMateOwnerTooltip")}[d]})},cj:function(a){"SEX"==a?this.K.lb("String"):this.K.lb("Number")},
fb:function(){var a=document.createElement("mutation");a.setAttribute("property",C(this,"PROPERTY"));return a},Fb:function(a){this.cj(a.getAttribute("property"))}};
h.m.genetics_getProperties=function(a){var c=Q(a,"MOUSE",h.m.od)||"me()";a=C(a,"PROPERTY");c+=".";switch(a){case "SIZE":c+="size";break;case "AGGRESSIVENESS":c+="aggressiveness";break;case "START_AGGRESSIVENESS":c+="startAggressiveness";break;case "FERTILITY":c+="fertility";break;case "START_FERTILITY":c+="startFertility";break;case "SEX":c+="sex";break;case "AGE":c+="age";break;case "ID":c+="id";break;case "PICK_FIGHT":c+="pickFightOwner";break;case "PROPOSE_MATE":c+="proposeMateOwner";break;case "ACCEPT_MATE":c+=
"acceptMateOwner";break;default:throw Error("Unknown mouse property: "+a);}return[c,h.m.Kb]};h.M.genetics_sex={P:function(){L(this,{message0:"Sex.%1",args0:[{type:"field_dropdown",name:"TYPE",options:[["Male","MALE"],["Female","FEMALE"]]}],output:"String",colour:20})}};h.m.genetics_sex=function(a){var c="Genetics.Mouse.Sex.";c="MALE"==C(a,"TYPE")?c+"Male":c+"Female";return[c,h.m.Kb]};
h.M.genetics_math_randomInt={P:function(){L(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"MIN_VALUE",check:"Number"},{type:"input_value",name:"MAX_VALUE",check:"Number"}],inputsInline:!0,output:"Number",colour:h.h.MATH_HUE,helpUrl:h.h.MATH_RANDOM_INT_HELPURL,tooltip:h.h.MATH_RANDOM_INT_TOOLTIP})}};h.m.genetics_math_randomInt=function(a){var c=Q(a,"MIN_VALUE",h.m.Uc)||"0";a=Q(a,"MAX_VALUE",h.m.Uc)||"0";return["Math.randomInt("+c+", "+a+")",h.m.tb]};function jf(a,c,d,e,f){function g(m,n){return Math.floor(Math.random()*n-m+1)+m}if(e&&f){d=g(0,1);var k=g(0,1),l=d===k?!k:g(0,1);this.wd=d?e.wd:f.wd;this.yd=k?e.yd:f.yd;this.pd=l?e.pd:f.pd;this.size=h.g.oc.Se((e.size+f.size)/2+g(-1,1),1,10);this.Af=this.Eo=Math.max(0,Math.round((e.Eo,f.Eo)/2)+g(-1,1));this.Fo=Math.max(0,Math.round((e.Fo+f.Fo)/2)+g(-1,1))}else this.pd=this.yd=this.wd=d,this.Eo=this.size=2,this.Af=0,this.Fo=4;this.Ze=this.Fo;this.Rp=0;this.id=a;this.Ob=c}var kf={mK:"Male",OJ:"Female"};var lf=!0,R=[],S=[],mf=[],T={},nf=0,of=[],pf=!1,qf={ADD:["MOUSE"],START_GAME:[],NEXT_ROUND:[],FIGHT:["ID","RESULT","OPT_OPPONENT"],MATE:["ID","RESULT","OPT_PARTNER","OPT_OFFSPRING"],RETIRE:["ID"],OVERPOPULATION:["ID"],EXPLODE:["ID","SOURCE","CAUSE"],END_GAME:["IS_SUCCESS","OPT_RANKINGS"]};function U(a,c){var d=qf[a];this.TYPE=a;for(var e=0;e<d.length;e++)this[d[e]]=arguments[e+1]}function V(a){of.push(a)}var rf=0,sf=0,tf=!1;
function uf(){lf=!0;clearTimeout(nf);of.length=0;T={};S.length=0;rf=mf.length=0}var vf="",wf=!1,xf=!1,yf=!1;
function zf(){if(pf||100>of.length){0==mf.length&&(10>rf&&(mf=S.slice(0),V(new U("NEXT_ROUND"))),rf++);if(mf.length){var a=mf.shift();if(0!=a.id&&!wf||0==a.id&&!xf)if(a.Rp++,!yf&&0<a.Af){var c=Af(a,"pickFight");a.Af--;if(c.Fr)if(c=c.value,null===c)V(new U("FIGHT",a.id,"NONE")),a.Af=0;else if("object"==typeof c&&T.hasOwnProperty(c.id))if(c=T[c.id],a.id==c.id)V(new U("FIGHT",a.id,"SELF")),Bf(a);else{var d=tf?c.size-a.size:Math.random()-a.size/(a.size+c.size);.1>Math.abs(d)?V(new U("FIGHT",a.id,"TIE",
c.id)):0>d?(V(new U("FIGHT",a.id,"WIN",c.id)),Bf(c)):(V(new U("FIGHT",a.id,"LOSS",c.id)),Bf(a))}else V(new U("EXPLODE",a.id,"pickFight","Invalid return")),Bf(a);else V(new U("EXPLODE",a.id,"pickFight",c.yt)),Bf(a)}else if(0<a.Ze)if(d=Af(a,"proposeMate"),d.Fr)if(d=d.value,null===d)V(new U("MATE",a.id,"NONE")),a.Ze=0;else if("object"==typeof d&&T.hasOwnProperty(d.id)){d=T[d.id];if(Cf(a,d)){for(var e=sf++,f=0,g=0,k=0,l;l=S[k];k++)f+=l.Ze,"Female"==l.Ob&&(g+=l.Ze);e=new jf(e,Math.random()<g/f?"Male":
"Female",null,a,d);T[e.id]=e;S.unshift(e);V(new U("MATE",a.id,"SUCCESS",d.id,e));if(50<Object.keys(T).length){d=null;for(c in T)if(e=T[c],!d||e.Rp>d.Rp)d=e;V(new U("OVERPOPULATION",d.id));Bf(d)}}a.Ze--}else V(new U("EXPLODE",a.id,"proposeMate","Invalid return")),Bf(a);else V(new U("EXPLODE",a.id,"proposeMate",d.yt)),Bf(a);else V(new U("RETIRE",a.id)),Bf(a)}Df()&&(lf=!0,clearTimeout(nf))}lf||(nf=setTimeout(zf,50))}
function Df(){var a={pickFight:[],proposeMate:[],acceptMate:[]};if(0==S.length)return V(new U("END_GAME",!1,a)),!0;for(var c={pickFight:[0,0,0,0],proposeMate:[0,0,0,0],acceptMate:[0,0,0,0]},d=10<rf,e=S[0],f=0,g;g=S[f];f++){if(!d&&(g.wd!=e.wd||g.yd!=e.yd||g.pd!=e.pd))return!1;c.pickFight[g.wd]++;c.proposeMate[g.yd]++;c.acceptMate[g.pd]++}if(!d)return c=S[0].wd,f=S[0].yd,d=S[0].pd,a.pickFight.push([c]),a.proposeMate.push([f]),a.acceptMate.push([d]),V(new U("END_GAME",0==c&&0==f&&0==d,a)),!0;a={pickFight:[],
proposeMate:[],acceptMate:[]};d=["pickFight","proposeMate","acceptMate"];for(e=0;e<R.length;e++){f=0;for(var k;k=d[f];f++){g=c[k];k=a[k];for(var l=!1,m=0;!l&&m<k.length;m++){var n=k[m][0];g[e]==g[n]?(k[m].push(e),l=!0):g[e]>g[n]&&(k.splice(m,0,[e]),l=!0)}l||k.push([e])}}V(new U("END_GAME",!1,a));return!0}
function Cf(a,c){if(a.id==c.id)return V(new U("MATE",a.id,"SELF")),!1;var d=Af(c,"acceptMate",a);if(!d.Fr)return V(new U("MATE",a.id,"MATE_EXPLODED",c.id)),V(new U("EXPLODE",c.id,"acceptMate",d.yt)),Bf(c),!1;if(!d.value)return V(new U("MATE",a.id,"REJECTION",c.id)),!1;c.Ze--;return a.Ob==c.Ob?(V(new U("MATE",a.id,"INCOMPATIBLE",c.id)),!1):0>c.Ze?(V(new U("MATE",a.id,"INFERTILE",c.id)),!1):!0}
function Bf(a){var c=S.indexOf(a);-1!=c&&S.splice(c,1);c=mf.indexOf(a);-1!=c&&S.splice(c,1);delete T[a.id]}
function Af(a,c,d){switch(c){case "pickFight":var e=a.wd;break;case "proposeMate":e=a.yd;break;case "acceptMate":e=a.pd}var f=R[e].name,g=R[e].code;if("function"==typeof g)g=R[e].gF;else if("string"!=typeof g)throw Error('Mouse "'+f+'" has invalid code: '+g);try{var k="object"==typeof Babel?Babel.transform(g,{presets:["es2015"]}).code:void 0;g=k||g}catch(m){throw alert(m),Error('Mouse "'+f+'" has error in code:\n'+m);}try{var l=new Interpreter(g,Ef.bind(null,a,d));switch(c){case "pickFight":l.appendCode("proposeMate = null;");
l.appendCode("acceptMate = null;");l.appendCode("pickFight();");break;case "proposeMate":l.appendCode("pickFight = null;");l.appendCode("acceptMate = null;");l.appendCode("proposeMate();");break;case "acceptMate":l.appendCode("pickFight = null;"),l.appendCode("proposeMate = null;"),l.appendCode("acceptMate(getSuitor());")}}catch(m){l=new Interpreter("throw SyntaxError('"+c+"')",Ef.bind(null,a,d))}a=l;c={};try{for(d=1E5;a.step();)if(0>=d--)throw Infinity;c.Fr=!0;c.value=a.pseudoToNative(a.value)}catch(m){c.yt=
Infinity==m?"Timeout":m,c.Fr=!1}return c}
function Ef(a,c,d,e){for(var f=void 0,g=d.ARRAY,k=d.createObject(d.ARRAY),l=0,m=0,n;n=S[m];m++){var q=d.nativeToPseudo({pickFightOwner:n.wd,proposeMateOwner:n.yd,acceptMateOwner:n.pd,sex:n.Ob,size:n.size,startAggressiveness:n.Eo,aggressiveness:n.Af,startFertility:n.Fo,fertility:n.Ze,age:n.Rp,id:n.id});n.id==a.id?f=q:(d.setProperty(k,l++,q),c&&n.id==c.id&&(g=q))}d.setProperty(e,"getSelf",d.createNativeFunction(function(){return f}));d.setProperty(e,"getMice",d.createNativeFunction(function(){return k}));
g&&d.setProperty(e,"getSuitor",d.createNativeFunction(function(){return g}));a=d.nativeToPseudo(kf);d.setProperty(e,"Sex",a);if(a=d.getProperty(e,"Math"))e=function(r,x){return Math.floor(Math.random()*(x-r+1))+r},d.setProperty(a,"randomInt",d.createNativeFunction(e))};function Ff(a){function c(){var f=400+100*Math.random();Gf||e.fe||Hf(e,f);e.Om[0]=setTimeout(c,f)}this.id=a.id;this.Ob=a.Ob;this.size=a.size;this.wd=a.wd;this.yd=a.yd;this.pd=a.pd;this.element=h.g.o.J("svg",{id:"mouse"+a.id,"class":"mouse"},null);this.element.style.transformOrigin="20px 20px";var d=h.g.o.J("clipPath",{id:"mouse"+a.id+"ClipPath"},this.element);h.g.o.J("rect",{width:"40px",height:"60px"},d);this.Gn=h.g.o.J("image",{width:"120px",height:"120px","clip-path":"url(#mouse"+a.id+"ClipPath)"},
this.element);"Female"==this.Ob&&this.Gn.setAttribute("y","-60px");this.Gn.setAttributeNS(h.g.o.zf,"xlink:href","genetics/mouse.png");a=7.5*(1+.5*Math.sqrt(3))+12.5;d=7.5*(1-.5*Math.sqrt(3))+12.5;h.g.o.J("path",{fill:If[this.yd],d:"M 20 28.5 A 7.5 7.5, 0, 0, 1, "+a+" 39.75 L 20 36 Z"},this.element);h.g.o.J("path",{fill:If[this.wd],d:"M "+a+" 39.75 A 7.5 7.5, 0, 0, 1, "+d+" 39.75 L 20 36 Z"},this.element);h.g.o.J("path",{fill:If[this.pd],d:"M "+d+" 39.75 A 7.5 7.5, 0, 0, 1, 20 28.5 L 20 36 Z"},this.element);
this.St=2*Math.random()*Math.PI;this.fe=!0;this.Om=[0,0];var e=this;c()}var Jf=0,Gf=!1;Ff.prototype.setDirection=function(a){a%=2*Math.PI;0>a&&(a+=2*Math.PI);var c=this.St-a;if(Math.abs(c)>Math.PI/10){var d=this.Gn,e=function(){d.setAttribute("x","0px")};0<c?(this.Gn.setAttribute("x","-40px"),setTimeout(e,150)):0>c&&(this.Gn.setAttribute("x","-80px"),setTimeout(e,150))}this.element.style.transform="rotate("+(a+Math.PI/2)+"rad)";this.St=a};
Ff.prototype.stop=function(){for(var a=0;a<this.Om.length;a++)clearTimeout(this.Om[a]);Kf(this);this.element.style.animation=""};function Kf(a){var c=window.getComputedStyle(a.element),d=c.left;a.element.style.top=c.top;a.element.style.left=d;a.element.style.transition=""}
Ff.prototype.move=function(a,c,d,e){var f=h.g.oc.Se(a,0,Jf-40),g=h.g.oc.Se(c,0,Jf-40),k=parseInt(this.element.style.left,10),l=parseInt(this.element.style.top,10),m=f-k,n=g-l;e=null!=e?e:Math.hypot(Math.abs(m),Math.abs(n))/.07;10>e||1>Math.abs(m)&&1>Math.abs(n)?(this.element.style.left=f+"px",this.element.style.top=g+"px",this.setDirection(Math.atan2(c-l,a-k))):(this.setDirection(Math.atan2(n,m)),this.element.style.transition="top "+e+"ms linear, left "+e+"ms linear",this.element.style.left=f+"px",
this.element.style.top=g+"px");this.Om[1]=setTimeout(d,e)};function Hf(a,c){var d=Math.PI/2;d=a.St+Math.random()*d-d/2;var e=.05*c;a.move(parseInt(a.element.style.left,10)+Math.cos(d)*e,parseInt(a.element.style.top,10)+Math.sin(d)*e,function(){},c)}Ff.prototype.$e=function(a){a?Lf(this,this.$e.bind(this)):this.fe=!1};function Lf(a,c){function d(){var f=400+100*Math.random();Hf(a,f);3>++e?a.Om[1]=setTimeout(d,f):c()}var e=0;d()};var Mf={},Nf,If=["#ff8b00","#c90015","#166c0b","#223068"],Of=!0,Pf=!0,Qf=null,Rf={},Sf=!1,Tf=null,Uf=null,Vf=null,Wf=null,Xf=null,Yf={},Zf=[],$f=[],ag=[],bg=0;
function cg(){function a(f){return function(){if(!h.g.o.Bq(c[f],"tab-disabled")){for(var g=0;g<c.length;g++)f==g?h.g.o.Wa(c[g],"tab-selected"):h.g.o.Bb(c[g],"tab-selected");e(f)}}}Jf=400;var c=Array.prototype.slice.call(document.querySelectorAll("#vizTabbar>.tab"));if(c.length){for(var d=0;d<c.length;d++)ke(c[d],a(d));var e=function(f){for(var g=["displayContent","charts"],k=0,l;l=g[k];k++){var m=document.getElementById(l);"displayContent"==l?m.style.visibility=k==f?"visible":"hidden":(Sf=k==f,k==
f&&dg(),m.style.display=k==f?"block":"none")}};e(0);eg()}Xf=document.getElementById("display")}function eg(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="https://www.gstatic.com/charts/loader.js";a.addEventListener("load",fg);document.head.appendChild(a)},1)}
function fg(){if("object"!=typeof google)throw Error('Loaded Google Charts API, but no "google" object.');google.charts.load("current",{packages:["corechart"]});google.charts.setOnLoadCallback(function(){function a(){this.colors=If;this.isStacked="relative";this.lineWidth=0;this.areaOpacity=.8;this.vAxis.maxValue=1}function c(){this.hAxis={title:"Time",titleTextStyle:{color:"#333"},format:"0"};this.vAxis={minValue:0};this.chartArea={left:"8%",top:"8%",width:"60%",height:"70%"};this.backgroundColor=
"white"}a.prototype=new c;var d=new c,e=new a,f=new a,g=new a;d.title="Population";d.colors=["#ADD8E6","#FFB5C1"];d.isStacked=!0;d.vAxis.maxValue=50;Tf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:d,containerId:"populationChart"});e.title="Pick Fight";Uf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:e,containerId:"pickFightChart"});f.title="Propose Mate";Vf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:f,containerId:"proposeMateChart"});
g.title="Accept Mate";Wf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:g,containerId:"acceptMateChart"});gg();Tf.draw();Uf.draw();Vf.draw();Wf.draw();h.g.o.Bb(document.querySelectorAll("#vizTabbar>.tab")[1],"tab-disabled")})}
function gg(){if(Tf){Tf.setDataTable(google.visualization.arrayToDataTable([[{label:"Time",type:"number"},{label:"Male",type:"number"},{label:"Female",type:"number"}]],!1));for(var a=[{label:"Time",type:"number"}],c=0,d;d=R[c];c++)a.push({label:d.name,type:"number"});Uf.setDataTable(google.visualization.arrayToDataTable([a],!1));Vf.setDataTable(google.visualization.arrayToDataTable([a],!1));Wf.setDataTable(google.visualization.arrayToDataTable([a],!1));hg=!0}}
function ig(){clearTimeout(bg);Of=!0;for(var a in Rf)Rf[a].stop()}
function jg(){ig();Sf=!1;kg=lg=0;Rf={};Yf.Male=0;Yf.Female=0;Zf.length=0;$f.length=0;for(var a=ag.length=0;a<R.length;a++)Zf.push(0),$f.push(0),ag.push(0);gg();mg.length=0;a=document.getElementById("playerNameRow");for(var c=document.getElementById("playerStatRow"),d=0,e;e=R[d];d++){var f=If[d],g=a.cells[d];g.style.borderColor=f;e=e.name;g.title=e;g.style.background=f;e=document.createTextNode(e);g.innerHTML="";g.appendChild(e);g=c.cells[d];g.style.borderColor=f;e={};var k=g.getElementsByClassName("pickFightStat")[0];
k&&(k.style.background=f,k.style.width=0,e.pickFightDiv=k);if(k=g.getElementsByClassName("proposeMateStat")[0])k.style.background=f,k.style.width=0,e.proposeMateDiv=k;if(k=g.getElementsByClassName("acceptMateStat")[0])k.style.background=f,k.style.width=0,e.acceptMateDiv=k;e.td=g;mg.push(e)}Xf.innerHTML=""}
function ng(){if(!Of){if(Pf){var a=!0;for(c in Rf)if(Rf[c].fe){a=!1;break}if(a){ig();if(Qf){a={pickFight:"",proposeMate:"",acceptMate:""};var c=["pickFight","proposeMate","acceptMate"];for(var d=0;d<c.length;d++)for(var e=c[d],f=Qf[e][0],g=0;f&&g<f.length;g++)a[e]+=R[f[g]].name+" ";X("Game ended with: PickFight Winners: "+a.pickFight+" proposeMate Winners: "+a.proposeMate+" acceptMate Winners: "+a.acceptMate)}Nf?(window.localStorage&&(window.localStorage["genetics"+M]=xe()),O.vF(),X("Level Succeeded")):
Qf||X("Level Failed");return}}else{for(;kg<of.length;){c=pf?of[kg++]:of.shift();a=void 0!==c.ID?Rf[c.ID]:null;if(void 0===a)throw Error("Event has no mouse.");d=void 0!==c.OPT_OPPONENT?Rf[c.OPT_OPPONENT]:null;e=void 0!==c.OPT_PARTNER?Rf[c.OPT_PARTNER]:null;if(a&&a.fe||d&&d.fe||e&&e.fe){Mf.SL?kg--:of.unshift(c);break}switch(c.TYPE){case "ADD":a=og(c.MOUSE);pg(a,400*Math.random()-40,400*Math.random()-40,!1,a.$e.bind(a));break;case "START_GAME":X("Starting game with "+R.length+" players.");break;case "NEXT_ROUND":lg++;
break;case "FIGHT":qg(c,a,d);break;case "MATE":rg(c,a,e);break;case "RETIRE":sg(a,"RETIRE");X(Y(a)+" dies after a productive life.");break;case "OVERPOPULATION":sg(a,"OVERPOPULATION");X("Cage has gotten too cramped "+Y(a)+" can't compete with the younger mice and dies.");break;case "EXPLODE":d=c.SOURCE;c=c.CAUSE;sg(a,"EXPLOSION");X(Y(a)+" exploded in "+d+' because "'+c+'"');break;case "END_GAME":Pf=!0;Nf=c.IS_SUCCESS;Qf=c.OPT_RANKINGS;break;default:throw Error("unhandled visualization event "+JSON.stringify(c));
}}dg()}bg=setTimeout(ng,50)}}var hg=!0,mg=[];function tg(){for(var a=Yf.Male+Yf.Female,c=0;c<mg.length;c++){var d=mg[c],e=100*Zf[c]/a||0;d.pickFightDiv&&(d.pickFightDiv.style.width=e+"%");var f=100*$f[c]/a||0;d.proposeMateDiv&&(d.proposeMateDiv.style.width=f+"%");var g=100*ag[c]/a||0;d.acceptMateDiv&&(d.acceptMateDiv.style.width=g+"%");d.td.title="pickFight "+Math.round(100*e)/100+"%\nproposeMate "+Math.round(100*f)/100+"%\nacceptMate "+Math.round(100*g)/100+"%"}}
function dg(){hg&&Sf&&(Tf.draw(),Uf.draw(),Vf.draw(),Wf.draw(),hg=!1)}var lg=0,kg=0;function qg(a,c,d){var e=a.RESULT;"NONE"==e?(c.fe=!0,ug(c,"genetics/peace.png",40,1E3,function(){X(Y(c)+" elected to never fight again.");c.$e()})):(a=function(){c.$e();"SELF"!=e&&d.$e()},c.fe=!0,"SELF"==e?vg(c,c,e,a):(d.fe=!0,wg(c,d,vg.bind(null,c,d,e,a))))}var xg=!0;
function rg(a,c,d){var e=a.RESULT;if("NONE"==e)X(Y(c)+" elected to never mate again.");else if("SELF"==e)c.fe=!0,ug(c,"genetics/heart.png",40,1E3,function(){X(Y(c)+" caught trying to mate with itself.");c.$e()});else if("MATE_EXPLODED"==e)X(Y(d)+" exploded after "+Y(c)+" asked it out.");else if("REJECTION"==e){var f=(parseInt(c.element.style.left,10)+parseInt(d.element.style.left,10))/2+20,g=(parseInt(c.element.style.top,10)+parseInt(d.element.style.top,10))/2+20;c.fe=!0;d.fe=!0;wg(c,d,ug.bind(null,
c,"genetics/broken-heart.png",40,1E3,function(){X(Y(c)+" asked "+Y(d)+" to mate, the answer is NO!");c.$e(xg);d.$e(xg)}))}else{X(Y(c,!0,!0)+" asked "+Y(d,!0,!0)+" to mate, the answer is YES!");f=(parseInt(c.element.style.left,10)+parseInt(d.element.style.left,10))/2+20;g=(parseInt(c.element.style.top,10)+parseInt(d.element.style.top,10))/2+20;if("SUCCESS"==e){var k=og(a.OPT_OFFSPRING);var l="genetics/heart.png"}else if("INCOMPATIBLE"==e){var m=Y(c)+" mated with "+Y(d)+", another "+c.Ob+".";l="genetics/rainbow-heart.png"}else"INFERTILE"==
e&&(m="Mating between "+Y(c)+" and "+Y(d)+" failed because "+Y(d)+" is sterile.",l="genetics/grey-heart.png");c.fe=!0;d.fe=!0;wg(c,d,yg.bind(null,l,f,g,50,700,function(){"SUCCESS"==e?pg(k,f,g,!0,k.$e.bind(k)):X(m);c.$e(xg);d.$e(xg)}))}}function zg(){if(Tf){Tf.getDataTable().addRow([lg,Yf.Male,Yf.Female]);for(var a=[lg],c=[lg],d=[lg],e=0;e<R.length;e++)a.push(Zf[e]),c.push($f[e]),d.push(ag[e]);Uf.getDataTable().addRow(a);Vf.getDataTable().addRow(c);Wf.getDataTable().addRow(d);hg=!0}}
function Y(a,c,d){var e="Monica Danielle Zena Brianna Katie Lacy Leela Suzy Saphira Missie Flo Lisa".split(" "),f="Neil Chris Charlie Camden Rick Dean Xavier Zeke Han Samuel Wade Patrick".split(" "),g="("+R[a.yd].name+"/"+R[a.pd].name+"/"+R[a.wd].name+")",k="[id:"+a.id+"/size:"+a.size+"/sex: "+a.Ob+"]";f="Female"==a.Ob?e:f;e=f[a.id%f.length||0];a=Math.floor(a.id/f.length)+1;if(1<a){f="M CM D CD C XC L XL X IX V IV I".split(" ");var l=[1E3,900,500,400,100,90,50,40,10,9,5,4,1];if(!(0>=a||4E3<=a)){for(var m=
"",n=0;n<f.length;n++)for(;a>=l[n];)a-=l[n],m+=f[n];a=m}e+=" "+a}d&&(e+=" "+g);c&&(e+=" "+k);return e}function sg(a,c){a.stop();Xf.removeChild(a.element);delete Rf[a.id];if("FIGHT"!=c){var d=parseInt(a.element.style.left)+20,e=parseInt(a.element.style.top)+20;"EXPLOSION"==c?yg("genetics/explode.png",d,e,40,1E3):"OVERPOPULATION"==c?yg("genetics/kickedOut.png",d,e,40,1E3):yg("genetics/retire.png",d,e,40,1E3)}Yf[a.Ob]--;Zf[a.wd]--;$f[a.yd]--;ag[a.pd]--;zg();tg()}
function wg(a,c,d){function e(){if(q){var r=Math.atan2(l-n,k-m);a.setDirection(r);c.setDirection(r+Math.PI);d()}q=!0}var f=parseInt(a.element.style.left,10),g=parseInt(a.element.style.top,10),k=(f+parseInt(c.element.style.left,10))/2,l=(g+parseInt(c.element.style.top,10))/2;g=Math.atan2(g-l,f-k);f=20*Math.cos(g);g=20*Math.sin(g);var m=k+f,n=l+g;f=k-f;g=l-g;var q=!1;a.move(m,n,e);c.move(f,g,e)}
function vg(a,c,d,e){function f(l){l.target==g&&(g.removeEventListener("animationend",f,!1),a.element.style.display="",c.element.style.display="","WIN"==d?(X(Y(a)+" fights and kills "+Y(c)+"."),sg(c,"FIGHT")):"LOSS"==d?(X(Y(a)+" fights and is killed by "+Y(c)+"."),sg(a,"FIGHT")):"TIE"==d?X(Y(a)+" fights "+Y(c)+" to a draw."):(sg(a,"FIGHT"),X(Y(a)+" chose itself when asked whom to fight with. "+Y(a)+" is being executed to put it out of its misery.")),g.parentNode.removeChild(g),e())}var g=document.getElementById("dust").cloneNode(!0),
k=(parseInt(a.element.style.left,10)+parseInt(c.element.style.left,10))/2+20-25;g.style.top=(parseInt(a.element.style.top,10)+parseInt(c.element.style.top,10))/2+20-25+"px";g.style.left=k+"px";g.addEventListener("animationend",f,!1);Xf.appendChild(g);a.element.style.display="none";c.element.style.display="none"}
function pg(a,c,d,e,f){function g(k){k.target==a.element&&(e?X(Y(a,!0,!0)+" was born!"):X(Y(a,!0,!0)+" added to game."),Yf[a.Ob]++,Zf[a.wd]++,$f[a.yd]++,ag[a.pd]++,e&&zg(),tg(),a.element.style.animationName="none",a.element.removeEventListener("animationEnd",g,!1),f())}d=h.g.oc.Se(d-20,0,355);a.element.style.left=h.g.oc.Se(c-20,0,360)+"px";a.element.style.top=d+"px";a.element.addEventListener("animationend",g,!1);a.element.style.animation="bounceIn 500ms";a.element.style.display="block"}
function ug(a,c,d,e,f){Kf(a);yg(c,parseInt(a.element.style.left,10)+20,parseInt(a.element.style.top,10)+20,d,e,f)}function yg(a,c,d,e,f,g){var k=document.createElement("img");k.src=a;k.style.width=e+"px";k.style.height=e+"px";k.style.position="absolute";k.style.left=c-e/2+"px";k.style.top=d-e/2+"px";k.addEventListener("animationend",function(l){l.target==k&&(k.parentNode.removeChild(k),g&&g())},!1);k.style.animation="bounceIn "+f+"ms";Xf.appendChild(k)}
function og(a){a=new Ff(a);Rf[a.id]=a;a.element.style.display="none";Xf.appendChild(a.element);return a};var Ag=Ag||{};function Bg(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.GL=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!Cg){var Cg,Dg="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(Dg=navigator.userAgent);var Eg=0==Dg.indexOf("Opera");Cg={ZL:{$J:"ScriptEngine"in window},JK:Eg,sf:!Eg&&-1!=Dg.indexOf("MSIE"),Ey:!Eg&&-1!=Dg.indexOf("WebKit")}}if(!Fg)var Fg={};
if(!Gg)var Gg={};if(!Hg)var Hg={};if(!Ig)var Ig={};if(!Jg)var Jg={};if(!Kg)var Kg={};var Lg=Ag.sJ?{fM:!0}:{};function Mg(){throw Error("Do not instantiate directly");}Mg.prototype.iz=null;Mg.prototype.toString=function(){return this.content};function Ng(a){if(null!=a)switch(a.iz){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Og(){Mg.call(this)}Bg(Og,Mg);Og.prototype.yF=Lg;function Z(a){return null!=a&&a.yF===Lg?a:Pg(String(String(a)).replace(Qg,Rg),Ng(a))}
var Pg=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.iz=e);return f}}(Og),Sg={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Rg(a){return Sg[a]}var Qg=/[\x00\x22\x26\x27\x3c\x3e]/g;function Tg(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Ug(){var a='<table width="100%"><tr><td><h1><span id="title">'+((ce?'<a href="index.html?lang='+Z(ae)+'">':'<a href="./?lang='+Z(ae)+'">')+"Blockly Games</a>"+Z("Genetics")+"</span>");if(M){var c="";for(var d=" &nbsp; ",e=11,f=1;f<e;f++){var g="?lang="+Z(ae)+"&level="+Z(f)+(c?"&"+Z(c):"");d+=" "+(f==M?'<span class="level_number level_done " id="level'+Z(f)+'">'+Z(f)+"</span>":10==f?'<a class="level_number" id="level'+Z(f)+'" href="'+Z(g)+'">'+Z(f)+"</a>":'<a class="level_dot" id="level'+
Z(f)+'" href="'+Z(g)+'"></a>')}c=d}else c="";a=a+c+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;<button id="helpButton">Help</button></td></tr></table>';c='<div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>'+Tg()+"</div>";d='<div id="visualization">'+(9<=M?'<div id="vizTabbar" class="tab-bar"><div class="tab tab-selected">Visualization</div><div class="tab tab-disabled">Charts</div></div><div class="tab-bar-clear"></div>':
"")+'</style><div id="gameElements" style="display:none;"><div id="dust" class="dust"><div class="cloud cloud1"></div><div class="cloud cloud2"></div><p class="star1">&#9734;</p><p class="star2">&#9734;</p><p class="star3">&#9734;</p><p class="star4">&#9734;</p></div></div><div class="vizTabContent"><div id="displayContent"><div id="display"></div></div>'+(9<=M?'<div id="charts"><div id="populationChart"></div><div id="pickFightChart"></div><div id="proposeMateChart"></div><div id="acceptMateChart"></div></div>':
"")+'</div></div><table class="playerStatTable"><tbody><tr id="playerNameRow">';for(e=0;4>e;e++)d+='<td class="playerStatName"></td>';d+='<tr id="playerStatRow">';for(e=0;4>e;e++)d+='<td><div class="mouseFunctionIcons"></div><div class="pickFightStat"></div>'+(5<=M?'<div class="proposeMateStat"></div>'+(7<=M?'<div class="acceptMateStat"></div>':""):"")+"</td>";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Genetics_tutorEnemy">Enemy</span><span id="Genetics_simpleName">Simple</span><span id="Genetics_aggressiveName">Aggressive</span><span id="Genetics_highBreedingName">High Breeding</span><span id="Genetics_variantName">Variant</span><span id="Genetics_myName">Player</span><span id="Genetics_getMiceTooltip">Returns all other alive mice in the game.</span><span id="Genetics_getSelfTooltip">Returns the mouse making the decision.</span><span id="Genetics_pickFightTooltip">Defines the function for picking a mouse to fight against.</span><span id="Genetics_proposeMateTooltip">Defines the function for choosing a mouse to mate with.</span><span id="Genetics_acceptMateTooltip">Defines the function for the answer to a mate request.</span><span id="Genetics_sizeTooltip">Reports the size of the specified mouse.</span><span id="Genetics_aggressivenessTooltip">Reports the aggressiveness of the specified mouse.</span><span id="Genetics_fertilityTooltip">Reports the fertility of the specified mouse.</span><span id="Genetics_startFertilityTooltip">Reports the starting fertility of the specified mouse.</span><span id="Genetics_sexTooltip">Reports the sex of the specified mouse.</span><span id="Genetics_ageTooltip">Reports the age of the specified mouse.</span><span id="Genetics_idTooltip">Reports the id of the specified mouse.</span><span id="Genetics_pickFightOwnerTooltip">Reports the owner of the pickFight function of the specified mouse.</span><span id="Genetics_proposeMateOwnerTooltip">Reports the owner of the proposeMate function of the specified mouse.</span><span id="Genetics_acceptMateOwnerTooltip">Reports the owner of the acceptMate function of the specified mouse.</span></div>'+
a+(d+'</tr></tbody></table><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><button id="docsButton" title="Display the language documentation.">Documentation</button></td><td><button id="runButton" class="primary" title="Run the program you wrote."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Stop the program and reset the level."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><div id="dialogDocs" style="display: none"><img src="common/1x1.gif" class="close icon21" id="closeDocs"><iframe id="frameDocs"></iframe></div>')+
(8<M?'<div id="tabarea"><div id="editorBar" class="tab-bar"><div class="tab tab-selected">Blocks</div><div class="tab">JavaScript</div></div><div class="tab-bar-clear"></div>':"")+(8<M||1==M%2?'<div id="blockly"></div>':"")+(8<M||0==M%2?'<div id="editor"></div>':"")+(8<M?"</div>":"")+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><category name="Genetics"><block type="genetics_getMice"></block>'+(4<=M?'<block type="genetics_getSelf"></block>':"")+(3<=M?'<block type="genetics_getProperties"></block>':
"")+(9<=M?'<block type="genetics_sex"></block>':"")+'</category><category name="Lists">'+(9<=M?'<block type="lists_create_with"><mutation items="0"></mutation></block>':"")+(2<=M?'<block type="lists_length"></block>':"")+'<block type="lists_getIndex"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value><value name="AT"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>'+(9<=M?'<block type="lists_setIndex"><value name="AT"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>':
"")+"</category>"+(3<=M?'<category name="Logic"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block>'+(7<=M?'<block type="logic_boolean"></block>':"")+(9<=M?'<block type="logic_negate"></block>':"")+'<block type="logic_null"></block></category><category name="Loops"><block type="controls_for"><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value></block><block type="controls_whileUntil"></block><block type="controls_flow_statements"></block></category>':
"")+'<category name="Math"><block type="math_number"></block>'+(2<=M?'<block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>':"")+(9<=M?'<block type="genetics_math_randomInt"><value name="MIN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="MAX_VALUE"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="math_random_float"></block>':
"")+"</category>"+(3<=M?'<sep></sep><category name="Variables" custom="VARIABLE"></category>':"")+(9<=M?'<category name="Functions" custom="PROCEDURE"></category>':"")+'</xml>\n<div id="playerTutor" style="display: none">\n/* Tutor player */\nvar suitor;\nfunction pickFight() {\n  return null;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  for (var i = 0, mouse; (mouse = mice[i]); i++) {\n    if (mouse.id == 0) {\n      return mouse;\n    }\n  }\n  // Should not get here.\n  return null;\n}\nfunction acceptMate(suitor) {\n  return true;\n}\n</div>\n\n<div id="playerSimple" style="display: none">\n/* Simple player */\nvar suitor;\nfunction pickFight() {\n  var mice = getMice();\n  var opponent = mice[Math.randomInt(0,mice.length-1)];\n  return opponent;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  var mate = mice[Math.randomInt(0,mice.length-1)];\n  return mate;\n}\nfunction acceptMate(suitor) {\n  return true;\n}\n</div>\n\n<div id="playerAggressive" style="display: none">\n/* Aggressive player */\nvar suitor;\nfunction pickFight() {\n  var targetOwner = getSelf().pickFightOwner;\n  var mice = getMice();\n  // Choose the biggest opponent, smaller than itself.\n  var opponent = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that mouse is smaller than self and doesn\'t share function owner.\n    if (mouse.size < getSelf().size && mouse.pickFightOwner != targetOwner &&\n        mouse.proposeMateOwner != targetOwner && mouse.acceptMateOwner != targetOwner) {\n      // Set opponent choice if opponent is biggest we have seen.\n      if (!opponent || mouse.size > opponent.size) {\n        opponent = mouse;\n      }\n    }\n  }\n  return opponent;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  // Choose the biggest valid mate.\n  var mate = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that potential mate is valid.\n    if (mouse != getSelf() && mouse.sex != getSelf().sex && mouse.fertility > 0) {\n      // Set mate choice if new mate is biggest we have seen.\n      if (!mate || mouse.size > mate.size) {\n        mate = mouse;\n      }\n    }\n  }\n  return mate;\n}\nfunction acceptMate(suitor) {\n  return suitor.proposeMateOwner == getSelf().acceptMateOwner ||\n      suitor.sex != getSelf().sex && suitor.size > getSelf().size;\n}\n</div>\n\n<div id="playerHighBreeding" style="display: none">\n/* High Breeding player */\nvar suitor;\nfunction pickFight() {\n  // Always choose not to fight.\n  return null;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  // Choose the mate with the highest fertility gene.\n  var mate = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that potential mate is valid.\n    if (mouse != getSelf() && mouse.sex != getSelf().sex && mouse.fertility > 0) {\n      // Change mate choice if new mate would pass on higher fertility.\n      if (!mate || mouse.startingFertility > mate.startingFertility) {\n        mate = mouse;\n      }\n    }\n  }\n  return mate;\n}\nfunction acceptMate(suitor) {\n    return suitor.proposeMateOwner == getSelf().acceptMateOwner ||\n        suitor.sex != getSelf().sex && suitor.startingFertility > getSelf().startingFertility;\n}\n</div>\n<div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div>')+
c+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==M?"Use getMice() to get the list of other mice in the game.<BR>Use the []'s on the list of mice to get the FIRST element in the list and return it in pickFight.":2==M?"Use getMice() to get the list of other mice in the game.<BR>Use the []'s on the list of mice to get the LAST element in the list and return it in pickFight.<BR>You can get the length of the list with .length.":3==M||4==M?(3==M?"Bigger mice are more likely to win in a fight. Return a mouse that is smaller than 2 in pickFight.<BR>":
4==M?"Bigger mice are more likely to win in a fight. Return a mouse that is smaller than yourself in pickFight.<BR>":"")+"Use .size to get the size of a mouse."+(3==M?'<br><br><img src="genetics/docs/sizeProperty.png" height=40 width=162>':4==M?"<pre>mouse.size</pre><pre>getSelf()</pre>":""):5==M||6==M?"Mice mate to pass on their functions to their children. If the other mate accepts a mate request and the mate is valid, a child is born.\n"+(5==M?'Return a mouse that is fertile (fertility greater than 0) and of the opposite sex.<br><br><img src="genetics/docs/fertilityProperty.png" height=43 width=180><br><br><img src="genetics/docs/sexProperty.png" height=55 width=178><br><br>':
6==M?"Return a mouse that is fertile (fertility greater than 0), of the opposite sex, and is bigger than yourself.<pre>mouse.fertility</pre><pre>mouse.sex</pre>":""):7==M||8==M?"Mice answer mating requests with acceptMate. Accepting will use up some fertility but will make a child.<BR>"+(7==M?"Return true in acceptMate if the suitor is of the opposite sex.":8==M?"Return true in acceptMate if the suitor is of the opposite sex and bigger than yourself.":""):9==M?"Write your own implementations for the mouse functions and compete to try to get majority of each function in the cage.<BR>WARNING: This level does not save.":
10==M?"Write your own implementations for the mouse functions and compete to try to get majority of each function in the cage. Watch out, these mice are much smarter than before.<BR>WARNING: This level does not save.":"")+"</div>"+Tg()+"</div>"};var Vg=null,Wg=!0;
function Xg(){if(1==M)var a=[{id:0,Sb:0,x:200,y:300,direction:-Math.PI/2,size:2,Af:1},{id:1,Sb:3,x:300,y:100,direction:Math.PI/2,size:3},{id:2,Sb:2,x:200,y:100,direction:Math.PI/2,size:2},{id:3,Sb:1,x:100,y:100,direction:Math.PI/2,size:1}];else if(2==M)a=[{id:0,Sb:0,x:200,y:300,direction:-Math.PI/2,size:2,Af:1},{id:1,Sb:3,x:300,y:100,direction:Math.PI/2,size:1},{id:2,Sb:2,x:200,y:100,direction:Math.PI/2,size:2},{id:3,Sb:1,x:100,y:100,direction:Math.PI/2,size:2}];else{if(4>=M)a=[{id:0,Sb:0,x:200,y:200,
direction:-Math.PI/2,size:2,Af:3},{id:1,Sb:1,x:150,y:100,direction:Math.PI/2,size:3},{id:2,Sb:2,x:250,y:300,direction:Math.PI/2,size:3},{id:3,Sb:3,x:300,y:200,direction:Math.PI/2,size:2},{id:4,Sb:1,x:250,y:100,direction:Math.PI/2,size:1},{id:5,Sb:2,x:150,y:300,direction:Math.PI/2,size:1},{id:6,Sb:3,x:100,y:200,direction:Math.PI/2,size:1}];else if(8>=M)a=[{id:0,Sb:0,x:200,y:200,direction:-Math.PI/2,size:2,Ze:5},{id:1,Sb:1,x:150,y:100,direction:Math.PI/2,size:3,Ob:"Male"},{id:2,Sb:2,x:250,y:300,direction:Math.PI/
2,size:3,Ob:"Female"},{id:3,Sb:3,x:300,y:200,direction:Math.PI/2,size:3,Ob:"Male"},{id:4,Sb:1,x:250,y:100,direction:Math.PI/2,size:3,Ob:"Female"},{id:5,Sb:2,x:150,y:300,direction:Math.PI/2,size:2,Ob:"Female"},{id:6,Sb:3,x:100,y:200,direction:Math.PI/2,size:2,Ob:"Male"}];else{a=[];for(var c=0,d=0;4>d;d++)for(var e=0;2>e;e++)a.push({id:c++,Ob:0==e%2?"Male":"Female",Sb:d})}e=a;for(c=e.length-1;0<c;c--){d=Math.floor(Math.random()*(c+1));var f=e[c];e[c]=e[d];e[d]=f}}e=0;for(var g;g=a[e];e++)d=new jf(g.id,
g.Ob||(.5<Math.random()?"Male":"Female"),g.Sb),null!=g.size&&(d.size=g.size),null!=g.Ze&&(d.Ze=g.Ze),null!=g.Af&&(d.Af=g.Af),c=d,T[c.id]=c,S.unshift(c),8>=M?(c=g.x,f=g.y,g=g.direction,d=og(d),d.setDirection(g),f=h.g.oc.Se(f-20,0,355),d.element.style.left=h.g.oc.Se(c-20,0,360)+"px",d.element.style.top=f+"px",Yf[d.Ob]++,Zf[d.wd]++,$f[d.yd]++,ag[d.pd]++,tg(),d.element.style.display="block",d.$e(),X(Y(d,!0,!0)+" added to game.")):V(new U("ADD",d))}
function Yg(){switch(M){case 1:case 2:for(var a=0,c;c=of[a];a++){if("FIGHT"==c.TYPE)return V(new U("END_GAME","WIN"==c.RESULT)),!0;if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE)return V(new U("END_GAME",!1)),!0}return!1;case 3:case 4:var d=0;for(a=0;c=of[a];a++)if("FIGHT"==c.TYPE)if("WIN"==c.RESULT){if(d++,3==d)return V(new U("END_GAME",!0)),!0}else return V(new U("END_GAME",!1)),!0;else if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE)return V(new U("END_GAME",!1)),!0;return!1;case 5:case 6:for(a=d=
0;c=of[a];a++)if("MATE"==c.TYPE)if("SUCCESS"==c.RESULT){if(6==M&&2>=T[c.OPT_PARTNER].size)return V(new U("END_GAME",!1)),!0;d++;if(5==d)return V(new U("END_GAME",!0)),!0}else return V(new U("END_GAME",!1)),!0;else if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE)return V(new U("END_GAME",!1)),!0;return!1;case 7:case 8:for(a=d=0;c=of[a];a++)if("MATE"==c.TYPE)if("SUCCESS"==c.RESULT){if(8==M&&2>=T[c.ID].size)return V(new U("END_GAME",!1)),!0;d++;if(5==d)return V(new U("END_GAME",!0)),!0}else if("REJECTION"==
c.RESULT){var e=T[0];c=T[c.ID];if(e.Ob!=c.Ob&&(8!=M||e.size<c.Ob))return V(new U("END_GAME",!1)),!0}else return V(new U("END_GAME",!1)),!0;else if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE&&"RETIRE"!=c.TYPE)return V(new U("END_GAME",!1)),!0;return!1;default:throw Error("unhandled checkForLevelEnd for level "+M);}}function Zg(){}function $g(){}
function ah(a){if(!Ie(a)){a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";bh()}}function ch(a){Ie(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",uf(),jg(),Gf=!0,Xg())}
function bh(){if("Interpreter"in window){Gf=2>=M;var a=8>=M?Yg:null;a&&(Df=a);lf=!1;sf=S.length;a=0;for(var c;c=R[a];a++)"function"==typeof c.code&&(c.gF=vf+"\n"+c.code());V(new U("START_GAME"));zf();Pf=!1;Qf=null;Of=!1;ng()}else setTimeout(bh,250)}function dh(){var a=document.getElementById("help"),c=document.getElementById("helpButton");O.Br(a,c,!0,!0,{width:"50%",left:"25%",top:"5em"},O.QB);O.LB()}
function eh(a){for(var c=["blockly","editor"],d=0,e;e=c[d];d++)e=document.getElementById(e),e.style.visibility=d==a?"visible":"hidden";c=[".blocklyTooltipDiv",".blocklyToolboxDiv"];for(d=0;e=c[d];d++)e=document.querySelector(e),e.style.visibility=0==a?"visible":"hidden";1!=a||ve||(a=Ce(),Wg=!0,ue.setValue(a,-1),Wg=!1)}
function fh(){if(!Wg){var a=Be();ve?a.trim()||(A.clear(),h.g.o.Bb(Vg[0],"tab-disabled"),ve=!1):!A.lc(!1).length||confirm(N("Games_breakLink"))?(h.g.o.Wa(Vg[0],"tab-disabled"),ve=!0):(Wg=!0,ue.setValue(a,-1),Wg=!1)}}function X(a){console.log(a)}
window.addEventListener("load",function(){function a(z){return function(){if(!h.g.o.Bq(c[z],"tab-disabled")){for(var H=0;H<c.length;H++)z==H?h.g.o.Wa(c[H],"tab-selected"):h.g.o.Bb(c[H],"tab-selected");eh(z)}}}document.body.innerHTML=Ug();we();cg();ke("runButton",ah);ke("resetButton",ch);ke("docsButton",Zg);ke("closeDocs",$g);Le();if(8<M){for(var c=Array.prototype.slice.call(document.querySelectorAll("#editorBar>.tab")),d=0;d<c.length;d++)ke(c[d],a(d));Vg=c}ke("helpButton",dh);2>location.hash.length&&
!ie(M)&&setTimeout(dh,1E3);var e=-1!=$d.indexOf(ae),f=document.getElementById("visualization"),g=document.getElementById("tabarea"),k=document.getElementById("blockly");if((d=document.getElementById("editor"))&&k)var l=[k,d],m=function(){var z=f.offsetTop;g.style.top=z-window.pageYOffset+"px";g.style.left=e?"10px":"420px";g.style.width=window.innerWidth-440+"px";z=Math.max(0,z+g.offsetHeight-window.pageYOffset)+"px";for(var H=e?"10px":"420px",W=window.innerWidth-440+"px",ia=0,Qa;Qa=l[ia];ia++)Qa.style.top=
z,Qa.style.left=H,Qa.style.width=W};else{var n=k||d;m=function(){n.style.top=Math.max(10,f.offsetTop-window.pageYOffset)+"px";n.style.left=e?"10px":"420px";n.style.width=window.innerWidth-440+"px"}}window.addEventListener("scroll",function(){m(null);k&&h.dm(A)});window.addEventListener("resize",m);m(null);if(d){d=document.getElementById("containerCode");d.parentNode.removeChild(d);d="";switch(M){case 2:d="/**\n * Return the last mouse from getMice().\n * @return {Mouse|null} The mouse chosen to fight with.\n */\nfunction pickFight() {\n  return null;\n}";
break;case 4:d="/**\n * Return a mouse from getMice() that is smaller than itself.\n * @return {Mouse|null} The mouse chosen to fight with.\n */\nfunction pickFight() {\n  for (var i = 0; i < getMice().length; i++) {\n    var mouse = getMice()[i];\n  }\n  return null;\n}";break;case 6:d="/**\n * Return a mouse from getMice() that is fertile, of the opposite sex,\n * and bigger than itself.\n * @return {Mouse|null} The mouse chosen to attempt to mate with.\n */\nfunction proposeMate() {\n  for (var i = 0; i < getMice().length; i++) {\n    var mouse = getMice()[i];\n  }\n  return null;\n}";
break;case 8:d="/**\n *  Return true if the suitor mouse is of the opposite sex and bigger than itself.\n *  @param {Mouse} suitor the mouse requesting to mate.\n *  @return {Boolean} Whether the mate request is accepted.\n */\nfunction acceptMate(suitor) {\n  return false;\n}"}Ne().on("change",fh);d&&Ae(d+"\n");Me()}if(k){Ee();D(A,h.i.Cz);switch(M){case 1:var q='<xml><block type="genetics_pickFight" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return the first mouse from getMice().\n@return {Mouse|null} The mouse chosen to fight with.</comment></block></xml>';
break;case 3:q='<xml><block type="genetics_pickFight" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return a mouse from getMice() that is smaller than 2.\n@return {Mouse|null} The mouse chosen to fight with.</comment><statement name="STACK"><block type="controls_for"><field name="VAR">i</field><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value><statement name="DO"><block type="variables_set"><field name="VAR">mouse</field><value name="VALUE"><block type="lists_getIndex"><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="genetics_getMice"></block></value><value name="AT"><block type="variables_get"><field name="VAR">i</field></block></value></block></value></block></statement></block></statement></block></xml>';
break;case 5:q='<xml><block type="genetics_proposeMate" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return a mouse from getMice() that is fertile and of the opposite sex.\n@return {Mouse|null} The mouse chosen to attempt to mate with.</comment><statement name="STACK"><block type="controls_for"><field name="VAR">i</field><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value><statement name="DO"><block type="variables_set" ><field name="VAR">mouse</field><value name="VALUE"><block type="lists_getIndex"><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="genetics_getMice"></block></value><value name="AT"><block type="variables_get"><field name="VAR">i</field></block></value></block></value></block></statement></block></statement></block></xml>';
break;case 7:q='<xml><block type="genetics_acceptMate" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return true if the suitor mouse is of the opposite sex.\n@param {Mouse} suitor the mouse requesting to mate.\n@return {Boolean} Whether the mate request is accepted.</comment></block></xml>'}q&&Ae(q)}Te(h.m,"pickFight,proposeMate,acceptMate");g&&(d=h.R.bj('<xml><block type="genetics_pickFight" deletable="false" editable="true" x="0" y="150"><comment pinned="false" h="65" w="560">Return a mouse from cage to pick a fight with. Returning itself will kill the mouse and returning null will result in no fights.\n@return {Mouse|null} The mouse chosen to fight with.</comment><value name="RETURN"><shadow type="logic_null"></shadow></value></block><block type="genetics_proposeMate" deletable="false" editable="true" x="0" y="350"><comment pinned="false" h="80" w="590">Return a mouse from cage to attempt to mate with. If the mate chosen accepts, is fertile, and is of the opposite sex, then a child will be born.\n@return {Mouse|null} The mouse chosen to attempt to mate with.</comment><value name="RETURN"><shadow type="logic_null"></shadow></value></block><block type="genetics_acceptMate" deletable="false" editable="true" x="0" y="550"><comment pinned="false" h="80" w="560">Return true to agree to a mate request or false to decline a mate request.\n@param {Mouse} suitor the mouse requesting to mate.\n@return {Boolean} Whether the mate request is accepted.</comment><value name="RETURN"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow></value></block></xml>'),
A.clear(),h.R.oi(d,A),Ga());ve=null==k;8>=M?(q=[{name:"Genetics_myName",code:null},{name:"Genetics_tutorEnemy",code:"playerTutor"},{name:"Genetics_tutorEnemy",code:"playerTutor"},{name:"Genetics_tutorEnemy",code:"playerTutor"}],xg=!1,tf=pf=!0,wf=6>=M,yf=5<=M,xf=7==M||8==M,vf=document.getElementById("playerTutor").textContent):q=9==M?[{name:"Genetics_myName",code:null},{name:"Genetics_simpleName",code:"playerSimple"},{name:"Genetics_simpleName",code:"playerSimple"},{name:"Genetics_simpleName",code:"playerSimple"}]:
[{name:"Genetics_myName",code:null},{name:"Genetics_aggressiveName",code:"playerAggressive"},{name:"Genetics_highBreedingName",code:"playerHighBreeding"},{name:"Genetics_simpleName",code:"playerSimple"}];var r;for(d=0;r=q[d];d++){var x=r.code?document.getElementById(r.code).textContent:Be;r=N(r.name);R.push({name:r,code:x})}uf();jg();Gf=!0;Xg();g&&(eh(0),Wg=!1)});
